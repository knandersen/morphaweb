var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{};function e(t){return t&&t.__esModule?t.default:t}var n={},r={},i=t.parcelRequire5329;null==i&&((i=function(t){if(t in n)return n[t].exports;if(t in r){var e=r[t];delete r[t];var i={id:t,exports:{}};return n[t]=i,e.call(i.exports,i,i.exports),i.exports}var a=new Error("Cannot find module '"+t+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(t,e){r[t]=e},t.parcelRequire5329=i),i.register("5i85R",(function(e,n){(function(){var r,i="Expected a function",a="__lodash_hash_undefined__",s="__lodash_placeholder__",o=16,u=32,l=64,h=128,c=256,f=1/0,d=9007199254740991,p=NaN,v=4294967295,m=[["ary",h],["bind",1],["bindKey",2],["curry",8],["curryRight",o],["flip",512],["partial",u],["partialRight",l],["rearg",c]],g="[object Arguments]",y="[object Array]",b="[object Boolean]",w="[object Date]",k="[object Error]",_="[object Function]",A="[object GeneratorFunction]",C="[object Map]",P="[object Number]",I="[object Object]",S="[object Promise]",x="[object RegExp]",M="[object Set]",E="[object String]",O="[object Symbol]",R="[object WeakMap]",T="[object ArrayBuffer]",j="[object DataView]",L="[object Float32Array]",D="[object Float64Array]",B="[object Int8Array]",z="[object Int16Array]",W="[object Int32Array]",F="[object Uint8Array]",U="[object Uint8ClampedArray]",V="[object Uint16Array]",N="[object Uint32Array]",H=/\b__p \+= '';/g,X=/\b(__p \+=) '' \+/g,q=/(__e\(.*?\)|\b__t\)) \+\n'';/g,G=/&(?:amp|lt|gt|quot|#39);/g,$=/[&<>"']/g,Z=RegExp(G.source),Q=RegExp($.source),Y=/<%-([\s\S]+?)%>/g,J=/<%([\s\S]+?)%>/g,K=/<%=([\s\S]+?)%>/g,tt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,et=/^\w*$/,nt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,rt=/[\\^$.*+?()[\]{}|]/g,it=RegExp(rt.source),at=/^\s+/,st=/\s/,ot=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ut=/\{\n\/\* \[wrapped with (.+)\] \*/,lt=/,? & /,ht=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ct=/[()=,{}\[\]\/\s]/,ft=/\\(\\)?/g,dt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,pt=/\w*$/,vt=/^[-+]0x[0-9a-f]+$/i,mt=/^0b[01]+$/i,gt=/^\[object .+?Constructor\]$/,yt=/^0o[0-7]+$/i,bt=/^(?:0|[1-9]\d*)$/,wt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,kt=/($^)/,_t=/['\n\r\u2028\u2029\\]/g,At="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Ct="\\u2700-\\u27bf",Pt="a-z\\xdf-\\xf6\\xf8-\\xff",It="A-Z\\xc0-\\xd6\\xd8-\\xde",St="\\ufe0e\\ufe0f",xt="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Mt="['’]",Et="[\\ud800-\\udfff]",Ot="["+xt+"]",Rt="["+At+"]",Tt="\\d+",jt="[\\u2700-\\u27bf]",Lt="["+Pt+"]",Dt="[^\\ud800-\\udfff"+xt+Tt+Ct+Pt+It+"]",Bt="\\ud83c[\\udffb-\\udfff]",zt="[^\\ud800-\\udfff]",Wt="(?:\\ud83c[\\udde6-\\uddff]){2}",Ft="[\\ud800-\\udbff][\\udc00-\\udfff]",Ut="["+It+"]",Vt="(?:"+Lt+"|"+Dt+")",Nt="(?:"+Ut+"|"+Dt+")",Ht="(?:['’](?:d|ll|m|re|s|t|ve))?",Xt="(?:['’](?:D|LL|M|RE|S|T|VE))?",qt="(?:"+Rt+"|"+Bt+")"+"?",Gt="[\\ufe0e\\ufe0f]?",$t=Gt+qt+("(?:\\u200d(?:"+[zt,Wt,Ft].join("|")+")"+Gt+qt+")*"),Zt="(?:"+[jt,Wt,Ft].join("|")+")"+$t,Qt="(?:"+[zt+Rt+"?",Rt,Wt,Ft,Et].join("|")+")",Yt=RegExp(Mt,"g"),Jt=RegExp(Rt,"g"),Kt=RegExp(Bt+"(?="+Bt+")|"+Qt+$t,"g"),te=RegExp([Ut+"?"+Lt+"+"+Ht+"(?="+[Ot,Ut,"$"].join("|")+")",Nt+"+"+Xt+"(?="+[Ot,Ut+Vt,"$"].join("|")+")",Ut+"?"+Vt+"+"+Ht,Ut+"+"+Xt,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Tt,Zt].join("|"),"g"),ee=RegExp("[\\u200d\\ud800-\\udfff"+At+St+"]"),ne=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,re=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],ie=-1,ae={};ae[L]=ae[D]=ae[B]=ae[z]=ae[W]=ae[F]=ae[U]=ae[V]=ae[N]=!0,ae[g]=ae[y]=ae[T]=ae[b]=ae[j]=ae[w]=ae[k]=ae[_]=ae[C]=ae[P]=ae[I]=ae[x]=ae[M]=ae[E]=ae[R]=!1;var se={};se[g]=se[y]=se[T]=se[j]=se[b]=se[w]=se[L]=se[D]=se[B]=se[z]=se[W]=se[C]=se[P]=se[I]=se[x]=se[M]=se[E]=se[O]=se[F]=se[U]=se[V]=se[N]=!0,se[k]=se[_]=se[R]=!1;var oe={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ue=parseFloat,le=parseInt,he="object"==typeof t&&t&&t.Object===Object&&t,ce="object"==typeof self&&self&&self.Object===Object&&self,fe=he||ce||Function("return this")(),de="object"==typeof n&&n&&!n.nodeType&&n,pe=de&&e&&!e.nodeType&&e,ve=pe&&pe.exports===de,me=ve&&he.process,ge=function(){try{var t=pe&&pe.require&&pe.require("util").types;return t||me&&me.binding&&me.binding("util")}catch(t){}}(),ye=ge&&ge.isArrayBuffer,be=ge&&ge.isDate,we=ge&&ge.isMap,ke=ge&&ge.isRegExp,_e=ge&&ge.isSet,Ae=ge&&ge.isTypedArray;function Ce(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function Pe(t,e,n,r){for(var i=-1,a=null==t?0:t.length;++i<a;){var s=t[i];e(r,s,n(s),t)}return r}function Ie(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}function Se(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t}function xe(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function Me(t,e){for(var n=-1,r=null==t?0:t.length,i=0,a=[];++n<r;){var s=t[n];e(s,n,t)&&(a[i++]=s)}return a}function Ee(t,e){return!!(null==t?0:t.length)&&Fe(t,e,0)>-1}function Oe(t,e,n){for(var r=-1,i=null==t?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}function Re(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}function Te(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function je(t,e,n,r){var i=-1,a=null==t?0:t.length;for(r&&a&&(n=t[++i]);++i<a;)n=e(n,t[i],i,t);return n}function Le(t,e,n,r){var i=null==t?0:t.length;for(r&&i&&(n=t[--i]);i--;)n=e(n,t[i],i,t);return n}function De(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var Be=He("length");function ze(t,e,n){var r;return n(t,(function(t,n,i){if(e(t,n,i))return r=n,!1})),r}function We(t,e,n,r){for(var i=t.length,a=n+(r?1:-1);r?a--:++a<i;)if(e(t[a],a,t))return a;return-1}function Fe(t,e,n){return e==e?function(t,e,n){var r=n-1,i=t.length;for(;++r<i;)if(t[r]===e)return r;return-1}(t,e,n):We(t,Ve,n)}function Ue(t,e,n,r){for(var i=n-1,a=t.length;++i<a;)if(r(t[i],e))return i;return-1}function Ve(t){return t!=t}function Ne(t,e){var n=null==t?0:t.length;return n?Ge(t,e)/n:p}function He(t){return function(e){return null==e?r:e[t]}}function Xe(t){return function(e){return null==t?r:t[e]}}function qe(t,e,n,r,i){return i(t,(function(t,i,a){n=r?(r=!1,t):e(n,t,i,a)})),n}function Ge(t,e){for(var n,i=-1,a=t.length;++i<a;){var s=e(t[i]);s!==r&&(n=n===r?s:n+s)}return n}function $e(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function Ze(t){return t?t.slice(0,pn(t)+1).replace(at,""):t}function Qe(t){return function(e){return t(e)}}function Ye(t,e){return Re(e,(function(e){return t[e]}))}function Je(t,e){return t.has(e)}function Ke(t,e){for(var n=-1,r=t.length;++n<r&&Fe(e,t[n],0)>-1;);return n}function tn(t,e){for(var n=t.length;n--&&Fe(e,t[n],0)>-1;);return n}function en(t,e){for(var n=t.length,r=0;n--;)t[n]===e&&++r;return r}var nn=Xe({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),rn=Xe({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function an(t){return"\\"+oe[t]}function sn(t){return ee.test(t)}function on(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}function un(t,e){return function(n){return t(e(n))}}function ln(t,e){for(var n=-1,r=t.length,i=0,a=[];++n<r;){var o=t[n];o!==e&&o!==s||(t[n]=s,a[i++]=n)}return a}function hn(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}function cn(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=[t,t]})),n}function fn(t){return sn(t)?function(t){var e=Kt.lastIndex=0;for(;Kt.test(t);)++e;return e}(t):Be(t)}function dn(t){return sn(t)?function(t){return t.match(Kt)||[]}(t):function(t){return t.split("")}(t)}function pn(t){for(var e=t.length;e--&&st.test(t.charAt(e)););return e}var vn=Xe({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var mn=function t(e){var n,st=(e=null==e?fe:mn.defaults(fe.Object(),e,mn.pick(fe,re))).Array,At=e.Date,Ct=e.Error,Pt=e.Function,It=e.Math,St=e.Object,xt=e.RegExp,Mt=e.String,Et=e.TypeError,Ot=st.prototype,Rt=Pt.prototype,Tt=St.prototype,jt=e["__core-js_shared__"],Lt=Rt.toString,Dt=Tt.hasOwnProperty,Bt=0,zt=(n=/[^.]+$/.exec(jt&&jt.keys&&jt.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",Wt=Tt.toString,Ft=Lt.call(St),Ut=fe._,Vt=xt("^"+Lt.call(Dt).replace(rt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Nt=ve?e.Buffer:r,Ht=e.Symbol,Xt=e.Uint8Array,qt=Nt?Nt.allocUnsafe:r,Gt=un(St.getPrototypeOf,St),$t=St.create,Zt=Tt.propertyIsEnumerable,Qt=Ot.splice,Kt=Ht?Ht.isConcatSpreadable:r,ee=Ht?Ht.iterator:r,oe=Ht?Ht.toStringTag:r,he=function(){try{var t=da(St,"defineProperty");return t({},"",{}),t}catch(t){}}(),ce=e.clearTimeout!==fe.clearTimeout&&e.clearTimeout,de=At&&At.now!==fe.Date.now&&At.now,pe=e.setTimeout!==fe.setTimeout&&e.setTimeout,me=It.ceil,ge=It.floor,Be=St.getOwnPropertySymbols,Xe=Nt?Nt.isBuffer:r,gn=e.isFinite,yn=Ot.join,bn=un(St.keys,St),wn=It.max,kn=It.min,_n=At.now,An=e.parseInt,Cn=It.random,Pn=Ot.reverse,In=da(e,"DataView"),Sn=da(e,"Map"),xn=da(e,"Promise"),Mn=da(e,"Set"),En=da(e,"WeakMap"),On=da(St,"create"),Rn=En&&new En,Tn={},jn=Na(In),Ln=Na(Sn),Dn=Na(xn),Bn=Na(Mn),zn=Na(En),Wn=Ht?Ht.prototype:r,Fn=Wn?Wn.valueOf:r,Un=Wn?Wn.toString:r;function Vn(t){if(so(t)&&!Zs(t)&&!(t instanceof qn)){if(t instanceof Xn)return t;if(Dt.call(t,"__wrapped__"))return Ha(t)}return new Xn(t)}var Nn=function(){function t(){}return function(e){if(!ao(e))return{};if($t)return $t(e);t.prototype=e;var n=new t;return t.prototype=r,n}}();function Hn(){}function Xn(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=r}function qn(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=v,this.__views__=[]}function Gn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function $n(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Zn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Qn(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new Zn;++e<n;)this.add(t[e])}function Yn(t){var e=this.__data__=new $n(t);this.size=e.size}function Jn(t,e){var n=Zs(t),r=!n&&$s(t),i=!n&&!r&&Ks(t),a=!n&&!r&&!i&&vo(t),s=n||r||i||a,o=s?$e(t.length,Mt):[],u=o.length;for(var l in t)!e&&!Dt.call(t,l)||s&&("length"==l||i&&("offset"==l||"parent"==l)||a&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||wa(l,u))||o.push(l);return o}function Kn(t){var e=t.length;return e?t[Qr(0,e-1)]:r}function tr(t,e){return Ba(Oi(t),lr(e,0,t.length))}function er(t){return Ba(Oi(t))}function nr(t,e,n){(n!==r&&!Xs(t[e],n)||n===r&&!(e in t))&&or(t,e,n)}function rr(t,e,n){var i=t[e];Dt.call(t,e)&&Xs(i,n)&&(n!==r||e in t)||or(t,e,n)}function ir(t,e){for(var n=t.length;n--;)if(Xs(t[n][0],e))return n;return-1}function ar(t,e,n,r){return pr(t,(function(t,i,a){e(r,t,n(t),a)})),r}function sr(t,e){return t&&Ri(e,Bo(e),t)}function or(t,e,n){"__proto__"==e&&he?he(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function ur(t,e){for(var n=-1,i=e.length,a=st(i),s=null==t;++n<i;)a[n]=s?r:Ro(t,e[n]);return a}function lr(t,e,n){return t==t&&(n!==r&&(t=t<=n?t:n),e!==r&&(t=t>=e?t:e)),t}function hr(t,e,n,i,a,s){var o,u=1&e,l=2&e,h=4&e;if(n&&(o=a?n(t,i,a,s):n(t)),o!==r)return o;if(!ao(t))return t;var c=Zs(t);if(c){if(o=function(t){var e=t.length,n=new t.constructor(e);e&&"string"==typeof t[0]&&Dt.call(t,"index")&&(n.index=t.index,n.input=t.input);return n}(t),!u)return Oi(t,o)}else{var f=ma(t),d=f==_||f==A;if(Ks(t))return Pi(t,u);if(f==I||f==g||d&&!a){if(o=l||d?{}:ya(t),!u)return l?function(t,e){return Ri(t,va(t),e)}(t,function(t,e){return t&&Ri(e,zo(e),t)}(o,t)):function(t,e){return Ri(t,pa(t),e)}(t,sr(o,t))}else{if(!se[f])return a?t:{};o=function(t,e,n){var r=t.constructor;switch(e){case T:return Ii(t);case b:case w:return new r(+t);case j:return function(t,e){var n=e?Ii(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,n);case L:case D:case B:case z:case W:case F:case U:case V:case N:return Si(t,n);case C:return new r;case P:case E:return new r(t);case x:return function(t){var e=new t.constructor(t.source,pt.exec(t));return e.lastIndex=t.lastIndex,e}(t);case M:return new r;case O:return i=t,Fn?St(Fn.call(i)):{}}var i}(t,f,u)}}s||(s=new Yn);var p=s.get(t);if(p)return p;s.set(t,o),co(t)?t.forEach((function(r){o.add(hr(r,e,n,r,t,s))})):oo(t)&&t.forEach((function(r,i){o.set(i,hr(r,e,n,i,t,s))}));var v=c?r:(h?l?sa:aa:l?zo:Bo)(t);return Ie(v||t,(function(r,i){v&&(r=t[i=r]),rr(o,i,hr(r,e,n,i,t,s))})),o}function cr(t,e,n){var i=n.length;if(null==t)return!i;for(t=St(t);i--;){var a=n[i],s=e[a],o=t[a];if(o===r&&!(a in t)||!s(o))return!1}return!0}function fr(t,e,n){if("function"!=typeof t)throw new Et(i);return Ta((function(){t.apply(r,n)}),e)}function dr(t,e,n,r){var i=-1,a=Ee,s=!0,o=t.length,u=[],l=e.length;if(!o)return u;n&&(e=Re(e,Qe(n))),r?(a=Oe,s=!1):e.length>=200&&(a=Je,s=!1,e=new Qn(e));t:for(;++i<o;){var h=t[i],c=null==n?h:n(h);if(h=r||0!==h?h:0,s&&c==c){for(var f=l;f--;)if(e[f]===c)continue t;u.push(h)}else a(e,c,r)||u.push(h)}return u}Vn.templateSettings={escape:Y,evaluate:J,interpolate:K,variable:"",imports:{_:Vn}},Vn.prototype=Hn.prototype,Vn.prototype.constructor=Vn,Xn.prototype=Nn(Hn.prototype),Xn.prototype.constructor=Xn,qn.prototype=Nn(Hn.prototype),qn.prototype.constructor=qn,Gn.prototype.clear=function(){this.__data__=On?On(null):{},this.size=0},Gn.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Gn.prototype.get=function(t){var e=this.__data__;if(On){var n=e[t];return n===a?r:n}return Dt.call(e,t)?e[t]:r},Gn.prototype.has=function(t){var e=this.__data__;return On?e[t]!==r:Dt.call(e,t)},Gn.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=On&&e===r?a:e,this},$n.prototype.clear=function(){this.__data__=[],this.size=0},$n.prototype.delete=function(t){var e=this.__data__,n=ir(e,t);return!(n<0)&&(n==e.length-1?e.pop():Qt.call(e,n,1),--this.size,!0)},$n.prototype.get=function(t){var e=this.__data__,n=ir(e,t);return n<0?r:e[n][1]},$n.prototype.has=function(t){return ir(this.__data__,t)>-1},$n.prototype.set=function(t,e){var n=this.__data__,r=ir(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this},Zn.prototype.clear=function(){this.size=0,this.__data__={hash:new Gn,map:new(Sn||$n),string:new Gn}},Zn.prototype.delete=function(t){var e=ca(this,t).delete(t);return this.size-=e?1:0,e},Zn.prototype.get=function(t){return ca(this,t).get(t)},Zn.prototype.has=function(t){return ca(this,t).has(t)},Zn.prototype.set=function(t,e){var n=ca(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this},Qn.prototype.add=Qn.prototype.push=function(t){return this.__data__.set(t,a),this},Qn.prototype.has=function(t){return this.__data__.has(t)},Yn.prototype.clear=function(){this.__data__=new $n,this.size=0},Yn.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},Yn.prototype.get=function(t){return this.__data__.get(t)},Yn.prototype.has=function(t){return this.__data__.has(t)},Yn.prototype.set=function(t,e){var n=this.__data__;if(n instanceof $n){var r=n.__data__;if(!Sn||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Zn(r)}return n.set(t,e),this.size=n.size,this};var pr=Li(_r),vr=Li(Ar,!0);function mr(t,e){var n=!0;return pr(t,(function(t,r,i){return n=!!e(t,r,i)})),n}function gr(t,e,n){for(var i=-1,a=t.length;++i<a;){var s=t[i],o=e(s);if(null!=o&&(u===r?o==o&&!po(o):n(o,u)))var u=o,l=s}return l}function yr(t,e){var n=[];return pr(t,(function(t,r,i){e(t,r,i)&&n.push(t)})),n}function br(t,e,n,r,i){var a=-1,s=t.length;for(n||(n=ba),i||(i=[]);++a<s;){var o=t[a];e>0&&n(o)?e>1?br(o,e-1,n,r,i):Te(i,o):r||(i[i.length]=o)}return i}var wr=Di(),kr=Di(!0);function _r(t,e){return t&&wr(t,e,Bo)}function Ar(t,e){return t&&kr(t,e,Bo)}function Cr(t,e){return Me(e,(function(e){return no(t[e])}))}function Pr(t,e){for(var n=0,i=(e=ki(e,t)).length;null!=t&&n<i;)t=t[Va(e[n++])];return n&&n==i?t:r}function Ir(t,e,n){var r=e(t);return Zs(t)?r:Te(r,n(t))}function Sr(t){return null==t?t===r?"[object Undefined]":"[object Null]":oe&&oe in St(t)?function(t){var e=Dt.call(t,oe),n=t[oe];try{t[oe]=r;var i=!0}catch(t){}var a=Wt.call(t);i&&(e?t[oe]=n:delete t[oe]);return a}(t):function(t){return Wt.call(t)}(t)}function xr(t,e){return t>e}function Mr(t,e){return null!=t&&Dt.call(t,e)}function Er(t,e){return null!=t&&e in St(t)}function Or(t,e,n){for(var i=n?Oe:Ee,a=t[0].length,s=t.length,o=s,u=st(s),l=1/0,h=[];o--;){var c=t[o];o&&e&&(c=Re(c,Qe(e))),l=kn(c.length,l),u[o]=!n&&(e||a>=120&&c.length>=120)?new Qn(o&&c):r}c=t[0];var f=-1,d=u[0];t:for(;++f<a&&h.length<l;){var p=c[f],v=e?e(p):p;if(p=n||0!==p?p:0,!(d?Je(d,v):i(h,v,n))){for(o=s;--o;){var m=u[o];if(!(m?Je(m,v):i(t[o],v,n)))continue t}d&&d.push(v),h.push(p)}}return h}function Rr(t,e,n){var i=null==(t=Ma(t,e=ki(e,t)))?t:t[Va(es(e))];return null==i?r:Ce(i,t,n)}function Tr(t){return so(t)&&Sr(t)==g}function jr(t,e,n,i,a){return t===e||(null==t||null==e||!so(t)&&!so(e)?t!=t&&e!=e:function(t,e,n,i,a,s){var o=Zs(t),u=Zs(e),l=o?y:ma(t),h=u?y:ma(e),c=(l=l==g?I:l)==I,f=(h=h==g?I:h)==I,d=l==h;if(d&&Ks(t)){if(!Ks(e))return!1;o=!0,c=!1}if(d&&!c)return s||(s=new Yn),o||vo(t)?ra(t,e,n,i,a,s):function(t,e,n,r,i,a,s){switch(n){case j:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case T:return!(t.byteLength!=e.byteLength||!a(new Xt(t),new Xt(e)));case b:case w:case P:return Xs(+t,+e);case k:return t.name==e.name&&t.message==e.message;case x:case E:return t==e+"";case C:var o=on;case M:var u=1&r;if(o||(o=hn),t.size!=e.size&&!u)return!1;var l=s.get(t);if(l)return l==e;r|=2,s.set(t,e);var h=ra(o(t),o(e),r,i,a,s);return s.delete(t),h;case O:if(Fn)return Fn.call(t)==Fn.call(e)}return!1}(t,e,l,n,i,a,s);if(!(1&n)){var p=c&&Dt.call(t,"__wrapped__"),v=f&&Dt.call(e,"__wrapped__");if(p||v){var m=p?t.value():t,_=v?e.value():e;return s||(s=new Yn),a(m,_,n,i,s)}}return!!d&&(s||(s=new Yn),function(t,e,n,i,a,s){var o=1&n,u=aa(t),l=u.length,h=aa(e).length;if(l!=h&&!o)return!1;var c=l;for(;c--;){var f=u[c];if(!(o?f in e:Dt.call(e,f)))return!1}var d=s.get(t),p=s.get(e);if(d&&p)return d==e&&p==t;var v=!0;s.set(t,e),s.set(e,t);var m=o;for(;++c<l;){var g=t[f=u[c]],y=e[f];if(i)var b=o?i(y,g,f,e,t,s):i(g,y,f,t,e,s);if(!(b===r?g===y||a(g,y,n,i,s):b)){v=!1;break}m||(m="constructor"==f)}if(v&&!m){var w=t.constructor,k=e.constructor;w==k||!("constructor"in t)||!("constructor"in e)||"function"==typeof w&&w instanceof w&&"function"==typeof k&&k instanceof k||(v=!1)}return s.delete(t),s.delete(e),v}(t,e,n,i,a,s))}(t,e,n,i,jr,a))}function Lr(t,e,n,i){var a=n.length,s=a,o=!i;if(null==t)return!s;for(t=St(t);a--;){var u=n[a];if(o&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++a<s;){var l=(u=n[a])[0],h=t[l],c=u[1];if(o&&u[2]){if(h===r&&!(l in t))return!1}else{var f=new Yn;if(i)var d=i(h,c,l,t,e,f);if(!(d===r?jr(c,h,3,i,f):d))return!1}}return!0}function Dr(t){return!(!ao(t)||(e=t,zt&&zt in e))&&(no(t)?Vt:gt).test(Na(t));var e}function Br(t){return"function"==typeof t?t:null==t?lu:"object"==typeof t?Zs(t)?Nr(t[0],t[1]):Vr(t):yu(t)}function zr(t){if(!Pa(t))return bn(t);var e=[];for(var n in St(t))Dt.call(t,n)&&"constructor"!=n&&e.push(n);return e}function Wr(t){if(!ao(t))return function(t){var e=[];if(null!=t)for(var n in St(t))e.push(n);return e}(t);var e=Pa(t),n=[];for(var r in t)("constructor"!=r||!e&&Dt.call(t,r))&&n.push(r);return n}function Fr(t,e){return t<e}function Ur(t,e){var n=-1,r=Ys(t)?st(t.length):[];return pr(t,(function(t,i,a){r[++n]=e(t,i,a)})),r}function Vr(t){var e=fa(t);return 1==e.length&&e[0][2]?Sa(e[0][0],e[0][1]):function(n){return n===t||Lr(n,t,e)}}function Nr(t,e){return _a(t)&&Ia(e)?Sa(Va(t),e):function(n){var i=Ro(n,t);return i===r&&i===e?To(n,t):jr(e,i,3)}}function Hr(t,e,n,i,a){t!==e&&wr(e,(function(s,o){if(a||(a=new Yn),ao(s))!function(t,e,n,i,a,s,o){var u=Oa(t,n),l=Oa(e,n),h=o.get(l);if(h)return void nr(t,n,h);var c=s?s(u,l,n+"",t,e,o):r,f=c===r;if(f){var d=Zs(l),p=!d&&Ks(l),v=!d&&!p&&vo(l);c=l,d||p||v?Zs(u)?c=u:Js(u)?c=Oi(u):p?(f=!1,c=Pi(l,!0)):v?(f=!1,c=Si(l,!0)):c=[]:lo(l)||$s(l)?(c=u,$s(u)?c=Ao(u):ao(u)&&!no(u)||(c=ya(l))):f=!1}f&&(o.set(l,c),a(c,l,i,s,o),o.delete(l));nr(t,n,c)}(t,e,o,n,Hr,i,a);else{var u=i?i(Oa(t,o),s,o+"",t,e,a):r;u===r&&(u=s),nr(t,o,u)}}),zo)}function Xr(t,e){var n=t.length;if(n)return wa(e+=e<0?n:0,n)?t[e]:r}function qr(t,e,n){e=e.length?Re(e,(function(t){return Zs(t)?function(e){return Pr(e,1===t.length?t[0]:t)}:t})):[lu];var r=-1;return e=Re(e,Qe(ha())),function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}(Ur(t,(function(t,n,i){return{criteria:Re(e,(function(e){return e(t)})),index:++r,value:t}})),(function(t,e){return function(t,e,n){var r=-1,i=t.criteria,a=e.criteria,s=i.length,o=n.length;for(;++r<s;){var u=xi(i[r],a[r]);if(u)return r>=o?u:u*("desc"==n[r]?-1:1)}return t.index-e.index}(t,e,n)}))}function Gr(t,e,n){for(var r=-1,i=e.length,a={};++r<i;){var s=e[r],o=Pr(t,s);n(o,s)&&ei(a,ki(s,t),o)}return a}function $r(t,e,n,r){var i=r?Ue:Fe,a=-1,s=e.length,o=t;for(t===e&&(e=Oi(e)),n&&(o=Re(t,Qe(n)));++a<s;)for(var u=0,l=e[a],h=n?n(l):l;(u=i(o,h,u,r))>-1;)o!==t&&Qt.call(o,u,1),Qt.call(t,u,1);return t}function Zr(t,e){for(var n=t?e.length:0,r=n-1;n--;){var i=e[n];if(n==r||i!==a){var a=i;wa(i)?Qt.call(t,i,1):di(t,i)}}return t}function Qr(t,e){return t+ge(Cn()*(e-t+1))}function Yr(t,e){var n="";if(!t||e<1||e>d)return n;do{e%2&&(n+=t),(e=ge(e/2))&&(t+=t)}while(e);return n}function Jr(t,e){return ja(xa(t,e,lu),t+"")}function Kr(t){return Kn(qo(t))}function ti(t,e){var n=qo(t);return Ba(n,lr(e,0,n.length))}function ei(t,e,n,i){if(!ao(t))return t;for(var a=-1,s=(e=ki(e,t)).length,o=s-1,u=t;null!=u&&++a<s;){var l=Va(e[a]),h=n;if("__proto__"===l||"constructor"===l||"prototype"===l)return t;if(a!=o){var c=u[l];(h=i?i(c,l,u):r)===r&&(h=ao(c)?c:wa(e[a+1])?[]:{})}rr(u,l,h),u=u[l]}return t}var ni=Rn?function(t,e){return Rn.set(t,e),t}:lu,ri=he?function(t,e){return he(t,"toString",{configurable:!0,enumerable:!1,value:su(e),writable:!0})}:lu;function ii(t){return Ba(qo(t))}function ai(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),(n=n>i?i:n)<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var a=st(i);++r<i;)a[r]=t[r+e];return a}function si(t,e){var n;return pr(t,(function(t,r,i){return!(n=e(t,r,i))})),!!n}function oi(t,e,n){var r=0,i=null==t?r:t.length;if("number"==typeof e&&e==e&&i<=2147483647){for(;r<i;){var a=r+i>>>1,s=t[a];null!==s&&!po(s)&&(n?s<=e:s<e)?r=a+1:i=a}return i}return ui(t,e,lu,n)}function ui(t,e,n,i){var a=0,s=null==t?0:t.length;if(0===s)return 0;for(var o=(e=n(e))!=e,u=null===e,l=po(e),h=e===r;a<s;){var c=ge((a+s)/2),f=n(t[c]),d=f!==r,p=null===f,v=f==f,m=po(f);if(o)var g=i||v;else g=h?v&&(i||d):u?v&&d&&(i||!p):l?v&&d&&!p&&(i||!m):!p&&!m&&(i?f<=e:f<e);g?a=c+1:s=c}return kn(s,4294967294)}function li(t,e){for(var n=-1,r=t.length,i=0,a=[];++n<r;){var s=t[n],o=e?e(s):s;if(!n||!Xs(o,u)){var u=o;a[i++]=0===s?0:s}}return a}function hi(t){return"number"==typeof t?t:po(t)?p:+t}function ci(t){if("string"==typeof t)return t;if(Zs(t))return Re(t,ci)+"";if(po(t))return Un?Un.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function fi(t,e,n){var r=-1,i=Ee,a=t.length,s=!0,o=[],u=o;if(n)s=!1,i=Oe;else if(a>=200){var l=e?null:Yi(t);if(l)return hn(l);s=!1,i=Je,u=new Qn}else u=e?[]:o;t:for(;++r<a;){var h=t[r],c=e?e(h):h;if(h=n||0!==h?h:0,s&&c==c){for(var f=u.length;f--;)if(u[f]===c)continue t;e&&u.push(c),o.push(h)}else i(u,c,n)||(u!==o&&u.push(c),o.push(h))}return o}function di(t,e){return null==(t=Ma(t,e=ki(e,t)))||delete t[Va(es(e))]}function pi(t,e,n,r){return ei(t,e,n(Pr(t,e)),r)}function vi(t,e,n,r){for(var i=t.length,a=r?i:-1;(r?a--:++a<i)&&e(t[a],a,t););return n?ai(t,r?0:a,r?a+1:i):ai(t,r?a+1:0,r?i:a)}function mi(t,e){var n=t;return n instanceof qn&&(n=n.value()),je(e,(function(t,e){return e.func.apply(e.thisArg,Te([t],e.args))}),n)}function gi(t,e,n){var r=t.length;if(r<2)return r?fi(t[0]):[];for(var i=-1,a=st(r);++i<r;)for(var s=t[i],o=-1;++o<r;)o!=i&&(a[i]=dr(a[i]||s,t[o],e,n));return fi(br(a,1),e,n)}function yi(t,e,n){for(var i=-1,a=t.length,s=e.length,o={};++i<a;){var u=i<s?e[i]:r;n(o,t[i],u)}return o}function bi(t){return Js(t)?t:[]}function wi(t){return"function"==typeof t?t:lu}function ki(t,e){return Zs(t)?t:_a(t,e)?[t]:Ua(Co(t))}var _i=Jr;function Ai(t,e,n){var i=t.length;return n=n===r?i:n,!e&&n>=i?t:ai(t,e,n)}var Ci=ce||function(t){return fe.clearTimeout(t)};function Pi(t,e){if(e)return t.slice();var n=t.length,r=qt?qt(n):new t.constructor(n);return t.copy(r),r}function Ii(t){var e=new t.constructor(t.byteLength);return new Xt(e).set(new Xt(t)),e}function Si(t,e){var n=e?Ii(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function xi(t,e){if(t!==e){var n=t!==r,i=null===t,a=t==t,s=po(t),o=e!==r,u=null===e,l=e==e,h=po(e);if(!u&&!h&&!s&&t>e||s&&o&&l&&!u&&!h||i&&o&&l||!n&&l||!a)return 1;if(!i&&!s&&!h&&t<e||h&&n&&a&&!i&&!s||u&&n&&a||!o&&a||!l)return-1}return 0}function Mi(t,e,n,r){for(var i=-1,a=t.length,s=n.length,o=-1,u=e.length,l=wn(a-s,0),h=st(u+l),c=!r;++o<u;)h[o]=e[o];for(;++i<s;)(c||i<a)&&(h[n[i]]=t[i]);for(;l--;)h[o++]=t[i++];return h}function Ei(t,e,n,r){for(var i=-1,a=t.length,s=-1,o=n.length,u=-1,l=e.length,h=wn(a-o,0),c=st(h+l),f=!r;++i<h;)c[i]=t[i];for(var d=i;++u<l;)c[d+u]=e[u];for(;++s<o;)(f||i<a)&&(c[d+n[s]]=t[i++]);return c}function Oi(t,e){var n=-1,r=t.length;for(e||(e=st(r));++n<r;)e[n]=t[n];return e}function Ri(t,e,n,i){var a=!n;n||(n={});for(var s=-1,o=e.length;++s<o;){var u=e[s],l=i?i(n[u],t[u],u,n,t):r;l===r&&(l=t[u]),a?or(n,u,l):rr(n,u,l)}return n}function Ti(t,e){return function(n,r){var i=Zs(n)?Pe:ar,a=e?e():{};return i(n,t,ha(r,2),a)}}function ji(t){return Jr((function(e,n){var i=-1,a=n.length,s=a>1?n[a-1]:r,o=a>2?n[2]:r;for(s=t.length>3&&"function"==typeof s?(a--,s):r,o&&ka(n[0],n[1],o)&&(s=a<3?r:s,a=1),e=St(e);++i<a;){var u=n[i];u&&t(e,u,i,s)}return e}))}function Li(t,e){return function(n,r){if(null==n)return n;if(!Ys(n))return t(n,r);for(var i=n.length,a=e?i:-1,s=St(n);(e?a--:++a<i)&&!1!==r(s[a],a,s););return n}}function Di(t){return function(e,n,r){for(var i=-1,a=St(e),s=r(e),o=s.length;o--;){var u=s[t?o:++i];if(!1===n(a[u],u,a))break}return e}}function Bi(t){return function(e){var n=sn(e=Co(e))?dn(e):r,i=n?n[0]:e.charAt(0),a=n?Ai(n,1).join(""):e.slice(1);return i[t]()+a}}function zi(t){return function(e){return je(ru(Zo(e).replace(Yt,"")),t,"")}}function Wi(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=Nn(t.prototype),r=t.apply(n,e);return ao(r)?r:n}}function Fi(t){return function(e,n,i){var a=St(e);if(!Ys(e)){var s=ha(n,3);e=Bo(e),n=function(t){return s(a[t],t,a)}}var o=t(e,n,i);return o>-1?a[s?e[o]:o]:r}}function Ui(t){return ia((function(e){var n=e.length,a=n,s=Xn.prototype.thru;for(t&&e.reverse();a--;){var o=e[a];if("function"!=typeof o)throw new Et(i);if(s&&!u&&"wrapper"==ua(o))var u=new Xn([],!0)}for(a=u?a:n;++a<n;){var l=ua(o=e[a]),h="wrapper"==l?oa(o):r;u=h&&Aa(h[0])&&424==h[1]&&!h[4].length&&1==h[9]?u[ua(h[0])].apply(u,h[3]):1==o.length&&Aa(o)?u[l]():u.thru(o)}return function(){var t=arguments,r=t[0];if(u&&1==t.length&&Zs(r))return u.plant(r).value();for(var i=0,a=n?e[i].apply(this,t):r;++i<n;)a=e[i].call(this,a);return a}}))}function Vi(t,e,n,i,a,s,o,u,l,c){var f=e&h,d=1&e,p=2&e,v=24&e,m=512&e,g=p?r:Wi(t);return function r(){for(var h=arguments.length,y=st(h),b=h;b--;)y[b]=arguments[b];if(v)var w=la(r),k=en(y,w);if(i&&(y=Mi(y,i,a,v)),s&&(y=Ei(y,s,o,v)),h-=k,v&&h<c){var _=ln(y,w);return Zi(t,e,Vi,r.placeholder,n,y,_,u,l,c-h)}var A=d?n:this,C=p?A[t]:t;return h=y.length,u?y=Ea(y,u):m&&h>1&&y.reverse(),f&&l<h&&(y.length=l),this&&this!==fe&&this instanceof r&&(C=g||Wi(C)),C.apply(A,y)}}function Ni(t,e){return function(n,r){return function(t,e,n,r){return _r(t,(function(t,i,a){e(r,n(t),i,a)})),r}(n,t,e(r),{})}}function Hi(t,e){return function(n,i){var a;if(n===r&&i===r)return e;if(n!==r&&(a=n),i!==r){if(a===r)return i;"string"==typeof n||"string"==typeof i?(n=ci(n),i=ci(i)):(n=hi(n),i=hi(i)),a=t(n,i)}return a}}function Xi(t){return ia((function(e){return e=Re(e,Qe(ha())),Jr((function(n){var r=this;return t(e,(function(t){return Ce(t,r,n)}))}))}))}function qi(t,e){var n=(e=e===r?" ":ci(e)).length;if(n<2)return n?Yr(e,t):e;var i=Yr(e,me(t/fn(e)));return sn(e)?Ai(dn(i),0,t).join(""):i.slice(0,t)}function Gi(t){return function(e,n,i){return i&&"number"!=typeof i&&ka(e,n,i)&&(n=i=r),e=bo(e),n===r?(n=e,e=0):n=bo(n),function(t,e,n,r){for(var i=-1,a=wn(me((e-t)/(n||1)),0),s=st(a);a--;)s[r?a:++i]=t,t+=n;return s}(e,n,i=i===r?e<n?1:-1:bo(i),t)}}function $i(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=_o(e),n=_o(n)),t(e,n)}}function Zi(t,e,n,i,a,s,o,h,c,f){var d=8&e;e|=d?u:l,4&(e&=~(d?l:u))||(e&=-4);var p=[t,e,a,d?s:r,d?o:r,d?r:s,d?r:o,h,c,f],v=n.apply(r,p);return Aa(t)&&Ra(v,p),v.placeholder=i,La(v,t,e)}function Qi(t){var e=It[t];return function(t,n){if(t=_o(t),(n=null==n?0:kn(wo(n),292))&&gn(t)){var r=(Co(t)+"e").split("e");return+((r=(Co(e(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return e(t)}}var Yi=Mn&&1/hn(new Mn([,-0]))[1]==f?function(t){return new Mn(t)}:pu;function Ji(t){return function(e){var n=ma(e);return n==C?on(e):n==M?cn(e):function(t,e){return Re(e,(function(e){return[e,t[e]]}))}(e,t(e))}}function Ki(t,e,n,a,f,d,p,v){var m=2&e;if(!m&&"function"!=typeof t)throw new Et(i);var g=a?a.length:0;if(g||(e&=-97,a=f=r),p=p===r?p:wn(wo(p),0),v=v===r?v:wo(v),g-=f?f.length:0,e&l){var y=a,b=f;a=f=r}var w=m?r:oa(t),k=[t,e,n,a,f,y,b,d,p,v];if(w&&function(t,e){var n=t[1],r=e[1],i=n|r,a=i<131,o=r==h&&8==n||r==h&&n==c&&t[7].length<=e[8]||384==r&&e[7].length<=e[8]&&8==n;if(!a&&!o)return t;1&r&&(t[2]=e[2],i|=1&n?0:4);var u=e[3];if(u){var l=t[3];t[3]=l?Mi(l,u,e[4]):u,t[4]=l?ln(t[3],s):e[4]}(u=e[5])&&(l=t[5],t[5]=l?Ei(l,u,e[6]):u,t[6]=l?ln(t[5],s):e[6]);(u=e[7])&&(t[7]=u);r&h&&(t[8]=null==t[8]?e[8]:kn(t[8],e[8]));null==t[9]&&(t[9]=e[9]);t[0]=e[0],t[1]=i}(k,w),t=k[0],e=k[1],n=k[2],a=k[3],f=k[4],!(v=k[9]=k[9]===r?m?0:t.length:wn(k[9]-g,0))&&24&e&&(e&=-25),e&&1!=e)_=8==e||e==o?function(t,e,n){var i=Wi(t);return function a(){for(var s=arguments.length,o=st(s),u=s,l=la(a);u--;)o[u]=arguments[u];var h=s<3&&o[0]!==l&&o[s-1]!==l?[]:ln(o,l);return(s-=h.length)<n?Zi(t,e,Vi,a.placeholder,r,o,h,r,r,n-s):Ce(this&&this!==fe&&this instanceof a?i:t,this,o)}}(t,e,v):e!=u&&33!=e||f.length?Vi.apply(r,k):function(t,e,n,r){var i=1&e,a=Wi(t);return function e(){for(var s=-1,o=arguments.length,u=-1,l=r.length,h=st(l+o),c=this&&this!==fe&&this instanceof e?a:t;++u<l;)h[u]=r[u];for(;o--;)h[u++]=arguments[++s];return Ce(c,i?n:this,h)}}(t,e,n,a);else var _=function(t,e,n){var r=1&e,i=Wi(t);return function e(){return(this&&this!==fe&&this instanceof e?i:t).apply(r?n:this,arguments)}}(t,e,n);return La((w?ni:Ra)(_,k),t,e)}function ta(t,e,n,i){return t===r||Xs(t,Tt[n])&&!Dt.call(i,n)?e:t}function ea(t,e,n,i,a,s){return ao(t)&&ao(e)&&(s.set(e,t),Hr(t,e,r,ea,s),s.delete(e)),t}function na(t){return lo(t)?r:t}function ra(t,e,n,i,a,s){var o=1&n,u=t.length,l=e.length;if(u!=l&&!(o&&l>u))return!1;var h=s.get(t),c=s.get(e);if(h&&c)return h==e&&c==t;var f=-1,d=!0,p=2&n?new Qn:r;for(s.set(t,e),s.set(e,t);++f<u;){var v=t[f],m=e[f];if(i)var g=o?i(m,v,f,e,t,s):i(v,m,f,t,e,s);if(g!==r){if(g)continue;d=!1;break}if(p){if(!De(e,(function(t,e){if(!Je(p,e)&&(v===t||a(v,t,n,i,s)))return p.push(e)}))){d=!1;break}}else if(v!==m&&!a(v,m,n,i,s)){d=!1;break}}return s.delete(t),s.delete(e),d}function ia(t){return ja(xa(t,r,Qa),t+"")}function aa(t){return Ir(t,Bo,pa)}function sa(t){return Ir(t,zo,va)}var oa=Rn?function(t){return Rn.get(t)}:pu;function ua(t){for(var e=t.name+"",n=Tn[e],r=Dt.call(Tn,e)?n.length:0;r--;){var i=n[r],a=i.func;if(null==a||a==t)return i.name}return e}function la(t){return(Dt.call(Vn,"placeholder")?Vn:t).placeholder}function ha(){var t=Vn.iteratee||hu;return t=t===hu?Br:t,arguments.length?t(arguments[0],arguments[1]):t}function ca(t,e){var n,r,i=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof e?"string":"hash"]:i.map}function fa(t){for(var e=Bo(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,Ia(i)]}return e}function da(t,e){var n=function(t,e){return null==t?r:t[e]}(t,e);return Dr(n)?n:r}var pa=Be?function(t){return null==t?[]:(t=St(t),Me(Be(t),(function(e){return Zt.call(t,e)})))}:ku,va=Be?function(t){for(var e=[];t;)Te(e,pa(t)),t=Gt(t);return e}:ku,ma=Sr;function ga(t,e,n){for(var r=-1,i=(e=ki(e,t)).length,a=!1;++r<i;){var s=Va(e[r]);if(!(a=null!=t&&n(t,s)))break;t=t[s]}return a||++r!=i?a:!!(i=null==t?0:t.length)&&io(i)&&wa(s,i)&&(Zs(t)||$s(t))}function ya(t){return"function"!=typeof t.constructor||Pa(t)?{}:Nn(Gt(t))}function ba(t){return Zs(t)||$s(t)||!!(Kt&&t&&t[Kt])}function wa(t,e){var n=typeof t;return!!(e=null==e?d:e)&&("number"==n||"symbol"!=n&&bt.test(t))&&t>-1&&t%1==0&&t<e}function ka(t,e,n){if(!ao(n))return!1;var r=typeof e;return!!("number"==r?Ys(n)&&wa(e,n.length):"string"==r&&e in n)&&Xs(n[e],t)}function _a(t,e){if(Zs(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!po(t))||(et.test(t)||!tt.test(t)||null!=e&&t in St(e))}function Aa(t){var e=ua(t),n=Vn[e];if("function"!=typeof n||!(e in qn.prototype))return!1;if(t===n)return!0;var r=oa(n);return!!r&&t===r[0]}(In&&ma(new In(new ArrayBuffer(1)))!=j||Sn&&ma(new Sn)!=C||xn&&ma(xn.resolve())!=S||Mn&&ma(new Mn)!=M||En&&ma(new En)!=R)&&(ma=function(t){var e=Sr(t),n=e==I?t.constructor:r,i=n?Na(n):"";if(i)switch(i){case jn:return j;case Ln:return C;case Dn:return S;case Bn:return M;case zn:return R}return e});var Ca=jt?no:_u;function Pa(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Tt)}function Ia(t){return t==t&&!ao(t)}function Sa(t,e){return function(n){return null!=n&&(n[t]===e&&(e!==r||t in St(n)))}}function xa(t,e,n){return e=wn(e===r?t.length-1:e,0),function(){for(var r=arguments,i=-1,a=wn(r.length-e,0),s=st(a);++i<a;)s[i]=r[e+i];i=-1;for(var o=st(e+1);++i<e;)o[i]=r[i];return o[e]=n(s),Ce(t,this,o)}}function Ma(t,e){return e.length<2?t:Pr(t,ai(e,0,-1))}function Ea(t,e){for(var n=t.length,i=kn(e.length,n),a=Oi(t);i--;){var s=e[i];t[i]=wa(s,n)?a[s]:r}return t}function Oa(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var Ra=Da(ni),Ta=pe||function(t,e){return fe.setTimeout(t,e)},ja=Da(ri);function La(t,e,n){var r=e+"";return ja(t,function(t,e){var n=e.length;if(!n)return t;var r=n-1;return e[r]=(n>1?"& ":"")+e[r],e=e.join(n>2?", ":" "),t.replace(ot,"{\n/* [wrapped with "+e+"] */\n")}(r,function(t,e){return Ie(m,(function(n){var r="_."+n[0];e&n[1]&&!Ee(t,r)&&t.push(r)})),t.sort()}(function(t){var e=t.match(ut);return e?e[1].split(lt):[]}(r),n)))}function Da(t){var e=0,n=0;return function(){var i=_n(),a=16-(i-n);if(n=i,a>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(r,arguments)}}function Ba(t,e){var n=-1,i=t.length,a=i-1;for(e=e===r?i:e;++n<e;){var s=Qr(n,a),o=t[s];t[s]=t[n],t[n]=o}return t.length=e,t}var za,Wa,Fa,Ua=(za=function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(nt,(function(t,n,r,i){e.push(r?i.replace(ft,"$1"):n||t)})),e},Wa=Ws(za,(function(t){return 500===Fa.size&&Fa.clear(),t})),Fa=Wa.cache,Wa);function Va(t){if("string"==typeof t||po(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function Na(t){if(null!=t){try{return Lt.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Ha(t){if(t instanceof qn)return t.clone();var e=new Xn(t.__wrapped__,t.__chain__);return e.__actions__=Oi(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var Xa=Jr((function(t,e){return Js(t)?dr(t,br(e,1,Js,!0)):[]})),qa=Jr((function(t,e){var n=es(e);return Js(n)&&(n=r),Js(t)?dr(t,br(e,1,Js,!0),ha(n,2)):[]})),Ga=Jr((function(t,e){var n=es(e);return Js(n)&&(n=r),Js(t)?dr(t,br(e,1,Js,!0),r,n):[]}));function $a(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:wo(n);return i<0&&(i=wn(r+i,0)),We(t,ha(e,3),i)}function Za(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var a=i-1;return n!==r&&(a=wo(n),a=n<0?wn(i+a,0):kn(a,i-1)),We(t,ha(e,3),a,!0)}function Qa(t){return(null==t?0:t.length)?br(t,1):[]}function Ya(t){return t&&t.length?t[0]:r}var Ja=Jr((function(t){var e=Re(t,bi);return e.length&&e[0]===t[0]?Or(e):[]})),Ka=Jr((function(t){var e=es(t),n=Re(t,bi);return e===es(n)?e=r:n.pop(),n.length&&n[0]===t[0]?Or(n,ha(e,2)):[]})),ts=Jr((function(t){var e=es(t),n=Re(t,bi);return(e="function"==typeof e?e:r)&&n.pop(),n.length&&n[0]===t[0]?Or(n,r,e):[]}));function es(t){var e=null==t?0:t.length;return e?t[e-1]:r}var ns=Jr(rs);function rs(t,e){return t&&t.length&&e&&e.length?$r(t,e):t}var is=ia((function(t,e){var n=null==t?0:t.length,r=ur(t,e);return Zr(t,Re(e,(function(t){return wa(t,n)?+t:t})).sort(xi)),r}));function as(t){return null==t?t:Pn.call(t)}var ss=Jr((function(t){return fi(br(t,1,Js,!0))})),os=Jr((function(t){var e=es(t);return Js(e)&&(e=r),fi(br(t,1,Js,!0),ha(e,2))})),us=Jr((function(t){var e=es(t);return e="function"==typeof e?e:r,fi(br(t,1,Js,!0),r,e)}));function ls(t){if(!t||!t.length)return[];var e=0;return t=Me(t,(function(t){if(Js(t))return e=wn(t.length,e),!0})),$e(e,(function(e){return Re(t,He(e))}))}function hs(t,e){if(!t||!t.length)return[];var n=ls(t);return null==e?n:Re(n,(function(t){return Ce(e,r,t)}))}var cs=Jr((function(t,e){return Js(t)?dr(t,e):[]})),fs=Jr((function(t){return gi(Me(t,Js))})),ds=Jr((function(t){var e=es(t);return Js(e)&&(e=r),gi(Me(t,Js),ha(e,2))})),ps=Jr((function(t){var e=es(t);return e="function"==typeof e?e:r,gi(Me(t,Js),r,e)})),vs=Jr(ls);var ms=Jr((function(t){var e=t.length,n=e>1?t[e-1]:r;return n="function"==typeof n?(t.pop(),n):r,hs(t,n)}));function gs(t){var e=Vn(t);return e.__chain__=!0,e}function ys(t,e){return e(t)}var bs=ia((function(t){var e=t.length,n=e?t[0]:0,i=this.__wrapped__,a=function(e){return ur(e,t)};return!(e>1||this.__actions__.length)&&i instanceof qn&&wa(n)?((i=i.slice(n,+n+(e?1:0))).__actions__.push({func:ys,args:[a],thisArg:r}),new Xn(i,this.__chain__).thru((function(t){return e&&!t.length&&t.push(r),t}))):this.thru(a)}));var ws=Ti((function(t,e,n){Dt.call(t,n)?++t[n]:or(t,n,1)}));var ks=Fi($a),_s=Fi(Za);function As(t,e){return(Zs(t)?Ie:pr)(t,ha(e,3))}function Cs(t,e){return(Zs(t)?Se:vr)(t,ha(e,3))}var Ps=Ti((function(t,e,n){Dt.call(t,n)?t[n].push(e):or(t,n,[e])}));var Is=Jr((function(t,e,n){var r=-1,i="function"==typeof e,a=Ys(t)?st(t.length):[];return pr(t,(function(t){a[++r]=i?Ce(e,t,n):Rr(t,e,n)})),a})),Ss=Ti((function(t,e,n){or(t,n,e)}));function xs(t,e){return(Zs(t)?Re:Ur)(t,ha(e,3))}var Ms=Ti((function(t,e,n){t[n?0:1].push(e)}),(function(){return[[],[]]}));var Es=Jr((function(t,e){if(null==t)return[];var n=e.length;return n>1&&ka(t,e[0],e[1])?e=[]:n>2&&ka(e[0],e[1],e[2])&&(e=[e[0]]),qr(t,br(e,1),[])})),Os=de||function(){return fe.Date.now()};function Rs(t,e,n){return e=n?r:e,e=t&&null==e?t.length:e,Ki(t,h,r,r,r,r,e)}function Ts(t,e){var n;if("function"!=typeof e)throw new Et(i);return t=wo(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=r),n}}var js=Jr((function(t,e,n){var r=1;if(n.length){var i=ln(n,la(js));r|=u}return Ki(t,r,e,n,i)})),Ls=Jr((function(t,e,n){var r=3;if(n.length){var i=ln(n,la(Ls));r|=u}return Ki(e,r,t,n,i)}));function Ds(t,e,n){var a,s,o,u,l,h,c=0,f=!1,d=!1,p=!0;if("function"!=typeof t)throw new Et(i);function v(e){var n=a,i=s;return a=s=r,c=e,u=t.apply(i,n)}function m(t){return c=t,l=Ta(y,e),f?v(t):u}function g(t){var n=t-h;return h===r||n>=e||n<0||d&&t-c>=o}function y(){var t=Os();if(g(t))return b(t);l=Ta(y,function(t){var n=e-(t-h);return d?kn(n,o-(t-c)):n}(t))}function b(t){return l=r,p&&a?v(t):(a=s=r,u)}function w(){var t=Os(),n=g(t);if(a=arguments,s=this,h=t,n){if(l===r)return m(h);if(d)return Ci(l),l=Ta(y,e),v(h)}return l===r&&(l=Ta(y,e)),u}return e=_o(e)||0,ao(n)&&(f=!!n.leading,o=(d="maxWait"in n)?wn(_o(n.maxWait)||0,e):o,p="trailing"in n?!!n.trailing:p),w.cancel=function(){l!==r&&Ci(l),c=0,a=h=s=l=r},w.flush=function(){return l===r?u:b(Os())},w}var Bs=Jr((function(t,e){return fr(t,1,e)})),zs=Jr((function(t,e,n){return fr(t,_o(e)||0,n)}));function Ws(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new Et(i);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var s=t.apply(this,r);return n.cache=a.set(i,s)||a,s};return n.cache=new(Ws.Cache||Zn),n}function Fs(t){if("function"!=typeof t)throw new Et(i);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}Ws.Cache=Zn;var Us=_i((function(t,e){var n=(e=1==e.length&&Zs(e[0])?Re(e[0],Qe(ha())):Re(br(e,1),Qe(ha()))).length;return Jr((function(r){for(var i=-1,a=kn(r.length,n);++i<a;)r[i]=e[i].call(this,r[i]);return Ce(t,this,r)}))})),Vs=Jr((function(t,e){var n=ln(e,la(Vs));return Ki(t,u,r,e,n)})),Ns=Jr((function(t,e){var n=ln(e,la(Ns));return Ki(t,l,r,e,n)})),Hs=ia((function(t,e){return Ki(t,c,r,r,r,e)}));function Xs(t,e){return t===e||t!=t&&e!=e}var qs=$i(xr),Gs=$i((function(t,e){return t>=e})),$s=Tr(function(){return arguments}())?Tr:function(t){return so(t)&&Dt.call(t,"callee")&&!Zt.call(t,"callee")},Zs=st.isArray,Qs=ye?Qe(ye):function(t){return so(t)&&Sr(t)==T};function Ys(t){return null!=t&&io(t.length)&&!no(t)}function Js(t){return so(t)&&Ys(t)}var Ks=Xe||_u,to=be?Qe(be):function(t){return so(t)&&Sr(t)==w};function eo(t){if(!so(t))return!1;var e=Sr(t);return e==k||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!lo(t)}function no(t){if(!ao(t))return!1;var e=Sr(t);return e==_||e==A||"[object AsyncFunction]"==e||"[object Proxy]"==e}function ro(t){return"number"==typeof t&&t==wo(t)}function io(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=d}function ao(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function so(t){return null!=t&&"object"==typeof t}var oo=we?Qe(we):function(t){return so(t)&&ma(t)==C};function uo(t){return"number"==typeof t||so(t)&&Sr(t)==P}function lo(t){if(!so(t)||Sr(t)!=I)return!1;var e=Gt(t);if(null===e)return!0;var n=Dt.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&Lt.call(n)==Ft}var ho=ke?Qe(ke):function(t){return so(t)&&Sr(t)==x};var co=_e?Qe(_e):function(t){return so(t)&&ma(t)==M};function fo(t){return"string"==typeof t||!Zs(t)&&so(t)&&Sr(t)==E}function po(t){return"symbol"==typeof t||so(t)&&Sr(t)==O}var vo=Ae?Qe(Ae):function(t){return so(t)&&io(t.length)&&!!ae[Sr(t)]};var mo=$i(Fr),go=$i((function(t,e){return t<=e}));function yo(t){if(!t)return[];if(Ys(t))return fo(t)?dn(t):Oi(t);if(ee&&t[ee])return function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}(t[ee]());var e=ma(t);return(e==C?on:e==M?hn:qo)(t)}function bo(t){return t?(t=_o(t))===f||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}function wo(t){var e=bo(t),n=e%1;return e==e?n?e-n:e:0}function ko(t){return t?lr(wo(t),0,v):0}function _o(t){if("number"==typeof t)return t;if(po(t))return p;if(ao(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=ao(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=Ze(t);var n=mt.test(t);return n||yt.test(t)?le(t.slice(2),n?2:8):vt.test(t)?p:+t}function Ao(t){return Ri(t,zo(t))}function Co(t){return null==t?"":ci(t)}var Po=ji((function(t,e){if(Pa(e)||Ys(e))Ri(e,Bo(e),t);else for(var n in e)Dt.call(e,n)&&rr(t,n,e[n])})),Io=ji((function(t,e){Ri(e,zo(e),t)})),So=ji((function(t,e,n,r){Ri(e,zo(e),t,r)})),xo=ji((function(t,e,n,r){Ri(e,Bo(e),t,r)})),Mo=ia(ur);var Eo=Jr((function(t,e){t=St(t);var n=-1,i=e.length,a=i>2?e[2]:r;for(a&&ka(e[0],e[1],a)&&(i=1);++n<i;)for(var s=e[n],o=zo(s),u=-1,l=o.length;++u<l;){var h=o[u],c=t[h];(c===r||Xs(c,Tt[h])&&!Dt.call(t,h))&&(t[h]=s[h])}return t})),Oo=Jr((function(t){return t.push(r,ea),Ce(Fo,r,t)}));function Ro(t,e,n){var i=null==t?r:Pr(t,e);return i===r?n:i}function To(t,e){return null!=t&&ga(t,e,Er)}var jo=Ni((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=Wt.call(e)),t[e]=n}),su(lu)),Lo=Ni((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=Wt.call(e)),Dt.call(t,e)?t[e].push(n):t[e]=[n]}),ha),Do=Jr(Rr);function Bo(t){return Ys(t)?Jn(t):zr(t)}function zo(t){return Ys(t)?Jn(t,!0):Wr(t)}var Wo=ji((function(t,e,n){Hr(t,e,n)})),Fo=ji((function(t,e,n,r){Hr(t,e,n,r)})),Uo=ia((function(t,e){var n={};if(null==t)return n;var r=!1;e=Re(e,(function(e){return e=ki(e,t),r||(r=e.length>1),e})),Ri(t,sa(t),n),r&&(n=hr(n,7,na));for(var i=e.length;i--;)di(n,e[i]);return n}));var Vo=ia((function(t,e){return null==t?{}:function(t,e){return Gr(t,e,(function(e,n){return To(t,n)}))}(t,e)}));function No(t,e){if(null==t)return{};var n=Re(sa(t),(function(t){return[t]}));return e=ha(e),Gr(t,n,(function(t,n){return e(t,n[0])}))}var Ho=Ji(Bo),Xo=Ji(zo);function qo(t){return null==t?[]:Ye(t,Bo(t))}var Go=zi((function(t,e,n){return e=e.toLowerCase(),t+(n?$o(e):e)}));function $o(t){return nu(Co(t).toLowerCase())}function Zo(t){return(t=Co(t))&&t.replace(wt,nn).replace(Jt,"")}var Qo=zi((function(t,e,n){return t+(n?"-":"")+e.toLowerCase()})),Yo=zi((function(t,e,n){return t+(n?" ":"")+e.toLowerCase()})),Jo=Bi("toLowerCase");var Ko=zi((function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}));var tu=zi((function(t,e,n){return t+(n?" ":"")+nu(e)}));var eu=zi((function(t,e,n){return t+(n?" ":"")+e.toUpperCase()})),nu=Bi("toUpperCase");function ru(t,e,n){return t=Co(t),(e=n?r:e)===r?function(t){return ne.test(t)}(t)?function(t){return t.match(te)||[]}(t):function(t){return t.match(ht)||[]}(t):t.match(e)||[]}var iu=Jr((function(t,e){try{return Ce(t,r,e)}catch(t){return eo(t)?t:new Ct(t)}})),au=ia((function(t,e){return Ie(e,(function(e){e=Va(e),or(t,e,js(t[e],t))})),t}));function su(t){return function(){return t}}var ou=Ui(),uu=Ui(!0);function lu(t){return t}function hu(t){return Br("function"==typeof t?t:hr(t,1))}var cu=Jr((function(t,e){return function(n){return Rr(n,t,e)}})),fu=Jr((function(t,e){return function(n){return Rr(t,n,e)}}));function du(t,e,n){var r=Bo(e),i=Cr(e,r);null!=n||ao(e)&&(i.length||!r.length)||(n=e,e=t,t=this,i=Cr(e,Bo(e)));var a=!(ao(n)&&"chain"in n&&!n.chain),s=no(t);return Ie(i,(function(n){var r=e[n];t[n]=r,s&&(t.prototype[n]=function(){var e=this.__chain__;if(a||e){var n=t(this.__wrapped__),i=n.__actions__=Oi(this.__actions__);return i.push({func:r,args:arguments,thisArg:t}),n.__chain__=e,n}return r.apply(t,Te([this.value()],arguments))})})),t}function pu(){}var vu=Xi(Re),mu=Xi(xe),gu=Xi(De);function yu(t){return _a(t)?He(Va(t)):function(t){return function(e){return Pr(e,t)}}(t)}var bu=Gi(),wu=Gi(!0);function ku(){return[]}function _u(){return!1}var Au=Hi((function(t,e){return t+e}),0),Cu=Qi("ceil"),Pu=Hi((function(t,e){return t/e}),1),Iu=Qi("floor");var Su,xu=Hi((function(t,e){return t*e}),1),Mu=Qi("round"),Eu=Hi((function(t,e){return t-e}),0);return Vn.after=function(t,e){if("function"!=typeof e)throw new Et(i);return t=wo(t),function(){if(--t<1)return e.apply(this,arguments)}},Vn.ary=Rs,Vn.assign=Po,Vn.assignIn=Io,Vn.assignInWith=So,Vn.assignWith=xo,Vn.at=Mo,Vn.before=Ts,Vn.bind=js,Vn.bindAll=au,Vn.bindKey=Ls,Vn.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return Zs(t)?t:[t]},Vn.chain=gs,Vn.chunk=function(t,e,n){e=(n?ka(t,e,n):e===r)?1:wn(wo(e),0);var i=null==t?0:t.length;if(!i||e<1)return[];for(var a=0,s=0,o=st(me(i/e));a<i;)o[s++]=ai(t,a,a+=e);return o},Vn.compact=function(t){for(var e=-1,n=null==t?0:t.length,r=0,i=[];++e<n;){var a=t[e];a&&(i[r++]=a)}return i},Vn.concat=function(){var t=arguments.length;if(!t)return[];for(var e=st(t-1),n=arguments[0],r=t;r--;)e[r-1]=arguments[r];return Te(Zs(n)?Oi(n):[n],br(e,1))},Vn.cond=function(t){var e=null==t?0:t.length,n=ha();return t=e?Re(t,(function(t){if("function"!=typeof t[1])throw new Et(i);return[n(t[0]),t[1]]})):[],Jr((function(n){for(var r=-1;++r<e;){var i=t[r];if(Ce(i[0],this,n))return Ce(i[1],this,n)}}))},Vn.conforms=function(t){return function(t){var e=Bo(t);return function(n){return cr(n,t,e)}}(hr(t,1))},Vn.constant=su,Vn.countBy=ws,Vn.create=function(t,e){var n=Nn(t);return null==e?n:sr(n,e)},Vn.curry=function t(e,n,i){var a=Ki(e,8,r,r,r,r,r,n=i?r:n);return a.placeholder=t.placeholder,a},Vn.curryRight=function t(e,n,i){var a=Ki(e,o,r,r,r,r,r,n=i?r:n);return a.placeholder=t.placeholder,a},Vn.debounce=Ds,Vn.defaults=Eo,Vn.defaultsDeep=Oo,Vn.defer=Bs,Vn.delay=zs,Vn.difference=Xa,Vn.differenceBy=qa,Vn.differenceWith=Ga,Vn.drop=function(t,e,n){var i=null==t?0:t.length;return i?ai(t,(e=n||e===r?1:wo(e))<0?0:e,i):[]},Vn.dropRight=function(t,e,n){var i=null==t?0:t.length;return i?ai(t,0,(e=i-(e=n||e===r?1:wo(e)))<0?0:e):[]},Vn.dropRightWhile=function(t,e){return t&&t.length?vi(t,ha(e,3),!0,!0):[]},Vn.dropWhile=function(t,e){return t&&t.length?vi(t,ha(e,3),!0):[]},Vn.fill=function(t,e,n,i){var a=null==t?0:t.length;return a?(n&&"number"!=typeof n&&ka(t,e,n)&&(n=0,i=a),function(t,e,n,i){var a=t.length;for((n=wo(n))<0&&(n=-n>a?0:a+n),(i=i===r||i>a?a:wo(i))<0&&(i+=a),i=n>i?0:ko(i);n<i;)t[n++]=e;return t}(t,e,n,i)):[]},Vn.filter=function(t,e){return(Zs(t)?Me:yr)(t,ha(e,3))},Vn.flatMap=function(t,e){return br(xs(t,e),1)},Vn.flatMapDeep=function(t,e){return br(xs(t,e),f)},Vn.flatMapDepth=function(t,e,n){return n=n===r?1:wo(n),br(xs(t,e),n)},Vn.flatten=Qa,Vn.flattenDeep=function(t){return(null==t?0:t.length)?br(t,f):[]},Vn.flattenDepth=function(t,e){return(null==t?0:t.length)?br(t,e=e===r?1:wo(e)):[]},Vn.flip=function(t){return Ki(t,512)},Vn.flow=ou,Vn.flowRight=uu,Vn.fromPairs=function(t){for(var e=-1,n=null==t?0:t.length,r={};++e<n;){var i=t[e];r[i[0]]=i[1]}return r},Vn.functions=function(t){return null==t?[]:Cr(t,Bo(t))},Vn.functionsIn=function(t){return null==t?[]:Cr(t,zo(t))},Vn.groupBy=Ps,Vn.initial=function(t){return(null==t?0:t.length)?ai(t,0,-1):[]},Vn.intersection=Ja,Vn.intersectionBy=Ka,Vn.intersectionWith=ts,Vn.invert=jo,Vn.invertBy=Lo,Vn.invokeMap=Is,Vn.iteratee=hu,Vn.keyBy=Ss,Vn.keys=Bo,Vn.keysIn=zo,Vn.map=xs,Vn.mapKeys=function(t,e){var n={};return e=ha(e,3),_r(t,(function(t,r,i){or(n,e(t,r,i),t)})),n},Vn.mapValues=function(t,e){var n={};return e=ha(e,3),_r(t,(function(t,r,i){or(n,r,e(t,r,i))})),n},Vn.matches=function(t){return Vr(hr(t,1))},Vn.matchesProperty=function(t,e){return Nr(t,hr(e,1))},Vn.memoize=Ws,Vn.merge=Wo,Vn.mergeWith=Fo,Vn.method=cu,Vn.methodOf=fu,Vn.mixin=du,Vn.negate=Fs,Vn.nthArg=function(t){return t=wo(t),Jr((function(e){return Xr(e,t)}))},Vn.omit=Uo,Vn.omitBy=function(t,e){return No(t,Fs(ha(e)))},Vn.once=function(t){return Ts(2,t)},Vn.orderBy=function(t,e,n,i){return null==t?[]:(Zs(e)||(e=null==e?[]:[e]),Zs(n=i?r:n)||(n=null==n?[]:[n]),qr(t,e,n))},Vn.over=vu,Vn.overArgs=Us,Vn.overEvery=mu,Vn.overSome=gu,Vn.partial=Vs,Vn.partialRight=Ns,Vn.partition=Ms,Vn.pick=Vo,Vn.pickBy=No,Vn.property=yu,Vn.propertyOf=function(t){return function(e){return null==t?r:Pr(t,e)}},Vn.pull=ns,Vn.pullAll=rs,Vn.pullAllBy=function(t,e,n){return t&&t.length&&e&&e.length?$r(t,e,ha(n,2)):t},Vn.pullAllWith=function(t,e,n){return t&&t.length&&e&&e.length?$r(t,e,r,n):t},Vn.pullAt=is,Vn.range=bu,Vn.rangeRight=wu,Vn.rearg=Hs,Vn.reject=function(t,e){return(Zs(t)?Me:yr)(t,Fs(ha(e,3)))},Vn.remove=function(t,e){var n=[];if(!t||!t.length)return n;var r=-1,i=[],a=t.length;for(e=ha(e,3);++r<a;){var s=t[r];e(s,r,t)&&(n.push(s),i.push(r))}return Zr(t,i),n},Vn.rest=function(t,e){if("function"!=typeof t)throw new Et(i);return Jr(t,e=e===r?e:wo(e))},Vn.reverse=as,Vn.sampleSize=function(t,e,n){return e=(n?ka(t,e,n):e===r)?1:wo(e),(Zs(t)?tr:ti)(t,e)},Vn.set=function(t,e,n){return null==t?t:ei(t,e,n)},Vn.setWith=function(t,e,n,i){return i="function"==typeof i?i:r,null==t?t:ei(t,e,n,i)},Vn.shuffle=function(t){return(Zs(t)?er:ii)(t)},Vn.slice=function(t,e,n){var i=null==t?0:t.length;return i?(n&&"number"!=typeof n&&ka(t,e,n)?(e=0,n=i):(e=null==e?0:wo(e),n=n===r?i:wo(n)),ai(t,e,n)):[]},Vn.sortBy=Es,Vn.sortedUniq=function(t){return t&&t.length?li(t):[]},Vn.sortedUniqBy=function(t,e){return t&&t.length?li(t,ha(e,2)):[]},Vn.split=function(t,e,n){return n&&"number"!=typeof n&&ka(t,e,n)&&(e=n=r),(n=n===r?v:n>>>0)?(t=Co(t))&&("string"==typeof e||null!=e&&!ho(e))&&!(e=ci(e))&&sn(t)?Ai(dn(t),0,n):t.split(e,n):[]},Vn.spread=function(t,e){if("function"!=typeof t)throw new Et(i);return e=null==e?0:wn(wo(e),0),Jr((function(n){var r=n[e],i=Ai(n,0,e);return r&&Te(i,r),Ce(t,this,i)}))},Vn.tail=function(t){var e=null==t?0:t.length;return e?ai(t,1,e):[]},Vn.take=function(t,e,n){return t&&t.length?ai(t,0,(e=n||e===r?1:wo(e))<0?0:e):[]},Vn.takeRight=function(t,e,n){var i=null==t?0:t.length;return i?ai(t,(e=i-(e=n||e===r?1:wo(e)))<0?0:e,i):[]},Vn.takeRightWhile=function(t,e){return t&&t.length?vi(t,ha(e,3),!1,!0):[]},Vn.takeWhile=function(t,e){return t&&t.length?vi(t,ha(e,3)):[]},Vn.tap=function(t,e){return e(t),t},Vn.throttle=function(t,e,n){var r=!0,a=!0;if("function"!=typeof t)throw new Et(i);return ao(n)&&(r="leading"in n?!!n.leading:r,a="trailing"in n?!!n.trailing:a),Ds(t,e,{leading:r,maxWait:e,trailing:a})},Vn.thru=ys,Vn.toArray=yo,Vn.toPairs=Ho,Vn.toPairsIn=Xo,Vn.toPath=function(t){return Zs(t)?Re(t,Va):po(t)?[t]:Oi(Ua(Co(t)))},Vn.toPlainObject=Ao,Vn.transform=function(t,e,n){var r=Zs(t),i=r||Ks(t)||vo(t);if(e=ha(e,4),null==n){var a=t&&t.constructor;n=i?r?new a:[]:ao(t)&&no(a)?Nn(Gt(t)):{}}return(i?Ie:_r)(t,(function(t,r,i){return e(n,t,r,i)})),n},Vn.unary=function(t){return Rs(t,1)},Vn.union=ss,Vn.unionBy=os,Vn.unionWith=us,Vn.uniq=function(t){return t&&t.length?fi(t):[]},Vn.uniqBy=function(t,e){return t&&t.length?fi(t,ha(e,2)):[]},Vn.uniqWith=function(t,e){return e="function"==typeof e?e:r,t&&t.length?fi(t,r,e):[]},Vn.unset=function(t,e){return null==t||di(t,e)},Vn.unzip=ls,Vn.unzipWith=hs,Vn.update=function(t,e,n){return null==t?t:pi(t,e,wi(n))},Vn.updateWith=function(t,e,n,i){return i="function"==typeof i?i:r,null==t?t:pi(t,e,wi(n),i)},Vn.values=qo,Vn.valuesIn=function(t){return null==t?[]:Ye(t,zo(t))},Vn.without=cs,Vn.words=ru,Vn.wrap=function(t,e){return Vs(wi(e),t)},Vn.xor=fs,Vn.xorBy=ds,Vn.xorWith=ps,Vn.zip=vs,Vn.zipObject=function(t,e){return yi(t||[],e||[],rr)},Vn.zipObjectDeep=function(t,e){return yi(t||[],e||[],ei)},Vn.zipWith=ms,Vn.entries=Ho,Vn.entriesIn=Xo,Vn.extend=Io,Vn.extendWith=So,du(Vn,Vn),Vn.add=Au,Vn.attempt=iu,Vn.camelCase=Go,Vn.capitalize=$o,Vn.ceil=Cu,Vn.clamp=function(t,e,n){return n===r&&(n=e,e=r),n!==r&&(n=(n=_o(n))==n?n:0),e!==r&&(e=(e=_o(e))==e?e:0),lr(_o(t),e,n)},Vn.clone=function(t){return hr(t,4)},Vn.cloneDeep=function(t){return hr(t,5)},Vn.cloneDeepWith=function(t,e){return hr(t,5,e="function"==typeof e?e:r)},Vn.cloneWith=function(t,e){return hr(t,4,e="function"==typeof e?e:r)},Vn.conformsTo=function(t,e){return null==e||cr(t,e,Bo(e))},Vn.deburr=Zo,Vn.defaultTo=function(t,e){return null==t||t!=t?e:t},Vn.divide=Pu,Vn.endsWith=function(t,e,n){t=Co(t),e=ci(e);var i=t.length,a=n=n===r?i:lr(wo(n),0,i);return(n-=e.length)>=0&&t.slice(n,a)==e},Vn.eq=Xs,Vn.escape=function(t){return(t=Co(t))&&Q.test(t)?t.replace($,rn):t},Vn.escapeRegExp=function(t){return(t=Co(t))&&it.test(t)?t.replace(rt,"\\$&"):t},Vn.every=function(t,e,n){var i=Zs(t)?xe:mr;return n&&ka(t,e,n)&&(e=r),i(t,ha(e,3))},Vn.find=ks,Vn.findIndex=$a,Vn.findKey=function(t,e){return ze(t,ha(e,3),_r)},Vn.findLast=_s,Vn.findLastIndex=Za,Vn.findLastKey=function(t,e){return ze(t,ha(e,3),Ar)},Vn.floor=Iu,Vn.forEach=As,Vn.forEachRight=Cs,Vn.forIn=function(t,e){return null==t?t:wr(t,ha(e,3),zo)},Vn.forInRight=function(t,e){return null==t?t:kr(t,ha(e,3),zo)},Vn.forOwn=function(t,e){return t&&_r(t,ha(e,3))},Vn.forOwnRight=function(t,e){return t&&Ar(t,ha(e,3))},Vn.get=Ro,Vn.gt=qs,Vn.gte=Gs,Vn.has=function(t,e){return null!=t&&ga(t,e,Mr)},Vn.hasIn=To,Vn.head=Ya,Vn.identity=lu,Vn.includes=function(t,e,n,r){t=Ys(t)?t:qo(t),n=n&&!r?wo(n):0;var i=t.length;return n<0&&(n=wn(i+n,0)),fo(t)?n<=i&&t.indexOf(e,n)>-1:!!i&&Fe(t,e,n)>-1},Vn.indexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:wo(n);return i<0&&(i=wn(r+i,0)),Fe(t,e,i)},Vn.inRange=function(t,e,n){return e=bo(e),n===r?(n=e,e=0):n=bo(n),function(t,e,n){return t>=kn(e,n)&&t<wn(e,n)}(t=_o(t),e,n)},Vn.invoke=Do,Vn.isArguments=$s,Vn.isArray=Zs,Vn.isArrayBuffer=Qs,Vn.isArrayLike=Ys,Vn.isArrayLikeObject=Js,Vn.isBoolean=function(t){return!0===t||!1===t||so(t)&&Sr(t)==b},Vn.isBuffer=Ks,Vn.isDate=to,Vn.isElement=function(t){return so(t)&&1===t.nodeType&&!lo(t)},Vn.isEmpty=function(t){if(null==t)return!0;if(Ys(t)&&(Zs(t)||"string"==typeof t||"function"==typeof t.splice||Ks(t)||vo(t)||$s(t)))return!t.length;var e=ma(t);if(e==C||e==M)return!t.size;if(Pa(t))return!zr(t).length;for(var n in t)if(Dt.call(t,n))return!1;return!0},Vn.isEqual=function(t,e){return jr(t,e)},Vn.isEqualWith=function(t,e,n){var i=(n="function"==typeof n?n:r)?n(t,e):r;return i===r?jr(t,e,r,n):!!i},Vn.isError=eo,Vn.isFinite=function(t){return"number"==typeof t&&gn(t)},Vn.isFunction=no,Vn.isInteger=ro,Vn.isLength=io,Vn.isMap=oo,Vn.isMatch=function(t,e){return t===e||Lr(t,e,fa(e))},Vn.isMatchWith=function(t,e,n){return n="function"==typeof n?n:r,Lr(t,e,fa(e),n)},Vn.isNaN=function(t){return uo(t)&&t!=+t},Vn.isNative=function(t){if(Ca(t))throw new Ct("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Dr(t)},Vn.isNil=function(t){return null==t},Vn.isNull=function(t){return null===t},Vn.isNumber=uo,Vn.isObject=ao,Vn.isObjectLike=so,Vn.isPlainObject=lo,Vn.isRegExp=ho,Vn.isSafeInteger=function(t){return ro(t)&&t>=-9007199254740991&&t<=d},Vn.isSet=co,Vn.isString=fo,Vn.isSymbol=po,Vn.isTypedArray=vo,Vn.isUndefined=function(t){return t===r},Vn.isWeakMap=function(t){return so(t)&&ma(t)==R},Vn.isWeakSet=function(t){return so(t)&&"[object WeakSet]"==Sr(t)},Vn.join=function(t,e){return null==t?"":yn.call(t,e)},Vn.kebabCase=Qo,Vn.last=es,Vn.lastIndexOf=function(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var a=i;return n!==r&&(a=(a=wo(n))<0?wn(i+a,0):kn(a,i-1)),e==e?function(t,e,n){for(var r=n+1;r--;)if(t[r]===e)return r;return r}(t,e,a):We(t,Ve,a,!0)},Vn.lowerCase=Yo,Vn.lowerFirst=Jo,Vn.lt=mo,Vn.lte=go,Vn.max=function(t){return t&&t.length?gr(t,lu,xr):r},Vn.maxBy=function(t,e){return t&&t.length?gr(t,ha(e,2),xr):r},Vn.mean=function(t){return Ne(t,lu)},Vn.meanBy=function(t,e){return Ne(t,ha(e,2))},Vn.min=function(t){return t&&t.length?gr(t,lu,Fr):r},Vn.minBy=function(t,e){return t&&t.length?gr(t,ha(e,2),Fr):r},Vn.stubArray=ku,Vn.stubFalse=_u,Vn.stubObject=function(){return{}},Vn.stubString=function(){return""},Vn.stubTrue=function(){return!0},Vn.multiply=xu,Vn.nth=function(t,e){return t&&t.length?Xr(t,wo(e)):r},Vn.noConflict=function(){return fe._===this&&(fe._=Ut),this},Vn.noop=pu,Vn.now=Os,Vn.pad=function(t,e,n){t=Co(t);var r=(e=wo(e))?fn(t):0;if(!e||r>=e)return t;var i=(e-r)/2;return qi(ge(i),n)+t+qi(me(i),n)},Vn.padEnd=function(t,e,n){t=Co(t);var r=(e=wo(e))?fn(t):0;return e&&r<e?t+qi(e-r,n):t},Vn.padStart=function(t,e,n){t=Co(t);var r=(e=wo(e))?fn(t):0;return e&&r<e?qi(e-r,n)+t:t},Vn.parseInt=function(t,e,n){return n||null==e?e=0:e&&(e=+e),An(Co(t).replace(at,""),e||0)},Vn.random=function(t,e,n){if(n&&"boolean"!=typeof n&&ka(t,e,n)&&(e=n=r),n===r&&("boolean"==typeof e?(n=e,e=r):"boolean"==typeof t&&(n=t,t=r)),t===r&&e===r?(t=0,e=1):(t=bo(t),e===r?(e=t,t=0):e=bo(e)),t>e){var i=t;t=e,e=i}if(n||t%1||e%1){var a=Cn();return kn(t+a*(e-t+ue("1e-"+((a+"").length-1))),e)}return Qr(t,e)},Vn.reduce=function(t,e,n){var r=Zs(t)?je:qe,i=arguments.length<3;return r(t,ha(e,4),n,i,pr)},Vn.reduceRight=function(t,e,n){var r=Zs(t)?Le:qe,i=arguments.length<3;return r(t,ha(e,4),n,i,vr)},Vn.repeat=function(t,e,n){return e=(n?ka(t,e,n):e===r)?1:wo(e),Yr(Co(t),e)},Vn.replace=function(){var t=arguments,e=Co(t[0]);return t.length<3?e:e.replace(t[1],t[2])},Vn.result=function(t,e,n){var i=-1,a=(e=ki(e,t)).length;for(a||(a=1,t=r);++i<a;){var s=null==t?r:t[Va(e[i])];s===r&&(i=a,s=n),t=no(s)?s.call(t):s}return t},Vn.round=Mu,Vn.runInContext=t,Vn.sample=function(t){return(Zs(t)?Kn:Kr)(t)},Vn.size=function(t){if(null==t)return 0;if(Ys(t))return fo(t)?fn(t):t.length;var e=ma(t);return e==C||e==M?t.size:zr(t).length},Vn.snakeCase=Ko,Vn.some=function(t,e,n){var i=Zs(t)?De:si;return n&&ka(t,e,n)&&(e=r),i(t,ha(e,3))},Vn.sortedIndex=function(t,e){return oi(t,e)},Vn.sortedIndexBy=function(t,e,n){return ui(t,e,ha(n,2))},Vn.sortedIndexOf=function(t,e){var n=null==t?0:t.length;if(n){var r=oi(t,e);if(r<n&&Xs(t[r],e))return r}return-1},Vn.sortedLastIndex=function(t,e){return oi(t,e,!0)},Vn.sortedLastIndexBy=function(t,e,n){return ui(t,e,ha(n,2),!0)},Vn.sortedLastIndexOf=function(t,e){if(null==t?0:t.length){var n=oi(t,e,!0)-1;if(Xs(t[n],e))return n}return-1},Vn.startCase=tu,Vn.startsWith=function(t,e,n){return t=Co(t),n=null==n?0:lr(wo(n),0,t.length),e=ci(e),t.slice(n,n+e.length)==e},Vn.subtract=Eu,Vn.sum=function(t){return t&&t.length?Ge(t,lu):0},Vn.sumBy=function(t,e){return t&&t.length?Ge(t,ha(e,2)):0},Vn.template=function(t,e,n){var i=Vn.templateSettings;n&&ka(t,e,n)&&(e=r),t=Co(t),e=So({},e,i,ta);var a,s,o=So({},e.imports,i.imports,ta),u=Bo(o),l=Ye(o,u),h=0,c=e.interpolate||kt,f="__p += '",d=xt((e.escape||kt).source+"|"+c.source+"|"+(c===K?dt:kt).source+"|"+(e.evaluate||kt).source+"|$","g"),p="//# sourceURL="+(Dt.call(e,"sourceURL")?(e.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++ie+"]")+"\n";t.replace(d,(function(e,n,r,i,o,u){return r||(r=i),f+=t.slice(h,u).replace(_t,an),n&&(a=!0,f+="' +\n__e("+n+") +\n'"),o&&(s=!0,f+="';\n"+o+";\n__p += '"),r&&(f+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),h=u+e.length,e})),f+="';\n";var v=Dt.call(e,"variable")&&e.variable;if(v){if(ct.test(v))throw new Ct("Invalid `variable` option passed into `_.template`")}else f="with (obj) {\n"+f+"\n}\n";f=(s?f.replace(H,""):f).replace(X,"$1").replace(q,"$1;"),f="function("+(v||"obj")+") {\n"+(v?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(a?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var m=iu((function(){return Pt(u,p+"return "+f).apply(r,l)}));if(m.source=f,eo(m))throw m;return m},Vn.times=function(t,e){if((t=wo(t))<1||t>d)return[];var n=v,r=kn(t,v);e=ha(e),t-=v;for(var i=$e(r,e);++n<t;)e(n);return i},Vn.toFinite=bo,Vn.toInteger=wo,Vn.toLength=ko,Vn.toLower=function(t){return Co(t).toLowerCase()},Vn.toNumber=_o,Vn.toSafeInteger=function(t){return t?lr(wo(t),-9007199254740991,d):0===t?t:0},Vn.toString=Co,Vn.toUpper=function(t){return Co(t).toUpperCase()},Vn.trim=function(t,e,n){if((t=Co(t))&&(n||e===r))return Ze(t);if(!t||!(e=ci(e)))return t;var i=dn(t),a=dn(e);return Ai(i,Ke(i,a),tn(i,a)+1).join("")},Vn.trimEnd=function(t,e,n){if((t=Co(t))&&(n||e===r))return t.slice(0,pn(t)+1);if(!t||!(e=ci(e)))return t;var i=dn(t);return Ai(i,0,tn(i,dn(e))+1).join("")},Vn.trimStart=function(t,e,n){if((t=Co(t))&&(n||e===r))return t.replace(at,"");if(!t||!(e=ci(e)))return t;var i=dn(t);return Ai(i,Ke(i,dn(e))).join("")},Vn.truncate=function(t,e){var n=30,i="...";if(ao(e)){var a="separator"in e?e.separator:a;n="length"in e?wo(e.length):n,i="omission"in e?ci(e.omission):i}var s=(t=Co(t)).length;if(sn(t)){var o=dn(t);s=o.length}if(n>=s)return t;var u=n-fn(i);if(u<1)return i;var l=o?Ai(o,0,u).join(""):t.slice(0,u);if(a===r)return l+i;if(o&&(u+=l.length-u),ho(a)){if(t.slice(u).search(a)){var h,c=l;for(a.global||(a=xt(a.source,Co(pt.exec(a))+"g")),a.lastIndex=0;h=a.exec(c);)var f=h.index;l=l.slice(0,f===r?u:f)}}else if(t.indexOf(ci(a),u)!=u){var d=l.lastIndexOf(a);d>-1&&(l=l.slice(0,d))}return l+i},Vn.unescape=function(t){return(t=Co(t))&&Z.test(t)?t.replace(G,vn):t},Vn.uniqueId=function(t){var e=++Bt;return Co(t)+e},Vn.upperCase=eu,Vn.upperFirst=nu,Vn.each=As,Vn.eachRight=Cs,Vn.first=Ya,du(Vn,(Su={},_r(Vn,(function(t,e){Dt.call(Vn.prototype,e)||(Su[e]=t)})),Su),{chain:!1}),Vn.VERSION="4.17.21",Ie(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){Vn[t].placeholder=Vn})),Ie(["drop","take"],(function(t,e){qn.prototype[t]=function(n){n=n===r?1:wn(wo(n),0);var i=this.__filtered__&&!e?new qn(this):this.clone();return i.__filtered__?i.__takeCount__=kn(n,i.__takeCount__):i.__views__.push({size:kn(n,v),type:t+(i.__dir__<0?"Right":"")}),i},qn.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}})),Ie(["filter","map","takeWhile"],(function(t,e){var n=e+1,r=1==n||3==n;qn.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:ha(t,3),type:n}),e.__filtered__=e.__filtered__||r,e}})),Ie(["head","last"],(function(t,e){var n="take"+(e?"Right":"");qn.prototype[t]=function(){return this[n](1).value()[0]}})),Ie(["initial","tail"],(function(t,e){var n="drop"+(e?"":"Right");qn.prototype[t]=function(){return this.__filtered__?new qn(this):this[n](1)}})),qn.prototype.compact=function(){return this.filter(lu)},qn.prototype.find=function(t){return this.filter(t).head()},qn.prototype.findLast=function(t){return this.reverse().find(t)},qn.prototype.invokeMap=Jr((function(t,e){return"function"==typeof t?new qn(this):this.map((function(n){return Rr(n,t,e)}))})),qn.prototype.reject=function(t){return this.filter(Fs(ha(t)))},qn.prototype.slice=function(t,e){t=wo(t);var n=this;return n.__filtered__&&(t>0||e<0)?new qn(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==r&&(n=(e=wo(e))<0?n.dropRight(-e):n.take(e-t)),n)},qn.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},qn.prototype.toArray=function(){return this.take(v)},_r(qn.prototype,(function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),i=/^(?:head|last)$/.test(e),a=Vn[i?"take"+("last"==e?"Right":""):e],s=i||/^find/.test(e);a&&(Vn.prototype[e]=function(){var e=this.__wrapped__,o=i?[1]:arguments,u=e instanceof qn,l=o[0],h=u||Zs(e),c=function(t){var e=a.apply(Vn,Te([t],o));return i&&f?e[0]:e};h&&n&&"function"==typeof l&&1!=l.length&&(u=h=!1);var f=this.__chain__,d=!!this.__actions__.length,p=s&&!f,v=u&&!d;if(!s&&h){e=v?e:new qn(this);var m=t.apply(e,o);return m.__actions__.push({func:ys,args:[c],thisArg:r}),new Xn(m,f)}return p&&v?t.apply(this,o):(m=this.thru(c),p?i?m.value()[0]:m.value():m)})})),Ie(["pop","push","shift","sort","splice","unshift"],(function(t){var e=Ot[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:pop|shift)$/.test(t);Vn.prototype[t]=function(){var t=arguments;if(r&&!this.__chain__){var i=this.value();return e.apply(Zs(i)?i:[],t)}return this[n]((function(n){return e.apply(Zs(n)?n:[],t)}))}})),_r(qn.prototype,(function(t,e){var n=Vn[e];if(n){var r=n.name+"";Dt.call(Tn,r)||(Tn[r]=[]),Tn[r].push({name:e,func:n})}})),Tn[Vi(r,2).name]=[{name:"wrapper",func:r}],qn.prototype.clone=function(){var t=new qn(this.__wrapped__);return t.__actions__=Oi(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Oi(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Oi(this.__views__),t},qn.prototype.reverse=function(){if(this.__filtered__){var t=new qn(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},qn.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,n=Zs(t),r=e<0,i=n?t.length:0,a=function(t,e,n){var r=-1,i=n.length;for(;++r<i;){var a=n[r],s=a.size;switch(a.type){case"drop":t+=s;break;case"dropRight":e-=s;break;case"take":e=kn(e,t+s);break;case"takeRight":t=wn(t,e-s)}}return{start:t,end:e}}(0,i,this.__views__),s=a.start,o=a.end,u=o-s,l=r?o:s-1,h=this.__iteratees__,c=h.length,f=0,d=kn(u,this.__takeCount__);if(!n||!r&&i==u&&d==u)return mi(t,this.__actions__);var p=[];t:for(;u--&&f<d;){for(var v=-1,m=t[l+=e];++v<c;){var g=h[v],y=g.iteratee,b=g.type,w=y(m);if(2==b)m=w;else if(!w){if(1==b)continue t;break t}}p[f++]=m}return p},Vn.prototype.at=bs,Vn.prototype.chain=function(){return gs(this)},Vn.prototype.commit=function(){return new Xn(this.value(),this.__chain__)},Vn.prototype.next=function(){this.__values__===r&&(this.__values__=yo(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?r:this.__values__[this.__index__++]}},Vn.prototype.plant=function(t){for(var e,n=this;n instanceof Hn;){var i=Ha(n);i.__index__=0,i.__values__=r,e?a.__wrapped__=i:e=i;var a=i;n=n.__wrapped__}return a.__wrapped__=t,e},Vn.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof qn){var e=t;return this.__actions__.length&&(e=new qn(this)),(e=e.reverse()).__actions__.push({func:ys,args:[as],thisArg:r}),new Xn(e,this.__chain__)}return this.thru(as)},Vn.prototype.toJSON=Vn.prototype.valueOf=Vn.prototype.value=function(){return mi(this.__wrapped__,this.__actions__)},Vn.prototype.first=Vn.prototype.head,ee&&(Vn.prototype[ee]=function(){return this}),Vn}();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(fe._=mn,define((function(){return mn}))):pe?((pe.exports=mn)._=mn,de._=mn):fe._=mn}).call(this)}));var a,s,o={};
/*!
 * wavesurfer.js 6.2.0 (2022-05-16)
 * https://wavesurfer-js.org
 * @license BSD-3-Clause
 */a=self,s=()=>{return t={"./src/drawer.canvasentry.js":(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=a(n(/*! ./util/style */"./src/util/style.js")),i=a(n(/*! ./util/get-id */"./src/util/get-id.js"));function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var o=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.wave=null,this.waveCtx=null,this.progress=null,this.progressCtx=null,this.start=0,this.end=1,this.id=(0,i.default)(void 0!==this.constructor.name?this.constructor.name.toLowerCase()+"_":"canvasentry_"),this.canvasContextAttributes={}}var e,n,a;return e=t,(n=[{key:"initWave",value:function(t){this.wave=t,this.waveCtx=this.wave.getContext("2d",this.canvasContextAttributes)}},{key:"initProgress",value:function(t){this.progress=t,this.progressCtx=this.progress.getContext("2d",this.canvasContextAttributes)}},{key:"updateDimensions",value:function(t,e,n,i){this.start=this.wave.offsetLeft/e||0,this.end=this.start+t/e,this.wave.width=n,this.wave.height=i;var a={width:t+"px"};(0,r.default)(this.wave,a),this.hasProgressCanvas&&(this.progress.width=n,this.progress.height=i,(0,r.default)(this.progress,a))}},{key:"clearWave",value:function(){this.waveCtx.clearRect(0,0,this.waveCtx.canvas.width,this.waveCtx.canvas.height),this.hasProgressCanvas&&this.progressCtx.clearRect(0,0,this.progressCtx.canvas.width,this.progressCtx.canvas.height)}},{key:"setFillStyles",value:function(t,e){this.waveCtx.fillStyle=this.getFillStyle(this.waveCtx,t),this.hasProgressCanvas&&(this.progressCtx.fillStyle=this.getFillStyle(this.progressCtx,e))}},{key:"getFillStyle",value:function(t,e){if("string"==typeof e||e instanceof CanvasGradient)return e;var n=t.createLinearGradient(0,0,0,t.canvas.height);return e.forEach((function(t,r){return n.addColorStop(r/e.length,t)})),n}},{key:"applyCanvasTransforms",value:function(t){t&&(this.waveCtx.setTransform(0,1,1,0,0,0),this.hasProgressCanvas&&this.progressCtx.setTransform(0,1,1,0,0,0))}},{key:"fillRects",value:function(t,e,n,r,i){this.fillRectToContext(this.waveCtx,t,e,n,r,i),this.hasProgressCanvas&&this.fillRectToContext(this.progressCtx,t,e,n,r,i)}},{key:"fillRectToContext",value:function(t,e,n,r,i,a){t&&(a?this.drawRoundedRect(t,e,n,r,i,a):t.fillRect(e,n,r,i))}},{key:"drawRoundedRect",value:function(t,e,n,r,i,a){0!==i&&(i<0&&(n-=i*=-1),t.beginPath(),t.moveTo(e+a,n),t.lineTo(e+r-a,n),t.quadraticCurveTo(e+r,n,e+r,n+a),t.lineTo(e+r,n+i-a),t.quadraticCurveTo(e+r,n+i,e+r-a,n+i),t.lineTo(e+a,n+i),t.quadraticCurveTo(e,n+i,e,n+i-a),t.lineTo(e,n+a),t.quadraticCurveTo(e,n,e+a,n),t.closePath(),t.fill())}},{key:"drawLines",value:function(t,e,n,r,i,a){this.drawLineToContext(this.waveCtx,t,e,n,r,i,a),this.hasProgressCanvas&&this.drawLineToContext(this.progressCtx,t,e,n,r,i,a)}},{key:"drawLineToContext",value:function(t,e,n,r,i,a,s){if(t){var o,u,l,h=e.length/2,c=Math.round(h*this.start),f=c,d=Math.round(h*this.end)+1,p=this.wave.width/(d-f-1),v=r+i,m=n/r;for(t.beginPath(),t.moveTo((f-c)*p,v),t.lineTo((f-c)*p,v-Math.round((e[2*f]||0)/m)),o=f;o<d;o++)u=e[2*o]||0,l=Math.round(u/m),t.lineTo((o-c)*p+this.halfPixel,v-l);for(var g=d-1;g>=f;g--)u=e[2*g+1]||0,l=Math.round(u/m),t.lineTo((g-c)*p+this.halfPixel,v-l);t.lineTo((f-c)*p,v-Math.round((e[2*f+1]||0)/m)),t.closePath(),t.fill()}}},{key:"destroy",value:function(){this.waveCtx=null,this.wave=null,this.progressCtx=null,this.progress=null}},{key:"getImage",value:function(t,e,n){var r=this;return"blob"===n?new Promise((function(n){r.wave.toBlob(n,t,e)})):"dataURL"===n?this.wave.toDataURL(t,e):void 0}}])&&s(e.prototype,n),a&&s(e,a),Object.defineProperty(e,"prototype",{writable:!1}),t}();e.default=o,t.exports=e.default},"./src/drawer.js":(t,e,n)=>{function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!=typeof t)return{default:t};var n=a(e);if(n&&n.has(t))return n.get(t);var i={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if("default"!==o&&Object.prototype.hasOwnProperty.call(t,o)){var u=s?Object.getOwnPropertyDescriptor(t,o):null;u&&(u.get||u.set)?Object.defineProperty(i,o,u):i[o]=t[o]}return i.default=t,n&&n.set(t,i),i}(n(/*! ./util */"./src/util/index.js"));function a(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(a=function(t){return t?n:e})(t)}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=h(t);if(e){var i=h(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l(this,n)}}function l(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var c=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&o(t,e)}(l,t);var e,n,r,a=u(l);function l(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,l),(n=a.call(this)).container=i.withOrientation(t,e.vertical),n.params=e,n.width=0,n.height=e.height*n.params.pixelRatio,n.lastPos=0,n.wrapper=null,n}return e=l,(n=[{key:"style",value:function(t,e){return i.style(t,e)}},{key:"createWrapper",value:function(){this.wrapper=i.withOrientation(this.container.appendChild(document.createElement("wave")),this.params.vertical),this.style(this.wrapper,{display:"block",position:"relative",userSelect:"none",webkitUserSelect:"none",height:this.params.height+"px"}),(this.params.fillParent||this.params.scrollParent)&&this.style(this.wrapper,{width:"100%",cursor:this.params.hideCursor?"none":"auto",overflowX:this.params.hideScrollbar?"hidden":"auto",overflowY:"hidden"}),this.setupWrapperEvents()}},{key:"handleEvent",value:function(t,e){!e&&t.preventDefault();var n,r=i.withOrientation(t.targetTouches?t.targetTouches[0]:t,this.params.vertical).clientX,a=this.wrapper.getBoundingClientRect(),s=this.width,o=this.getWidth(),u=this.getProgressPixels(a,r);return n=!this.params.fillParent&&s<o?u*(this.params.pixelRatio/s)||0:(u+this.wrapper.scrollLeft)/this.wrapper.scrollWidth||0,i.clamp(n,0,1)}},{key:"getProgressPixels",value:function(t,e){return this.params.rtl?t.right-e:e-t.left}},{key:"setupWrapperEvents",value:function(){var t=this;this.wrapper.addEventListener("click",(function(e){var n=i.withOrientation(e,t.params.vertical),r=t.wrapper.offsetHeight-t.wrapper.clientHeight;if(0!==r){var a=t.wrapper.getBoundingClientRect();if(n.clientY>=a.bottom-r)return}t.params.interact&&t.fireEvent("click",e,t.handleEvent(e))})),this.wrapper.addEventListener("dblclick",(function(e){t.params.interact&&t.fireEvent("dblclick",e,t.handleEvent(e))})),this.wrapper.addEventListener("scroll",(function(e){return t.fireEvent("scroll",e)}))}},{key:"drawPeaks",value:function(t,e,n,r){this.setWidth(e)||this.clearWave(),this.params.barWidth?this.drawBars(t,0,n,r):this.drawWave(t,0,n,r)}},{key:"resetScroll",value:function(){null!==this.wrapper&&(this.wrapper.scrollLeft=0)}},{key:"recenter",value:function(t){var e=this.wrapper.scrollWidth*t;this.recenterOnPosition(e,!0)}},{key:"recenterOnPosition",value:function(t,e){var n=this.wrapper.scrollLeft,r=~~(this.wrapper.clientWidth/2),i=this.wrapper.scrollWidth-this.wrapper.clientWidth,a=t-r,s=a-n;if(0!=i){if(!e&&-r<=s&&s<r){var o=this.params.autoCenterRate;o/=r,o*=i,a=n+(s=Math.max(-o,Math.min(o,s)))}(a=Math.max(0,Math.min(i,a)))!=n&&(this.wrapper.scrollLeft=a)}}},{key:"getScrollX",value:function(){var t=0;if(this.wrapper){var e=this.params.pixelRatio;if(t=Math.round(this.wrapper.scrollLeft*e),this.params.scrollParent){var n=~~(this.wrapper.scrollWidth*e-this.getWidth());t=Math.min(n,Math.max(0,t))}}return t}},{key:"getWidth",value:function(){return Math.round(this.container.clientWidth*this.params.pixelRatio)}},{key:"setWidth",value:function(t){if(this.width==t)return!1;if(this.width=t,this.params.fillParent||this.params.scrollParent)this.style(this.wrapper,{width:""});else{var e=~~(this.width/this.params.pixelRatio)+"px";this.style(this.wrapper,{width:e})}return this.updateSize(),!0}},{key:"setHeight",value:function(t){return t!=this.height&&(this.height=t,this.style(this.wrapper,{height:~~(this.height/this.params.pixelRatio)+"px"}),this.updateSize(),!0)}},{key:"progress",value:function(t){var e=1/this.params.pixelRatio,n=Math.round(t*this.width)*e;if(n<this.lastPos||n-this.lastPos>=e){if(this.lastPos=n,this.params.scrollParent&&this.params.autoCenter){var r=~~(this.wrapper.scrollWidth*t);this.recenterOnPosition(r,this.params.autoCenterImmediately)}this.updateProgress(n)}}},{key:"destroy",value:function(){this.unAll(),this.wrapper&&(this.wrapper.parentNode==this.container.domElement&&this.container.removeChild(this.wrapper.domElement),this.wrapper=null)}},{key:"updateCursor",value:function(){}},{key:"updateSize",value:function(){}},{key:"drawBars",value:function(t,e,n,r){}},{key:"drawWave",value:function(t,e,n,r){}},{key:"clearWave",value:function(){}},{key:"updateProgress",value:function(t){}}])&&s(e.prototype,n),r&&s(e,r),Object.defineProperty(e,"prototype",{writable:!1}),l}(i.Observer);e.default=c,t.exports=e.default},"./src/drawer.multicanvas.js":(t,e,n)=>{function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=u(n(/*! ./drawer */"./src/drawer.js")),a=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!=typeof t)return{default:t};var n=o(e);if(n&&n.has(t))return n.get(t);var i={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if("default"!==s&&Object.prototype.hasOwnProperty.call(t,s)){var u=a?Object.getOwnPropertyDescriptor(t,s):null;u&&(u.get||u.set)?Object.defineProperty(i,s,u):i[s]=t[s]}return i.default=t,n&&n.set(t,i),i}(n(/*! ./util */"./src/util/index.js")),s=u(n(/*! ./drawer.canvasentry */"./src/drawer.canvasentry.js"));function o(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(o=function(t){return t?n:e})(t)}function u(t){return t&&t.__esModule?t:{default:t}}function l(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function h(t,e){return(h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=d(t);if(e){var i=d(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f(this,n)}}function f(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function d(t){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var p=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&h(t,e)}(o,t);var e,n,r,i=c(o);function o(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(n=i.call(this,t,e)).maxCanvasWidth=e.maxCanvasWidth,n.maxCanvasElementWidth=Math.round(e.maxCanvasWidth/e.pixelRatio),n.hasProgressCanvas=e.waveColor!=e.progressColor,n.halfPixel=.5/e.pixelRatio,n.canvases=[],n.progressWave=null,n.EntryClass=s.default,n.canvasContextAttributes=e.drawingContextAttributes,n.overlap=2*Math.ceil(e.pixelRatio/2),n.barRadius=e.barRadius||0,n.vertical=e.vertical,n}return e=o,n=[{key:"init",value:function(){this.createWrapper(),this.createElements()}},{key:"createElements",value:function(){this.progressWave=a.withOrientation(this.wrapper.appendChild(document.createElement("wave")),this.params.vertical),this.style(this.progressWave,{position:"absolute",zIndex:3,left:0,top:0,bottom:0,overflow:"hidden",width:"0",display:"none",boxSizing:"border-box",borderRightStyle:"solid",pointerEvents:"none"}),this.addCanvas(),this.updateCursor()}},{key:"updateCursor",value:function(){this.style(this.progressWave,{borderRightWidth:this.params.cursorWidth+"px",borderRightColor:this.params.cursorColor})}},{key:"updateSize",value:function(){for(var t=this,e=Math.round(this.width/this.params.pixelRatio),n=Math.ceil(e/(this.maxCanvasElementWidth+this.overlap));this.canvases.length<n;)this.addCanvas();for(;this.canvases.length>n;)this.removeCanvas();var r=this.maxCanvasWidth+this.overlap,i=this.canvases.length-1;this.canvases.forEach((function(e,n){n==i&&(r=t.width-t.maxCanvasWidth*i),t.updateDimensions(e,r,t.height),e.clearWave()}))}},{key:"addCanvas",value:function(){var t=new this.EntryClass;t.canvasContextAttributes=this.canvasContextAttributes,t.hasProgressCanvas=this.hasProgressCanvas,t.halfPixel=this.halfPixel;var e=this.maxCanvasElementWidth*this.canvases.length,n=a.withOrientation(this.wrapper.appendChild(document.createElement("canvas")),this.params.vertical);if(this.style(n,{position:"absolute",zIndex:2,left:e+"px",top:0,bottom:0,height:"100%",pointerEvents:"none"}),t.initWave(n),this.hasProgressCanvas){var r=a.withOrientation(this.progressWave.appendChild(document.createElement("canvas")),this.params.vertical);this.style(r,{position:"absolute",left:e+"px",top:0,bottom:0,height:"100%"}),t.initProgress(r)}this.canvases.push(t)}},{key:"removeCanvas",value:function(){var t=this.canvases[this.canvases.length-1];t.wave.parentElement.removeChild(t.wave.domElement),this.hasProgressCanvas&&t.progress.parentElement.removeChild(t.progress.domElement),t&&(t.destroy(),t=null),this.canvases.pop()}},{key:"updateDimensions",value:function(t,e,n){var r=Math.round(e/this.params.pixelRatio),i=Math.round(this.width/this.params.pixelRatio);t.updateDimensions(r,i,e,n),this.style(this.progressWave,{display:"block"})}},{key:"clearWave",value:function(){var t=this;a.frame((function(){t.canvases.forEach((function(t){return t.clearWave()}))}))()}},{key:"drawBars",value:function(t,e,n,r){var i=this;return this.prepareDraw(t,e,n,r,(function(t){var e=t.absmax,a=t.hasMinVals,s=(t.height,t.offsetY),o=t.halfH,u=t.peaks,l=t.channelIndex;if(void 0!==n)for(var h=a?2:1,c=u.length/h,f=i.params.barWidth*i.params.pixelRatio,d=f+(null===i.params.barGap?Math.max(i.params.pixelRatio,~~(f/2)):Math.max(i.params.pixelRatio,i.params.barGap*i.params.pixelRatio)),p=c/i.width,v=r,m=n;m<v;m+=d){var g=0,y=Math.floor(m*p)*h,b=Math.floor((m+d)*p)*h;do{var w=Math.abs(u[y]);w>g&&(g=w),y+=h}while(y<b);var k=Math.round(g/e*o);0==k&&i.params.barMinHeight&&(k=i.params.barMinHeight),i.fillRect(m+i.halfPixel,o-k+s,f+i.halfPixel,2*k,i.barRadius,l)}}))}},{key:"drawWave",value:function(t,e,n,r){var i=this;return this.prepareDraw(t,e,n,r,(function(t){var e=t.absmax,a=t.hasMinVals,s=(t.height,t.offsetY),o=t.halfH,u=t.peaks,l=t.channelIndex;if(!a){for(var h=[],c=u.length,f=0;f<c;f++)h[2*f]=u[f],h[2*f+1]=-u[f];u=h}void 0!==n&&i.drawLine(u,e,o,s,n,r,l),i.fillRect(0,o+s-i.halfPixel,i.width,i.halfPixel,i.barRadius,l)}))}},{key:"drawLine",value:function(t,e,n,r,i,a,s){var o=this,u=this.params.splitChannelsOptions.channelColors[s]||{},l=u.waveColor,h=u.progressColor;this.canvases.forEach((function(s,u){o.setFillStyles(s,l,h),o.applyCanvasTransforms(s,o.params.vertical),s.drawLines(t,e,n,r,i,a)}))}},{key:"fillRect",value:function(t,e,n,r,i,a){for(var s=Math.floor(t/this.maxCanvasWidth),o=Math.min(Math.ceil((t+n)/this.maxCanvasWidth)+1,this.canvases.length),u=s;u<o;u++){var l=this.canvases[u],h=u*this.maxCanvasWidth,c={x1:Math.max(t,u*this.maxCanvasWidth),y1:e,x2:Math.min(t+n,u*this.maxCanvasWidth+l.wave.width),y2:e+r};if(c.x1<c.x2){var f=this.params.splitChannelsOptions.channelColors[a]||{},d=f.waveColor,p=f.progressColor;this.setFillStyles(l,d,p),this.applyCanvasTransforms(l,this.params.vertical),l.fillRects(c.x1-h,c.y1,c.x2-c.x1,c.y2-c.y1,i)}}}},{key:"hideChannel",value:function(t){return this.params.splitChannels&&this.params.splitChannelsOptions.filterChannels.includes(t)}},{key:"prepareDraw",value:function(t,e,n,r,i,s,o){var u=this;return a.frame((function(){if(t[0]instanceof Array){var l=t;if(u.params.splitChannels){var h,c=l.filter((function(t,e){return!u.hideChannel(e)}));return u.params.splitChannelsOptions.overlay||u.setHeight(Math.max(c.length,1)*u.params.height*u.params.pixelRatio),u.params.splitChannelsOptions&&u.params.splitChannelsOptions.relativeNormalization&&(h=a.max(l.map((function(t){return a.absMax(t)})))),l.forEach((function(t,e){return u.prepareDraw(t,e,n,r,i,c.indexOf(t),h)}))}t=l[0]}if(!u.hideChannel(e)){var f=1/u.params.barHeight;u.params.normalize&&(f=void 0===o?a.absMax(t):o);var d=[].some.call(t,(function(t){return t<0})),p=u.params.height*u.params.pixelRatio,v=p/2,m=p*s||0;return u.params.splitChannelsOptions&&u.params.splitChannelsOptions.overlay&&(m=0),i({absmax:f,hasMinVals:d,height:p,offsetY:m,halfH:v,peaks:t,channelIndex:e})}}))()}},{key:"setFillStyles",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.params.waveColor,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.params.progressColor;t.setFillStyles(e,n)}},{key:"applyCanvasTransforms",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t.applyCanvasTransforms(e)}},{key:"getImage",value:function(t,e,n){if("blob"===n)return Promise.all(this.canvases.map((function(r){return r.getImage(t,e,n)})));if("dataURL"===n){var r=this.canvases.map((function(r){return r.getImage(t,e,n)}));return r.length>1?r:r[0]}}},{key:"updateProgress",value:function(t){this.style(this.progressWave,{width:t+"px"})}}],n&&l(e.prototype,n),r&&l(e,r),Object.defineProperty(e,"prototype",{writable:!1}),o}(i.default);e.default=p,t.exports=e.default},"./src/mediaelement-webaudio.js":(t,e,n)=>{function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i;function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s(){return s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=o(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},s.apply(this,arguments)}function o(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=c(t)););return t}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function l(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=c(t);if(e){var i=c(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h(this,n)}}function h(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var f=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&u(t,e)}(o,t);var e,n,r,i=l(o);function o(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(e=i.call(this,t)).params=t,e.sourceMediaElement=null,e}return e=o,(n=[{key:"init",value:function(){this.setPlaybackRate(this.params.audioRate),this.createTimer(),this.createVolumeNode(),this.createScriptNode(),this.createAnalyserNode()}},{key:"_load",value:function(t,e,n){s(c(o.prototype),"_load",this).call(this,t,e,n),this.createMediaElementSource(t)}},{key:"createMediaElementSource",value:function(t){this.sourceMediaElement=this.ac.createMediaElementSource(t),this.sourceMediaElement.connect(this.analyser)}},{key:"play",value:function(t,e){return this.resumeAudioContext(),s(c(o.prototype),"play",this).call(this,t,e)}},{key:"destroy",value:function(){s(c(o.prototype),"destroy",this).call(this),this.destroyWebAudio()}}])&&a(e.prototype,n),r&&a(e,r),Object.defineProperty(e,"prototype",{writable:!1}),o}(((i=n(/*! ./mediaelement */"./src/mediaelement.js"))&&i.__esModule?i:{default:i}).default);e.default=f,t.exports=e.default},"./src/mediaelement.js":(t,e,n)=>{function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i,a=(i=n(/*! ./webaudio */"./src/webaudio.js"))&&i.__esModule?i:{default:i},s=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!=typeof t)return{default:t};var n=o(e);if(n&&n.has(t))return n.get(t);var i={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if("default"!==s&&Object.prototype.hasOwnProperty.call(t,s)){var u=a?Object.getOwnPropertyDescriptor(t,s):null;u&&(u.get||u.set)?Object.defineProperty(i,s,u):i[s]=t[s]}return i.default=t,n&&n.set(t,i),i}(n(/*! ./util */"./src/util/index.js"));function o(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(o=function(t){return t?n:e})(t)}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function l(){return l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=h(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},l.apply(this,arguments)}function h(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=p(t)););return t}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function f(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=p(t);if(e){var i=p(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return d(this,n)}}function d(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var v=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&c(t,e)}(a,t);var e,n,r,i=f(a);function a(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(e=i.call(this,t)).params=t,e.media={currentTime:0,duration:0,paused:!0,playbackRate:1,play:function(){},pause:function(){},volume:0},e.mediaType=t.mediaType.toLowerCase(),e.elementPosition=t.elementPosition,e.peaks=null,e.playbackRate=1,e.volume=1,e.isMuted=!1,e.buffer=null,e.onPlayEnd=null,e.mediaListeners={},e}return e=a,(n=[{key:"init",value:function(){this.setPlaybackRate(this.params.audioRate),this.createTimer()}},{key:"_setupMediaListeners",value:function(){var t=this;this.mediaListeners.error=function(){t.fireEvent("error","Error loading media element")},this.mediaListeners.canplay=function(){t.fireEvent("canplay")},this.mediaListeners.ended=function(){t.fireEvent("finish")},this.mediaListeners.play=function(){t.fireEvent("play")},this.mediaListeners.pause=function(){t.fireEvent("pause")},this.mediaListeners.seeked=function(e){t.fireEvent("seek")},this.mediaListeners.volumechange=function(e){t.isMuted=t.media.muted,t.isMuted?t.volume=0:t.volume=t.media.volume,t.fireEvent("volume")},Object.keys(this.mediaListeners).forEach((function(e){t.media.removeEventListener(e,t.mediaListeners[e]),t.media.addEventListener(e,t.mediaListeners[e])}))}},{key:"createTimer",value:function(){var t=this;this.on("play",(function e(){t.isPaused()||(t.fireEvent("audioprocess",t.getCurrentTime()),s.frame(e)())})),this.on("pause",(function(){t.fireEvent("audioprocess",t.getCurrentTime())}))}},{key:"load",value:function(t,e,n,r){var i=document.createElement(this.mediaType);i.controls=this.params.mediaControls,i.autoplay=this.params.autoplay||!1,i.preload=null==r?"auto":r,i.src=t,i.style.width="100%";var a=e.querySelector(this.mediaType);a&&e.removeChild(a),e.appendChild(i),this._load(i,n,r)}},{key:"loadElt",value:function(t,e){t.controls=this.params.mediaControls,t.autoplay=this.params.autoplay||!1,this._load(t,e,t.preload)}},{key:"_load",value:function(t,e,n){if(!(t instanceof HTMLMediaElement)||void 0===t.addEventListener)throw new Error("media parameter is not a valid media element");"function"!=typeof t.load||e&&"none"==n||t.load(),this.media=t,this._setupMediaListeners(),this.peaks=e,this.onPlayEnd=null,this.buffer=null,this.isMuted=t.muted,this.setPlaybackRate(this.playbackRate),this.setVolume(this.volume)}},{key:"isPaused",value:function(){return!this.media||this.media.paused}},{key:"getDuration",value:function(){if(this.explicitDuration)return this.explicitDuration;var t=(this.buffer||this.media).duration;return t>=1/0&&(t=this.media.seekable.end(0)),t}},{key:"getCurrentTime",value:function(){return this.media&&this.media.currentTime}},{key:"getPlayedPercents",value:function(){return this.getCurrentTime()/this.getDuration()||0}},{key:"getPlaybackRate",value:function(){return this.playbackRate||this.media.playbackRate}},{key:"setPlaybackRate",value:function(t){this.playbackRate=t||1,this.media.playbackRate=this.playbackRate}},{key:"seekTo",value:function(t){null==t||isNaN(t)||(this.media.currentTime=t),this.clearPlayEnd()}},{key:"play",value:function(t,e){this.seekTo(t);var n=this.media.play();return e&&this.setPlayEnd(e),n}},{key:"pause",value:function(){var t;return this.media&&(t=this.media.pause()),this.clearPlayEnd(),t}},{key:"setPlayEnd",value:function(t){var e=this;this.clearPlayEnd(),this._onPlayEnd=function(n){n>=t&&(e.pause(),e.seekTo(t))},this.on("audioprocess",this._onPlayEnd)}},{key:"clearPlayEnd",value:function(){this._onPlayEnd&&(this.un("audioprocess",this._onPlayEnd),this._onPlayEnd=null)}},{key:"getPeaks",value:function(t,e,n){return this.buffer?l(p(a.prototype),"getPeaks",this).call(this,t,e,n):this.peaks||[]}},{key:"setSinkId",value:function(t){return t?this.media.setSinkId?this.media.setSinkId(t):Promise.reject(new Error("setSinkId is not supported in your browser")):Promise.reject(new Error("Invalid deviceId: "+t))}},{key:"getVolume",value:function(){return this.volume}},{key:"setVolume",value:function(t){this.volume=t,this.media.volume!==this.volume&&(this.media.volume=this.volume)}},{key:"setMute",value:function(t){this.isMuted=this.media.muted=t}},{key:"destroy",value:function(){var t=this;this.pause(),this.unAll(),this.destroyed=!0,Object.keys(this.mediaListeners).forEach((function(e){t.media&&t.media.removeEventListener(e,t.mediaListeners[e])})),this.params.removeMediaElementOnDestroy&&this.media&&this.media.parentNode&&this.media.parentNode.removeChild(this.media),this.media=null}}])&&u(e.prototype,n),r&&u(e,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(a.default);e.default=v,t.exports=e.default},"./src/peakcache.js":(t,e)=>{function n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.clearPeakCache()}var e,r,i;return e=t,(r=[{key:"clearPeakCache",value:function(){this.peakCacheRanges=[],this.peakCacheLength=-1}},{key:"addRangeToPeakCache",value:function(t,e,n){t!=this.peakCacheLength&&(this.clearPeakCache(),this.peakCacheLength=t);for(var r=[],i=0;i<this.peakCacheRanges.length&&this.peakCacheRanges[i]<e;)i++;for(i%2==0&&r.push(e);i<this.peakCacheRanges.length&&this.peakCacheRanges[i]<=n;)r.push(this.peakCacheRanges[i]),i++;i%2==0&&r.push(n),r=r.filter((function(t,e,n){return 0==e?t!=n[e+1]:e==n.length-1?t!=n[e-1]:t!=n[e-1]&&t!=n[e+1]})),this.peakCacheRanges=this.peakCacheRanges.concat(r),this.peakCacheRanges=this.peakCacheRanges.sort((function(t,e){return t-e})).filter((function(t,e,n){return 0==e?t!=n[e+1]:e==n.length-1?t!=n[e-1]:t!=n[e-1]&&t!=n[e+1]}));var a=[];for(i=0;i<r.length;i+=2)a.push([r[i],r[i+1]]);return a}},{key:"getCacheRanges",value:function(){var t,e=[];for(t=0;t<this.peakCacheRanges.length;t+=2)e.push([this.peakCacheRanges[t],this.peakCacheRanges[t+1]]);return e}}])&&n(e.prototype,r),i&&n(e,i),Object.defineProperty(e,"prototype",{writable:!1}),t}();e.default=r,t.exports=e.default},"./src/util/absMax.js":(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=(0,r.default)(t),n=(0,i.default)(t);return-n>e?-n:e};var r=a(n(/*! ./max */"./src/util/max.js")),i=a(n(/*! ./min */"./src/util/min.js"));function a(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},"./src/util/clamp.js":(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n){return Math.min(Math.max(e,t),n)},t.exports=e.default},"./src/util/fetch.js":(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){if(!t)throw new Error("fetch options missing");if(!t.url)throw new Error("fetch url missing");var e=new i.default,n=new Headers,r=new Request(t.url);e.controller=new AbortController,t&&t.requestHeaders&&t.requestHeaders.forEach((function(t){n.append(t.key,t.value)}));var a=t.responseType||"json",o={method:t.method||"GET",headers:n,mode:t.mode||"cors",credentials:t.credentials||"same-origin",cache:t.cache||"default",redirect:t.redirect||"follow",referrer:t.referrer||"client",signal:e.controller.signal};return fetch(r,o).then((function(t){e.response=t;var n=!0;t.body||(n=!1);var r=t.headers.get("content-length");return null===r&&(n=!1),n?(e.onProgress=function(t){e.fireEvent("progress",t)},new Response(new ReadableStream(new s(e,r,t)),o)):t})).then((function(t){var e;if(t.ok)switch(a){case"arraybuffer":return t.arrayBuffer();case"json":return t.json();case"blob":return t.blob();case"text":return t.text();default:e="Unknown responseType: "+a}throw e||(e="HTTP error status: "+t.status),new Error(e)})).then((function(t){e.fireEvent("success",t)})).catch((function(t){e.fireEvent("error",t)})),e.fetchRequest=r,e};var r,i=(r=n(/*! ./observer */"./src/util/observer.js"))&&r.__esModule?r:{default:r};function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var s=function(){function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.instance=e,this.instance._reader=r.body.getReader(),this.total=parseInt(n,10),this.loaded=0}var e,n,r;return e=t,(n=[{key:"start",value:function(t){var e=this;!function n(){e.instance._reader.read().then((function(r){var i=r.done,a=r.value;if(i)return 0===e.total&&e.instance.onProgress.call(e.instance,{loaded:e.loaded,total:e.total,lengthComputable:!1}),void t.close();e.loaded+=a.byteLength,e.instance.onProgress.call(e.instance,{loaded:e.loaded,total:e.total,lengthComputable:!(0===e.total)}),t.enqueue(a),n()})).catch((function(e){t.error(e)}))}()}}])&&a(e.prototype,n),r&&a(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();t.exports=e.default},"./src/util/frame.js":(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(0,i.default)((function(){return t.apply(void 0,n)}))}};var r,i=(r=n(/*! ./request-animation-frame */"./src/util/request-animation-frame.js"))&&r.__esModule?r:{default:r};t.exports=e.default},"./src/util/get-id.js":(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return void 0===t&&(t="wavesurfer_"),t+Math.random().toString(32).substring(2)},t.exports=e.default},"./src/util/index.js":(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"Observer",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(e,"absMax",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(e,"clamp",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(e,"debounce",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(e,"fetchFile",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(e,"frame",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(e,"getId",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(e,"ignoreSilenceMode",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(e,"max",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(e,"min",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(e,"preventClick",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(e,"requestAnimationFrame",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(e,"style",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(e,"withOrientation",{enumerable:!0,get:function(){return v.default}});var r=g(n(/*! ./get-id */"./src/util/get-id.js")),i=g(n(/*! ./max */"./src/util/max.js")),a=g(n(/*! ./min */"./src/util/min.js")),s=g(n(/*! ./absMax */"./src/util/absMax.js")),o=g(n(/*! ./observer */"./src/util/observer.js")),u=g(n(/*! ./style */"./src/util/style.js")),l=g(n(/*! ./request-animation-frame */"./src/util/request-animation-frame.js")),h=g(n(/*! ./frame */"./src/util/frame.js")),c=g(n(/*! debounce */"./node_modules/debounce/index.js")),f=g(n(/*! ./prevent-click */"./src/util/prevent-click.js")),d=g(n(/*! ./fetch */"./src/util/fetch.js")),p=g(n(/*! ./clamp */"./src/util/clamp.js")),v=g(n(/*! ./orientation */"./src/util/orientation.js")),m=g(n(/*! ./silence-mode */"./src/util/silence-mode.js"));function g(t){return t&&t.__esModule?t:{default:t}}},"./src/util/max.js":(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=-1/0;return Object.keys(t).forEach((function(n){t[n]>e&&(e=t[n])})),e},t.exports=e.default},"./src/util/min.js":(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=Number(1/0);return Object.keys(t).forEach((function(n){t[n]<e&&(e=t[n])})),e},t.exports=e.default},"./src/util/observer.js":(t,e)=>{function n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._disabledEventEmissions=[],this.handlers=null}var e,r,i;return e=t,r=[{key:"on",value:function(t,e){var n=this;this.handlers||(this.handlers={});var r=this.handlers[t];return r||(r=this.handlers[t]=[]),r.push(e),{name:t,callback:e,un:function(t,e){return n.un(t,e)}}}},{key:"un",value:function(t,e){if(this.handlers){var n,r=this.handlers[t];if(r)if(e)for(n=r.length-1;n>=0;n--)r[n]==e&&r.splice(n,1);else r.length=0}}},{key:"unAll",value:function(){this.handlers=null}},{key:"once",value:function(t,e){var n=this;return this.on(t,(function r(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];e.apply(n,a),setTimeout((function(){n.un(t,r)}),0)}))}},{key:"setDisabledEventEmissions",value:function(t){this._disabledEventEmissions=t}},{key:"_isDisabledEventEmission",value:function(t){return this._disabledEventEmissions&&this._disabledEventEmissions.includes(t)}},{key:"fireEvent",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];if(this.handlers&&!this._isDisabledEventEmission(t)){var i=this.handlers[t];i&&i.forEach((function(t){t.apply(void 0,n)}))}}}],r&&n(e.prototype,r),i&&n(e,i),Object.defineProperty(e,"prototype",{writable:!1}),t}();e.default=r,t.exports=e.default},"./src/util/orientation.js":(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=function t(e,n){return e[i]?e:new Proxy(e,{get:function(e,a,s){if(a===i)return!0;if("domElement"===a)return e;if("style"===a)return t(e.style,n);if("canvas"===a)return t(e.canvas,n);if("getBoundingClientRect"===a)return function(){return t(e.getBoundingClientRect.apply(e,arguments),n)};if("getContext"===a)return function(){return t(e.getContext.apply(e,arguments),n)};var o=e[r(a,n)];return"function"==typeof o?o.bind(e):o},set:function(t,e,i){return t[r(e,n)]=i,!0}})};var n={width:"height",height:"width",overflowX:"overflowY",overflowY:"overflowX",clientWidth:"clientHeight",clientHeight:"clientWidth",clientX:"clientY",clientY:"clientX",scrollWidth:"scrollHeight",scrollLeft:"scrollTop",offsetLeft:"offsetTop",offsetTop:"offsetLeft",offsetHeight:"offsetWidth",offsetWidth:"offsetHeight",left:"top",right:"bottom",top:"left",bottom:"right",borderRightStyle:"borderBottomStyle",borderRightWidth:"borderBottomWidth",borderRightColor:"borderBottomColor"};function r(t,e){return Object.prototype.hasOwnProperty.call(n,t)&&e?n[t]:t}var i=Symbol("isProxy");t.exports=e.default},"./src/util/prevent-click.js":(t,e)=>{function n(t){t.stopPropagation(),document.body.removeEventListener("click",n,!0)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){document.body.addEventListener("click",n,!0)},t.exports=e.default},"./src/util/request-animation-frame.js":(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t,e){return setTimeout(t,1e3/60)}).bind(window);e.default=n,t.exports=e.default},"./src/util/silence-mode.js":(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){var t=document.createElement("div");t.innerHTML='<audio x-webkit-airplay="deny"></audio>';var e=t.children.item(0);e.src="data:audio/mpeg;base64,//uQxAAAAAAAAAAAAAAAAAAAAAAAWGluZwAAAA8AAAACAAACcQCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA//////////////////////////////////////////////////////////////////8AAABhTEFNRTMuMTAwA8MAAAAAAAAAABQgJAUHQQAB9AAAAnGMHkkIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//sQxAADgnABGiAAQBCqgCRMAAgEAH///////////////7+n/9FTuQsQH//////2NG0jWUGlio5gLQTOtIoeR2WX////X4s9Atb/JRVCbBUpeRUq//////////////////9RUi0f2jn/+xDECgPCjAEQAABN4AAANIAAAAQVTEFNRTMuMTAwVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVQ==",e.preload="auto",e.type="audio/mpeg",e.disableRemotePlayback=!0,e.play(),e.remove(),t.remove()},t.exports=e.default},"./src/util/style.js":(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){return Object.keys(e).forEach((function(n){t.style[n]!==e[n]&&(t.style[n]=e[n])})),t},t.exports=e.default},"./src/wavesurfer.js":(t,e,n)=>{function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!=typeof t)return{default:t};var n=c(e);if(n&&n.has(t))return n.get(t);var i={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if("default"!==s&&Object.prototype.hasOwnProperty.call(t,s)){var o=a?Object.getOwnPropertyDescriptor(t,s):null;o&&(o.get||o.set)?Object.defineProperty(i,s,o):i[s]=t[s]}return i.default=t,n&&n.set(t,i),i}(n(/*! ./util */"./src/util/index.js")),a=h(n(/*! ./drawer.multicanvas */"./src/drawer.multicanvas.js")),s=h(n(/*! ./webaudio */"./src/webaudio.js")),o=h(n(/*! ./mediaelement */"./src/mediaelement.js")),u=h(n(/*! ./peakcache */"./src/peakcache.js")),l=h(n(/*! ./mediaelement-webaudio */"./src/mediaelement-webaudio.js"));function h(t){return t&&t.__esModule?t:{default:t}}function c(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(c=function(t){return t?n:e})(t)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function d(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m(t);if(e){var i=m(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return p(this,n)}}function p(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return v(t)}function v(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function m(t){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function g(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function y(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function b(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function w(t,e,n){return e&&b(t.prototype,e),n&&b(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var k=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&f(t,e)}(n,t);var e=d(n);function n(t){var r;if(y(this,n),g(v(r=e.call(this)),"defaultParams",{audioContext:null,audioScriptProcessor:null,audioRate:1,autoCenter:!0,autoCenterRate:5,autoCenterImmediately:!1,backend:"WebAudio",backgroundColor:null,barHeight:1,barRadius:0,barGap:null,barMinHeight:null,container:null,cursorColor:"#333",cursorWidth:1,dragSelection:!0,drawingContextAttributes:{desynchronized:!1},duration:null,fillParent:!0,forceDecode:!1,height:128,hideScrollbar:!1,hideCursor:!1,ignoreSilenceMode:!1,interact:!0,loopSelection:!0,maxCanvasWidth:4e3,mediaContainer:null,mediaControls:!1,mediaType:"audio",minPxPerSec:20,normalize:!1,partialRender:!1,pixelRatio:window.devicePixelRatio||screen.deviceXDPI/screen.logicalXDPI,plugins:[],progressColor:"#555",removeMediaElementOnDestroy:!0,renderer:a.default,responsive:!1,rtl:!1,scrollParent:!1,skipLength:2,splitChannels:!1,splitChannelsOptions:{overlay:!1,channelColors:{},filterChannels:[],relativeNormalization:!1},vertical:!1,waveColor:"#999",xhr:{}}),g(v(r),"backends",{MediaElement:o.default,WebAudio:s.default,MediaElementWebAudio:l.default}),g(v(r),"util",i),r.params=Object.assign({},r.defaultParams,t),r.params.splitChannelsOptions=Object.assign({},r.defaultParams.splitChannelsOptions,t.splitChannelsOptions),r.container="string"==typeof t.container?document.querySelector(r.params.container):r.params.container,!r.container)throw new Error("Container element not found");if(null==r.params.mediaContainer?r.mediaContainer=r.container:"string"==typeof r.params.mediaContainer?r.mediaContainer=document.querySelector(r.params.mediaContainer):r.mediaContainer=r.params.mediaContainer,!r.mediaContainer)throw new Error("Media Container element not found");if(r.params.maxCanvasWidth<=1)throw new Error("maxCanvasWidth must be greater than 1");if(r.params.maxCanvasWidth%2==1)throw new Error("maxCanvasWidth must be an even number");if(!0===r.params.rtl&&(!0===r.params.vertical?i.style(r.container,{transform:"rotateX(180deg)"}):i.style(r.container,{transform:"rotateY(180deg)"})),r.params.backgroundColor&&r.setBackgroundColor(r.params.backgroundColor),r.savedVolume=0,r.isMuted=!1,r.tmpEvents=[],r.currentRequest=null,r.arraybuffer=null,r.drawer=null,r.backend=null,r.peakCache=null,"function"!=typeof r.params.renderer)throw new Error("Renderer parameter is invalid");r.Drawer=r.params.renderer,"AudioElement"==r.params.backend&&(r.params.backend="MediaElement"),"WebAudio"!=r.params.backend&&"MediaElementWebAudio"!==r.params.backend||s.default.prototype.supportsWebAudio.call(null)||(r.params.backend="MediaElement"),r.Backend=r.backends[r.params.backend],r.initialisedPluginList={},r.isDestroyed=!1,r.isReady=!1;var u=0;return r._onResize=i.debounce((function(){r.drawer.wrapper&&u!=r.drawer.wrapper.clientWidth&&!r.params.scrollParent&&(u=r.drawer.wrapper.clientWidth)&&r.drawer.fireEvent("redraw")}),"number"==typeof r.params.responsive?r.params.responsive:100),p(r,v(r))}return w(n,[{key:"init",value:function(){return this.registerPlugins(this.params.plugins),this.createDrawer(),this.createBackend(),this.createPeakCache(),this}},{key:"registerPlugins",value:function(t){var e=this;return t.forEach((function(t){return e.addPlugin(t)})),t.forEach((function(t){t.deferInit||e.initPlugin(t.name)})),this.fireEvent("plugins-registered",t),this}},{key:"getActivePlugins",value:function(){return this.initialisedPluginList}},{key:"addPlugin",value:function(t){var e=this;if(!t.name)throw new Error("Plugin does not have a name!");if(!t.instance)throw new Error("Plugin ".concat(t.name," does not have an instance property!"));t.staticProps&&Object.keys(t.staticProps).forEach((function(n){e[n]=t.staticProps[n]}));var n=t.instance;return Object.getOwnPropertyNames(i.Observer.prototype).forEach((function(t){n.prototype[t]=i.Observer.prototype[t]})),this[t.name]=new n(t.params||{},this),this.fireEvent("plugin-added",t.name),this}},{key:"initPlugin",value:function(t){if(!this[t])throw new Error("Plugin ".concat(t," has not been added yet!"));return this.initialisedPluginList[t]&&this.destroyPlugin(t),this[t].init(),this.initialisedPluginList[t]=!0,this.fireEvent("plugin-initialised",t),this}},{key:"destroyPlugin",value:function(t){if(!this[t])throw new Error("Plugin ".concat(t," has not been added yet and cannot be destroyed!"));if(!this.initialisedPluginList[t])throw new Error("Plugin ".concat(t," is not active and cannot be destroyed!"));if("function"!=typeof this[t].destroy)throw new Error("Plugin ".concat(t," does not have a destroy function!"));return this[t].destroy(),delete this.initialisedPluginList[t],this.fireEvent("plugin-destroyed",t),this}},{key:"destroyAllPlugins",value:function(){var t=this;Object.keys(this.initialisedPluginList).forEach((function(e){return t.destroyPlugin(e)}))}},{key:"createDrawer",value:function(){var t=this;this.drawer=new this.Drawer(this.container,this.params),this.drawer.init(),this.fireEvent("drawer-created",this.drawer),!1!==this.params.responsive&&(window.addEventListener("resize",this._onResize,!0),window.addEventListener("orientationchange",this._onResize,!0)),this.drawer.on("redraw",(function(){t.drawBuffer(),t.drawer.progress(t.backend.getPlayedPercents())})),this.drawer.on("click",(function(e,n){setTimeout((function(){return t.seekTo(n)}),0)})),this.drawer.on("scroll",(function(e){t.params.partialRender&&t.drawBuffer(),t.fireEvent("scroll",e)}))}},{key:"createBackend",value:function(){var t=this;this.backend&&this.backend.destroy(),this.backend=new this.Backend(this.params),this.backend.init(),this.fireEvent("backend-created",this.backend),this.backend.on("finish",(function(){t.drawer.progress(t.backend.getPlayedPercents()),t.fireEvent("finish")})),this.backend.on("play",(function(){return t.fireEvent("play")})),this.backend.on("pause",(function(){return t.fireEvent("pause")})),this.backend.on("audioprocess",(function(e){t.drawer.progress(t.backend.getPlayedPercents()),t.fireEvent("audioprocess",e)})),"MediaElement"!==this.params.backend&&"MediaElementWebAudio"!==this.params.backend||(this.backend.on("seek",(function(){t.drawer.progress(t.backend.getPlayedPercents())})),this.backend.on("volume",(function(){var e=t.getVolume();t.fireEvent("volume",e),t.backend.isMuted!==t.isMuted&&(t.isMuted=t.backend.isMuted,t.fireEvent("mute",t.isMuted))})))}},{key:"createPeakCache",value:function(){this.params.partialRender&&(this.peakCache=new u.default)}},{key:"getDuration",value:function(){return this.backend.getDuration()}},{key:"getCurrentTime",value:function(){return this.backend.getCurrentTime()}},{key:"setCurrentTime",value:function(t){t>=this.getDuration()?this.seekTo(1):this.seekTo(t/this.getDuration())}},{key:"play",value:function(t,e){var n=this;return this.params.ignoreSilenceMode&&i.ignoreSilenceMode(),this.fireEvent("interaction",(function(){return n.play(t,e)})),this.backend.play(t,e)}},{key:"setPlayEnd",value:function(t){this.backend.setPlayEnd(t)}},{key:"pause",value:function(){if(!this.backend.isPaused())return this.backend.pause()}},{key:"playPause",value:function(){return this.backend.isPaused()?this.play():this.pause()}},{key:"isPlaying",value:function(){return!this.backend.isPaused()}},{key:"skipBackward",value:function(t){this.skip(-t||-this.params.skipLength)}},{key:"skipForward",value:function(t){this.skip(t||this.params.skipLength)}},{key:"skip",value:function(t){var e=this.getDuration()||1,n=this.getCurrentTime()||0;n=Math.max(0,Math.min(e,n+(t||0))),this.seekAndCenter(n/e)}},{key:"seekAndCenter",value:function(t){this.seekTo(t),this.drawer.recenter(t)}},{key:"seekTo",value:function(t){var e=this;if("number"!=typeof t||!isFinite(t)||t<0||t>1)throw new Error("Error calling wavesurfer.seekTo, parameter must be a number between 0 and 1!");this.fireEvent("interaction",(function(){return e.seekTo(t)}));var n="WebAudio"===this.params.backend,r=this.backend.isPaused();n&&!r&&this.backend.pause();var i=this.params.scrollParent;this.params.scrollParent=!1,this.backend.seekTo(t*this.getDuration()),this.drawer.progress(t),n&&!r&&this.backend.play(),this.params.scrollParent=i,this.fireEvent("seek",t)}},{key:"stop",value:function(){this.pause(),this.seekTo(0),this.drawer.progress(0)}},{key:"setSinkId",value:function(t){return this.backend.setSinkId(t)}},{key:"setVolume",value:function(t){this.backend.setVolume(t),this.fireEvent("volume",t)}},{key:"getVolume",value:function(){return this.backend.getVolume()}},{key:"setPlaybackRate",value:function(t){this.backend.setPlaybackRate(t)}},{key:"getPlaybackRate",value:function(){return this.backend.getPlaybackRate()}},{key:"toggleMute",value:function(){this.setMute(!this.isMuted)}},{key:"setMute",value:function(t){t!==this.isMuted?(this.backend.setMute?(this.backend.setMute(t),this.isMuted=t):t?(this.savedVolume=this.backend.getVolume(),this.backend.setVolume(0),this.isMuted=!0,this.fireEvent("volume",0)):(this.backend.setVolume(this.savedVolume),this.isMuted=!1,this.fireEvent("volume",this.savedVolume)),this.fireEvent("mute",this.isMuted)):this.fireEvent("mute",this.isMuted)}},{key:"getMute",value:function(){return this.isMuted}},{key:"getFilters",value:function(){return this.backend.filters||[]}},{key:"toggleScroll",value:function(){this.params.scrollParent=!this.params.scrollParent,this.drawBuffer()}},{key:"toggleInteraction",value:function(){this.params.interact=!this.params.interact}},{key:"getWaveColor",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this.params.splitChannelsOptions.channelColors[t]?this.params.splitChannelsOptions.channelColors[t].waveColor:this.params.waveColor}},{key:"setWaveColor",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.params.splitChannelsOptions.channelColors[e]?this.params.splitChannelsOptions.channelColors[e].waveColor=t:this.params.waveColor=t,this.drawBuffer()}},{key:"getProgressColor",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this.params.splitChannelsOptions.channelColors[t]?this.params.splitChannelsOptions.channelColors[t].progressColor:this.params.progressColor}},{key:"setProgressColor",value:function(t,e){this.params.splitChannelsOptions.channelColors[e]?this.params.splitChannelsOptions.channelColors[e].progressColor=t:this.params.progressColor=t,this.drawBuffer()}},{key:"getBackgroundColor",value:function(){return this.params.backgroundColor}},{key:"setBackgroundColor",value:function(t){this.params.backgroundColor=t,i.style(this.container,{background:this.params.backgroundColor})}},{key:"getCursorColor",value:function(){return this.params.cursorColor}},{key:"setCursorColor",value:function(t){this.params.cursorColor=t,this.drawer.updateCursor()}},{key:"getHeight",value:function(){return this.params.height}},{key:"setHeight",value:function(t){this.params.height=t,this.drawer.setHeight(t*this.params.pixelRatio),this.drawBuffer()}},{key:"setFilteredChannels",value:function(t){this.params.splitChannelsOptions.filterChannels=t,this.drawBuffer()}},{key:"drawBuffer",value:function(){var t,e=Math.round(this.getDuration()*this.params.minPxPerSec*this.params.pixelRatio),n=this.drawer.getWidth(),r=e,i=0,a=Math.max(i+n,r);if(this.params.fillParent&&(!this.params.scrollParent||e<n)&&(i=0,a=r=n),this.params.partialRender){var s,o=this.peakCache.addRangeToPeakCache(r,i,a);for(s=0;s<o.length;s++)t=this.backend.getPeaks(r,o[s][0],o[s][1]),this.drawer.drawPeaks(t,r,o[s][0],o[s][1])}else t=this.backend.getPeaks(r,i,a),this.drawer.drawPeaks(t,r,i,a);this.fireEvent("redraw",t,r)}},{key:"zoom",value:function(t){t?(this.params.minPxPerSec=t,this.params.scrollParent=!0):(this.params.minPxPerSec=this.defaultParams.minPxPerSec,this.params.scrollParent=!1),this.drawBuffer(),this.drawer.progress(this.backend.getPlayedPercents()),this.drawer.recenter(this.getCurrentTime()/this.getDuration()),this.fireEvent("zoom",t)}},{key:"loadArrayBuffer",value:function(t){var e=this;this.decodeArrayBuffer(t,(function(t){e.isDestroyed||e.loadDecodedBuffer(t)}))}},{key:"loadDecodedBuffer",value:function(t){this.backend.load(t),this.drawBuffer(),this.isReady=!0,this.fireEvent("ready")}},{key:"loadBlob",value:function(t){var e=this,n=new FileReader;n.addEventListener("progress",(function(t){return e.onProgress(t)})),n.addEventListener("load",(function(t){return e.loadArrayBuffer(t.target.result)})),n.addEventListener("error",(function(){return e.fireEvent("error","Error reading file")})),n.readAsArrayBuffer(t),this.empty()}},{key:"load",value:function(t,e,n,r){if(!t)throw new Error("url parameter cannot be empty");if(this.empty(),n){var i={"Preload is not 'auto', 'none' or 'metadata'":-1===["auto","metadata","none"].indexOf(n),"Peaks are not provided":!e,"Backend is not of type 'MediaElement' or 'MediaElementWebAudio'":-1===["MediaElement","MediaElementWebAudio"].indexOf(this.params.backend),"Url is not of type string":"string"!=typeof t},a=Object.keys(i).filter((function(t){return i[t]}));a.length&&(console.warn("Preload parameter of wavesurfer.load will be ignored because:\n\t- "+a.join("\n\t- ")),n=null)}switch("WebAudio"===this.params.backend&&t instanceof HTMLMediaElement&&(t=t.src),this.params.backend){case"WebAudio":return this.loadBuffer(t,e,r);case"MediaElement":case"MediaElementWebAudio":return this.loadMediaElement(t,e,n,r)}}},{key:"loadBuffer",value:function(t,e,n){var r=this,i=function(e){return e&&r.tmpEvents.push(r.once("ready",e)),r.getArrayBuffer(t,(function(t){return r.loadArrayBuffer(t)}))};if(!e)return i();this.backend.setPeaks(e,n),this.drawBuffer(),this.fireEvent("waveform-ready"),this.tmpEvents.push(this.once("interaction",i))}},{key:"loadMediaElement",value:function(t,e,n,r){var i=this,a=t;if("string"==typeof t)this.backend.load(a,this.mediaContainer,e,n);else{var s=t;this.backend.loadElt(s,e),a=s.src}this.tmpEvents.push(this.backend.once("canplay",(function(){i.backend.destroyed||(i.drawBuffer(),i.isReady=!0,i.fireEvent("ready"))})),this.backend.once("error",(function(t){return i.fireEvent("error",t)}))),e&&(this.backend.setPeaks(e,r),this.drawBuffer(),this.fireEvent("waveform-ready")),e&&!this.params.forceDecode||!this.backend.supportsWebAudio()||this.getArrayBuffer(a,(function(t){i.decodeArrayBuffer(t,(function(t){i.backend.buffer=t,i.backend.setPeaks(null),i.drawBuffer(),i.fireEvent("waveform-ready")}))}))}},{key:"decodeArrayBuffer",value:function(t,e){var n=this;this.isDestroyed||(this.arraybuffer=t,this.backend.decodeArrayBuffer(t,(function(r){n.isDestroyed||n.arraybuffer!=t||(e(r),n.arraybuffer=null)}),(function(){return n.fireEvent("error","Error decoding audiobuffer")})))}},{key:"getArrayBuffer",value:function(t,e){var n=this,r=Object.assign({url:t,responseType:"arraybuffer"},this.params.xhr),a=i.fetchFile(r);return this.currentRequest=a,this.tmpEvents.push(a.on("progress",(function(t){n.onProgress(t)})),a.on("success",(function(t){e(t),n.currentRequest=null})),a.on("error",(function(t){n.fireEvent("error",t),n.currentRequest=null}))),a}},{key:"onProgress",value:function(t){var e;e=t.lengthComputable?t.loaded/t.total:t.loaded/(t.loaded+1e6),this.fireEvent("loading",Math.round(100*e),t.target)}},{key:"exportPCM",value:function(t,e,n,r,i){t=t||1024,r=r||0,e=e||1e4,n=n||!1;var a=this.backend.getPeaks(t,r,i),s=[].map.call(a,(function(t){return Math.round(t*e)/e}));return new Promise((function(t,e){if(!n){var r=new Blob([JSON.stringify(s)],{type:"application/json;charset=utf-8"}),i=URL.createObjectURL(r);window.open(i),URL.revokeObjectURL(i)}t(s)}))}},{key:"exportImage",value:function(t,e,n){return t||(t="image/png"),e||(e=1),n||(n="dataURL"),this.drawer.getImage(t,e,n)}},{key:"cancelAjax",value:function(){this.currentRequest&&this.currentRequest.controller&&(this.currentRequest._reader&&this.currentRequest._reader.cancel().catch((function(t){})),this.currentRequest.controller.abort(),this.currentRequest=null)}},{key:"clearTmpEvents",value:function(){this.tmpEvents.forEach((function(t){return t.un()}))}},{key:"empty",value:function(){this.backend.isPaused()||(this.stop(),this.backend.disconnectSource()),this.isReady=!1,this.cancelAjax(),this.clearTmpEvents(),this.drawer.progress(0),this.drawer.setWidth(0),this.drawer.drawPeaks({length:this.drawer.getWidth()},0)}},{key:"destroy",value:function(){this.destroyAllPlugins(),this.fireEvent("destroy"),this.cancelAjax(),this.clearTmpEvents(),this.unAll(),!1!==this.params.responsive&&(window.removeEventListener("resize",this._onResize,!0),window.removeEventListener("orientationchange",this._onResize,!0)),this.backend&&(this.backend.destroy(),this.backend=null),this.drawer&&this.drawer.destroy(),this.isDestroyed=!0,this.isReady=!1,this.arraybuffer=null}}],[{key:"create",value:function(t){return new n(t).init()}}]),n}(i.Observer);e.default=k,g(k,"VERSION","6.2.0"),g(k,"util",i),t.exports=e.default},"./src/webaudio.js":(t,e,n)=>{function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!=typeof t)return{default:t};var n=a(e);if(n&&n.has(t))return n.get(t);var i={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if("default"!==o&&Object.prototype.hasOwnProperty.call(t,o)){var u=s?Object.getOwnPropertyDescriptor(t,o):null;u&&(u.get||u.set)?Object.defineProperty(i,o,u):i[o]=t[o]}return i.default=t,n&&n.set(t,i),i}(n(/*! ./util */"./src/util/index.js"));function a(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(a=function(t){return t?n:e})(t)}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=c(t);if(e){var i=c(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l(this,n)}}function l(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return h(t)}function h(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function f(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var d="playing",p="paused",v="finished",m=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&o(t,e)}(a,t);var e,n,r,i=u(a);function a(t){var e,n,r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),f(h(r=i.call(this)),"audioContext",null),f(h(r),"offlineAudioContext",null),f(h(r),"stateBehaviors",(f(e={},d,{init:function(){this.addOnAudioProcess()},getPlayedPercents:function(){var t=this.getDuration();return this.getCurrentTime()/t||0},getCurrentTime:function(){return this.startPosition+this.getPlayedTime()}}),f(e,p,{init:function(){this.removeOnAudioProcess()},getPlayedPercents:function(){var t=this.getDuration();return this.getCurrentTime()/t||0},getCurrentTime:function(){return this.startPosition}}),f(e,v,{init:function(){this.removeOnAudioProcess(),this.fireEvent("finish")},getPlayedPercents:function(){return 1},getCurrentTime:function(){return this.getDuration()}}),e)),r.params=t,r.ac=t.audioContext||(r.supportsWebAudio()?r.getAudioContext():{}),r.lastPlay=r.ac.currentTime,r.startPosition=0,r.scheduledPause=null,r.states=(f(n={},d,Object.create(r.stateBehaviors.playing)),f(n,p,Object.create(r.stateBehaviors.paused)),f(n,v,Object.create(r.stateBehaviors.finished)),n),r.buffer=null,r.filters=[],r.gainNode=null,r.mergedPeaks=null,r.offlineAc=null,r.peaks=null,r.playbackRate=1,r.analyser=null,r.scriptNode=null,r.source=null,r.splitPeaks=[],r.state=null,r.explicitDuration=t.duration,r.sinkStreamDestination=null,r.sinkAudioElement=null,r.destroyed=!1,r}return e=a,n=[{key:"supportsWebAudio",value:function(){return!(!window.AudioContext&&!window.webkitAudioContext)}},{key:"getAudioContext",value:function(){return window.WaveSurferAudioContext||(window.WaveSurferAudioContext=new(window.AudioContext||window.webkitAudioContext)),window.WaveSurferAudioContext}},{key:"getOfflineAudioContext",value:function(t){return window.WaveSurferOfflineAudioContext||(window.WaveSurferOfflineAudioContext=new(window.OfflineAudioContext||window.webkitOfflineAudioContext)(1,2,t)),window.WaveSurferOfflineAudioContext}},{key:"init",value:function(){this.createVolumeNode(),this.createScriptNode(),this.createAnalyserNode(),this.setState(p),this.setPlaybackRate(this.params.audioRate),this.setLength(0)}},{key:"disconnectFilters",value:function(){this.filters&&(this.filters.forEach((function(t){t&&t.disconnect()})),this.filters=null,this.analyser.connect(this.gainNode))}},{key:"setState",value:function(t){this.state!==this.states[t]&&(this.state=this.states[t],this.state.init.call(this))}},{key:"setFilter",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this.setFilters(e)}},{key:"setFilters",value:function(t){this.disconnectFilters(),t&&t.length&&(this.filters=t,this.analyser.disconnect(),t.reduce((function(t,e){return t.connect(e),e}),this.analyser).connect(this.gainNode))}},{key:"createScriptNode",value:function(){this.params.audioScriptProcessor?this.scriptNode=this.params.audioScriptProcessor:this.ac.createScriptProcessor?this.scriptNode=this.ac.createScriptProcessor(a.scriptBufferSize):this.scriptNode=this.ac.createJavaScriptNode(a.scriptBufferSize),this.scriptNode.connect(this.ac.destination)}},{key:"addOnAudioProcess",value:function(){var t=this;this.scriptNode.onaudioprocess=function(){var e=t.getCurrentTime();e>=t.getDuration()?(t.setState(v),t.fireEvent("pause")):e>=t.scheduledPause?t.pause():t.state===t.states.playing&&t.fireEvent("audioprocess",e)}}},{key:"removeOnAudioProcess",value:function(){this.scriptNode.onaudioprocess=null}},{key:"createAnalyserNode",value:function(){this.analyser=this.ac.createAnalyser(),this.analyser.connect(this.gainNode)}},{key:"createVolumeNode",value:function(){this.ac.createGain?this.gainNode=this.ac.createGain():this.gainNode=this.ac.createGainNode(),this.gainNode.connect(this.ac.destination)}},{key:"setSinkId",value:function(t){return t?(this.sinkAudioElement||(this.sinkAudioElement=new window.Audio,this.sinkAudioElement.autoplay=!0),this.sinkAudioElement.setSinkId?(this.sinkStreamDestination||(this.sinkStreamDestination=this.ac.createMediaStreamDestination()),this.gainNode.disconnect(),this.gainNode.connect(this.sinkStreamDestination),this.sinkAudioElement.srcObject=this.sinkStreamDestination.stream,this.sinkAudioElement.setSinkId(t)):Promise.reject(new Error("setSinkId is not supported in your browser"))):Promise.reject(new Error("Invalid deviceId: "+t))}},{key:"setVolume",value:function(t){this.gainNode.gain.setValueAtTime(t,this.ac.currentTime)}},{key:"getVolume",value:function(){return this.gainNode.gain.value}},{key:"decodeArrayBuffer",value:function(t,e,n){this.offlineAc||(this.offlineAc=this.getOfflineAudioContext(this.ac&&this.ac.sampleRate?this.ac.sampleRate:44100)),"webkitAudioContext"in window?this.offlineAc.decodeAudioData(t,(function(t){return e(t)}),n):this.offlineAc.decodeAudioData(t).then((function(t){return e(t)})).catch((function(t){return n(t)}))}},{key:"setPeaks",value:function(t,e){null!=e&&(this.explicitDuration=e),this.peaks=t}},{key:"setLength",value:function(t){if(!this.mergedPeaks||t!=2*this.mergedPeaks.length-1+2){this.splitPeaks=[],this.mergedPeaks=[];var e,n=this.buffer?this.buffer.numberOfChannels:1;for(e=0;e<n;e++)this.splitPeaks[e]=[],this.splitPeaks[e][2*(t-1)]=0,this.splitPeaks[e][2*(t-1)+1]=0;this.mergedPeaks[2*(t-1)]=0,this.mergedPeaks[2*(t-1)+1]=0}}},{key:"getPeaks",value:function(t,e,n){if(this.peaks)return this.peaks;if(!this.buffer)return[];if(e=e||0,n=n||t-1,this.setLength(t),!this.buffer)return this.params.splitChannels?this.splitPeaks:this.mergedPeaks;if(!this.buffer.length){var r=this.createBuffer(1,4096,this.sampleRate);this.buffer=r.buffer}var i,a=this.buffer.length/t,s=~~(a/10)||1,o=this.buffer.numberOfChannels;for(i=0;i<o;i++){var u=this.splitPeaks[i],l=this.buffer.getChannelData(i),h=void 0;for(h=e;h<=n;h++){var c=~~(h*a),f=~~(c+a),d=l[c],p=d,v=void 0;for(v=c;v<f;v+=s){var m=l[v];m>p&&(p=m),m<d&&(d=m)}u[2*h]=p,u[2*h+1]=d,(0==i||p>this.mergedPeaks[2*h])&&(this.mergedPeaks[2*h]=p),(0==i||d<this.mergedPeaks[2*h+1])&&(this.mergedPeaks[2*h+1]=d)}}return this.params.splitChannels?this.splitPeaks:this.mergedPeaks}},{key:"getPlayedPercents",value:function(){return this.state.getPlayedPercents.call(this)}},{key:"disconnectSource",value:function(){this.source&&this.source.disconnect()}},{key:"destroyWebAudio",value:function(){this.disconnectFilters(),this.disconnectSource(),this.gainNode.disconnect(),this.scriptNode.disconnect(),this.analyser.disconnect(),this.params.closeAudioContext&&("function"==typeof this.ac.close&&"closed"!=this.ac.state&&this.ac.close(),this.ac=null,this.params.audioContext?this.params.audioContext=null:window.WaveSurferAudioContext=null,window.WaveSurferOfflineAudioContext=null),this.sinkStreamDestination&&(this.sinkAudioElement.pause(),this.sinkAudioElement.srcObject=null,this.sinkStreamDestination.disconnect(),this.sinkStreamDestination=null)}},{key:"destroy",value:function(){this.isPaused()||this.pause(),this.unAll(),this.buffer=null,this.destroyed=!0,this.destroyWebAudio()}},{key:"load",value:function(t){this.startPosition=0,this.lastPlay=this.ac.currentTime,this.buffer=t,this.createSource()}},{key:"createSource",value:function(){this.disconnectSource(),this.source=this.ac.createBufferSource(),this.source.start=this.source.start||this.source.noteGrainOn,this.source.stop=this.source.stop||this.source.noteOff,this.setPlaybackRate(this.playbackRate),this.source.buffer=this.buffer,this.source.connect(this.analyser)}},{key:"resumeAudioContext",value:function(){"suspended"==this.ac.state&&this.ac.resume&&this.ac.resume()}},{key:"isPaused",value:function(){return this.state!==this.states.playing}},{key:"getDuration",value:function(){return this.explicitDuration?this.explicitDuration:this.buffer?this.buffer.duration:0}},{key:"seekTo",value:function(t,e){if(this.buffer)return this.scheduledPause=null,null==t&&(t=this.getCurrentTime())>=this.getDuration()&&(t=0),null==e&&(e=this.getDuration()),this.startPosition=t,this.lastPlay=this.ac.currentTime,this.state===this.states.finished&&this.setState(p),{start:t,end:e}}},{key:"getPlayedTime",value:function(){return(this.ac.currentTime-this.lastPlay)*this.playbackRate}},{key:"play",value:function(t,e){if(this.buffer){this.createSource();var n=this.seekTo(t,e);t=n.start,e=n.end,this.scheduledPause=e,this.source.start(0,t),this.resumeAudioContext(),this.setState(d),this.fireEvent("play")}}},{key:"pause",value:function(){this.scheduledPause=null,this.startPosition+=this.getPlayedTime();try{this.source&&this.source.stop(0)}catch(t){}this.setState(p),this.fireEvent("pause")}},{key:"getCurrentTime",value:function(){return this.state.getCurrentTime.call(this)}},{key:"getPlaybackRate",value:function(){return this.playbackRate}},{key:"setPlaybackRate",value:function(t){this.playbackRate=t||1,this.source&&this.source.playbackRate.setValueAtTime(this.playbackRate,this.ac.currentTime)}},{key:"setPlayEnd",value:function(t){this.scheduledPause=t}}],n&&s(e.prototype,n),r&&s(e,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(i.Observer);e.default=m,f(m,"scriptBufferSize",256),t.exports=e.default},"./node_modules/debounce/index.js":t=>{function e(t,e,n){var r,i,a,s,o;function u(){var l=Date.now()-s;l<e&&l>=0?r=setTimeout(u,e-l):(r=null,n||(o=t.apply(a,i),a=i=null))}null==e&&(e=100);var l=function(){a=this,i=arguments,s=Date.now();var l=n&&!r;return r||(r=setTimeout(u,e)),l&&(o=t.apply(a,i),a=i=null),o};return l.clear=function(){r&&(clearTimeout(r),r=null)},l.flush=function(){r&&(o=t.apply(a,i),a=i=null,clearTimeout(r),r=null)},l}e.debounce=e,t.exports=e}},e={},n=function n(r){var i=e[r];if(void 0!==i)return i.exports;var a=e[r]={exports:{}};return t[r](a,a.exports,n),a.exports}("./src/wavesurfer.js"),n;var t,e,n},"object"==typeof o?o=s():"function"==typeof define&&define.amd?define("WaveSurfer",[],s):"object"==typeof o?o.WaveSurfer=s():a.WaveSurfer=s();class u{static create(t){return{name:"markers",deferInit:!(!t||!t.deferInit)&&t.deferInit,params:t,staticProps:{addMarker(t){return this.initialisedPluginList.markers||this.initPlugin("markers"),this.markers.add(t)},clearMarkers(){this.markers&&this.markers.clear()}},instance:u}}constructor(t,e){this.params=t,this.wavesurfer=e,this.util=e.util,this.style=this.util.style,this.markerLineWidth=1,this.markerWidth=11,this.markerHeight=22,this.dragging=!1,this._onResize=()=>{this._updateMarkerPositions()},this._onBackendCreated=()=>{this.wrapper=this.wavesurfer.drawer.wrapper,this.params.markers&&this.params.markers.forEach((t=>this.add(t))),window.addEventListener("resize",this._onResize,!0),window.addEventListener("orientationchange",this._onResize,!0),this.wavesurfer.on("zoom",this._onResize),this.markers.find((t=>t.draggable))&&(this.onMouseMove=t=>this._onMouseMove(t),window.addEventListener("mousemove",this.onMouseMove),this.onMouseUp=t=>this._onMouseUp(t),window.addEventListener("mouseup",this.onMouseUp))},this.markers=[],this._onReady=()=>{this.wrapper=this.wavesurfer.drawer.wrapper,this._updateMarkerPositions()}}init(){this.wavesurfer.isReady?(this._onBackendCreated(),this._onReady()):(this.wavesurfer.once("ready",this._onReady),this.wavesurfer.once("backend-created",this._onBackendCreated))}destroy(){this.wavesurfer.un("ready",this._onReady),this.wavesurfer.un("backend-created",this._onBackendCreated),this.wavesurfer.un("zoom",this._onResize),window.removeEventListener("resize",this._onResize,!0),window.removeEventListener("orientationchange",this._onResize,!0),this.onMouseMove&&window.removeEventListener("mousemove",this.onMouseMove),this.onMouseUp&&window.removeEventListener("mouseup",this.onMouseUp),this.clear()}add(t){let e={time:t.time,label:t.label,color:t.color||"#D8D8D8",position:t.position||"bottom",draggable:!!t.draggable};return e.el=this._createMarkerElement(e,t.markerElement),this.wrapper.appendChild(e.el),this.markers.push(e),this._updateMarkerPositions(),e}remove(t){let e=this.markers[t];e&&(this.wrapper.removeChild(e.el),this.markers.splice(t,1))}_createPointerSVG(t,e){const n="http://www.w3.org/2000/svg",r=document.createElementNS(n,"svg"),i=document.createElementNS(n,"polygon");return r.setAttribute("viewBox","0 0 40 80"),i.setAttribute("id","polygon"),i.setAttribute("stroke","#979797"),i.setAttribute("fill",t),i.setAttribute("points","20 0 40 30 40 80 0 80 0 30"),"top"==e&&i.setAttribute("transform","rotate(180, 20 40)"),r.appendChild(i),this.style(r,{width:this.markerWidth+"px",height:this.markerHeight+"px","min-width":this.markerWidth+"px","margin-right":"5px","z-index":4}),r}_createMarkerElement(t,e){let n=t.label;const r=document.createElement("marker");r.className="wavesurfer-marker",this.style(r,{position:"absolute",height:"100%",display:"flex",overflow:"hidden","flex-direction":"top"==t.position?"column-reverse":"column"});const i=document.createElement("div"),a=e?e.width:this.markerWidth;t.offset=(a-this.markerLineWidth)/2,this.style(i,{"flex-grow":1,"margin-left":t.offset+"px",background:"black",width:this.markerLineWidth+"px",opacity:.1}),r.appendChild(i);const s=document.createElement("div"),o=e||this._createPointerSVG(t.color,t.position);if(t.draggable&&(o.draggable=!1),s.appendChild(o),n){const t=document.createElement("span");t.innerText=n,this.style(t,{"font-family":"monospace","font-size":"90%"}),s.appendChild(t)}return this.style(s,{display:"flex","align-items":"center",cursor:"pointer"}),r.appendChild(s),s.addEventListener("click",(e=>{e.stopPropagation(),this.dragging||(this.wavesurfer.setCurrentTime(t.time),this.wavesurfer.fireEvent("marker-click",t,e))})),t.draggable&&s.addEventListener("mousedown",(e=>{this.selectedMarker=t})),r}_updateMarkerPositions(){for(let t=0;t<this.markers.length;t++){let e=this.markers[t];this._updateMarkerPosition(e)}}_updateMarkerPosition(t){const e=this.wavesurfer.getDuration(),n=this.wavesurfer.drawer.width/this.wavesurfer.params.pixelRatio,r=n*Math.min(t.time/e,1)-t.offset;this.style(t.el,{left:r+"px","max-width":n-r+"px"})}_onMouseMove(t){this.selectedMarker&&(this.dragging||(this.dragging=!0,this.wavesurfer.fireEvent("marker-drag",this.selectedMarker,t)),this.selectedMarker.time=this.wavesurfer.drawer.handleEvent(t)*this.wavesurfer.getDuration(),this._updateMarkerPositions())}_onMouseUp(t){if(this.selectedMarker&&setTimeout((()=>{this.selectedMarker=!1,this.dragging=!1}),0),!this.dragging)return;t.stopPropagation();const e=this.wavesurfer.getDuration();this.selectedMarker.time=this.wavesurfer.drawer.handleEvent(t)*e,this._updateMarkerPositions(),this.wavesurfer.fireEvent("marker-drop",this.selectedMarker,t)}clear(){for(;this.markers.length>0;)this.remove(0)}}class l{constructor(t){this.morphaweb=t,document.addEventListener("dragover",this.allowDrop),document.addEventListener("drop",this.onDrop.bind(this))}allowDrop(t){t.preventDefault()}onDrop(t){t.preventDefault(),t.dataTransfer.files.length>1?console.log(t.dataTransfer.files):this.morphaweb.activeFile=t.dataTransfer.files[0],this.morphaweb.wavesurfer.loadBlob(this.morphaweb.activeFile)}}var h,c=i("5i85R");class f{constructor(t){this.morphaweb=t,this.playButton=document.getElementById("play"),this.pauseButton=document.getElementById("pause"),this.exportButton=document.getElementById("export"),this.exportButton.addEventListener("click",this.exportWavFile),this.playButton.addEventListener("click",this.play),document.addEventListener("keydown",this.onKeydown.bind(this)),this.morphaweb.wavesurfer.on("seek",this.onSeek.bind(this)),this.morphaweb.wavesurfer.on("finish",this.onFinish.bind(this)),window.addEventListener("wheel",c.throttle(this.onWheel.bind(this),10))}exportWavFile=()=>{const t=[this.morphaweb.wavesurfer.backend.buffer.getChannelData(0),this.morphaweb.wavesurfer.backend.buffer.getChannelData(1)],e=this.morphaweb.wavesurfer.markers.markers;this.morphaweb.wavHandler.createFileFromBuffer(t,e)};play=()=>{this.morphaweb.wavesurfer.isPlaying&&this.morphaweb.wavesurfer.seekTo(0),this.morphaweb.wavesurfer.play()};onSeek=t=>{this.morphaweb.playOffset=t,this.morphaweb.markerHandler.removeTopMarker("top"),this.morphaweb.markerHandler.createMarker(this.morphaweb.playOffset*this.morphaweb.wavesurfer.getDuration(),"top"),this.morphaweb.wavesurfer.play()};onFinish=()=>{};onWheel=t=>{this.morphaweb.scrollPos+t.deltaY>=this.morphaweb.scrollMin&&(this.morphaweb.scrollPos=this.morphaweb.scrollPos+t.deltaY,this.morphaweb.wavesurfer.zoom(this.morphaweb.scrollPos))};onKeydown=t=>{switch(t.key){case"j":this.morphaweb.markerHandler.createMarkerAtCurrentPosition();break;case"k":this.morphaweb.markerHandler.removeSelectedMarker()}}}var d=new Uint8Array(16);function p(){if(!h&&!(h="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return h(d)}var v=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var m=function(t){return"string"==typeof t&&v.test(t)},g=[],y=0;y<256;++y)g.push((y+256).toString(16).substr(1));var b=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(g[t[e+0]]+g[t[e+1]]+g[t[e+2]]+g[t[e+3]]+"-"+g[t[e+4]]+g[t[e+5]]+"-"+g[t[e+6]]+g[t[e+7]]+"-"+g[t[e+8]]+g[t[e+9]]+"-"+g[t[e+10]]+g[t[e+11]]+g[t[e+12]]+g[t[e+13]]+g[t[e+14]]+g[t[e+15]]).toLowerCase();if(!m(n))throw TypeError("Stringified UUID is invalid");return n};var w=function(t,e,n){var r=(t=t||{}).random||(t.rng||p)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e){n=n||0;for(var i=0;i<16;++i)e[n+i]=r[i];return e}return b(r)};class k{constructor(t){this.color="#ff990a",this.colorHighlight="#ff1111",this.colorTopMarker="#ff00bb",this.morphaweb=t,this.morphaweb.wavesurfer.on("marker-click",this.onClick.bind(this))}addMarkers=t=>{for(let e of t)this.createMarker(e.position/1e3)};removeTopMarker(){const t=this.morphaweb.wavesurfer.markers.markers.map((t=>t.position)).indexOf("top");this.morphaweb.wavesurfer.markers.remove(t)}removeSelectedMarker(){const t=this.morphaweb.wavesurfer.markers.selectedMarker,e=this.getMarkerAtTime(t.time);this.morphaweb.wavesurfer.markers.remove(e)}highlightMarker(t){this.morphaweb.wavesurfer.markers.markers.map((e=>{"bottom"==e.position&&(e.time==t?e.el.children[1].children[0].children[0].setAttribute("fill",this.colorHighlight):e.el.children[1].children[0].children[0].setAttribute("fill",this.color))}))}getMarkerAtTime(t){return this.morphaweb.wavesurfer.markers.markers.map((t=>{if("bottom"==t.position)return t.time})).indexOf(t)}createMarker(t,e="bottom"){if("bottom"==e&&-1!=this.getMarkerAtTime(t))return!1;let n={time:t,position:"bottom",color:this.color,uuid:w(),draggable:!0};"top"==e&&(n.position="top",n.color=this.colorTopMarker),this.morphaweb.wavesurfer.addMarker(n)}createMarkerAtCurrentPosition(){this.createMarker(this.morphaweb.playOffset*this.morphaweb.wavesurfer.getDuration(),"bottom")}onClick(t){this.highlightMarker(t.time)}}const _="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function A(t,e,n,r){if(["32f","64"].indexOf(e)>-1&&["32f","64"].indexOf(r)>-1)return void n.set(t);S(e),S(r);let i=function(t,e){let n=function(t){return t};t!=e&&(n=["32f","64"].includes(t)?P:["32f","64"].includes(e)?I:C);return n}(e,r),a={oldMin:Math.pow(2,parseInt(e,10))/2,newMin:Math.pow(2,parseInt(r,10))/2,oldMax:Math.pow(2,parseInt(e,10))/2-1,newMax:Math.pow(2,parseInt(r,10))/2-1};x(e,t,!0);for(let e=0,r=t.length;e<r;e++)n[e]=i(t[e],a);x(r,n,!1)}function C(t,e){return t=t>0?parseInt(t/e.oldMax*e.newMax,10):parseInt(t/e.oldMin*e.newMin,10)}function P(t,e){return parseInt(t>0?t*e.newMax:t*e.newMin,10)}function I(t,e){return t>0?t/e.oldMax:t/e.oldMin}function S(t){if("32f"!=t&&"64"!=t&&(parseInt(t,10)<"8"||parseInt(t,10)>"53"))throw new Error("Invalid bit depth.")}function x(t,e,n){if("8"==t){let t=n?-128:128;for(let n=0,r=e.length;n<r;n++)e[n]=e[n]+=t}}const M=[-1,-1,-1,-1,2,4,6,8,-1,-1,-1,-1,2,4,6,8],E=[7,8,9,10,11,12,13,14,16,17,19,21,23,25,28,31,34,37,41,45,50,55,60,66,73,80,88,97,107,118,130,143,157,173,190,209,230,253,279,307,337,371,408,449,494,544,598,658,724,796,876,963,1060,1166,1282,1411,1552,1707,1878,2066,2272,2499,2749,3024,3327,3660,4026,4428,4871,5358,5894,6484,7132,7845,8630,9493,10442,11487,12635,13899,15289,16818,18500,20350,22385,24623,27086,29794,32767];function O(t,e){let n=function(t,e){T(t,e);let n=[];return n.push(255&t),n.push(t>>8&255),n.push(e.index),n.push(0),n}(t[0],e);for(let r=3,i=t.length;r<i;r+=2){let i=T(t[r],e),a=T(t[r+1],e);n.push(a<<4|i)}return n}function R(t,e){var n;e.predicted=(n=t[1]<<8|t[0])>32768?n-65536:n,e.index=t[2],e.step=E[e.index];let r=[e.predicted,e.predicted];for(let n=4,i=t.length;n<i;n++){let i=t[n],a=i>>4,s=a<<4^i;r.push(j(s,e)),r.push(j(a,e))}return r}function T(t,e){let n=t-e.predicted,r=0;n>=0?r=0:(r=8,n=-n);let i=E[e.index],a=i>>3;return n>i&&(r|=4,n-=i,a+=i),i>>=1,n>i&&(r|=2,n-=i,a+=i),i>>=1,n>i&&(r|=1,a+=i),function(t,e,n){8&t?n.predicted-=e:n.predicted+=e;n.predicted<-32768?n.predicted=-32768:n.predicted>32767&&(n.predicted=32767);n.index+=M[7&t],n.index<0?n.index=0:n.index>88&&(n.index=88)}(r,a,e),r}function j(t,e){let n=0;return 4&t&&(n+=e.step),2&t&&(n+=e.step>>1),1&t&&(n+=e.step>>2),n+=e.step>>3,8&t&&(n=-n),e.predicted+=n,e.predicted>32767?e.predicted=32767:e.predicted<-32767&&(e.predicted=-32767),function(t,e){e.index+=M[t],e.index<0?e.index=0:e.index>88&&(e.index=88);e.step=E[e.index]}(t,e),e.predicted}const L=[1,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];function D(t){let e,n=~(t=-32768==t?-32767:t)>>8&128;if(n||(t*=-1),t>32635&&(t=32635),t>=256){let n=L[t>>8&127];e=n<<4|t>>n+3&15}else e=t>>4;return 85^e^n}function B(t){let e=0;0!=(128&(t^=85))&&(t&=-129,e=-1);let n=4+((240&t)>>4),r=0;return r=4!=n?1<<n|(15&t)<<n-4|1<<n-5:t<<1|1,r=0===e?r:-r,-8*r}const z=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7],W=[0,132,396,924,1980,4092,8316,16764];function F(t){let e,n,r,i;return e=t>>8&128,0!=e&&(t=-t),(t+=132)>32635&&(t=32635),n=z[t>>7&255],r=t>>n+3&15,i=~(e|n<<4|r),i}function U(t){let e,n,r,i;return e=128&(t=~t),n=t>>4&7,r=15&t,i=W[n]+(r<<n+3),0!=e&&(i=-i),i}function V(t,e,n=0,r=t.length){for(let i=n;i<r;i+=e)N(t,e,i)}function N(t,e,n){e--;for(let r=0;r<e;r++){let i=t[n+r];t[n+r]=t[n+e],t[n+e]=i,e--}}function H(t,e,n=0){let r=0,i=t.length;for(;r<i;){let i=t.codePointAt(r);if(i<128)e[n]=i,n++;else{let t=0,a=0;for(i<=2047?(t=1,a=192):i<=65535?(t=2,a=224):i<=1114111&&(t=3,a=240,r++),e[n]=(i>>6*t)+a,n++;t>0;)e[n]=128|i>>6*(t-1)&63,n++,t--}r++}return n}class X{constructor(t,e=!1){this.bits=t,this.offset=Math.ceil(t/8),this.max=Math.pow(2,t)-1,this.min=0,this.unpack=this.unpack_,e&&(this.max=Math.pow(2,t)/2-1,this.min=-this.max-1,this.unpack=this.unpackSigned_)}pack(t,e,n=0){e=this.clamp_(Math.round(e));for(let r=0,i=this.offset;r<i;r++)t[n]=255&Math.floor(e/Math.pow(2,8*r)),n++;return n}unpack_(t,e=0){let n=0;for(let r=0;r<this.offset;r++)n+=t[e+r]*Math.pow(256,r);return n}unpackSigned_(t,e=0){return this.sign_(this.unpack_(t,e))}clamp_(t){return t>this.max?this.max:t<this.min?this.min:t}sign_(t){return t>this.max&&(t-=2*this.max+2),t}}class q{constructor(t,e){this.offset=Math.ceil((t+e)/8),this.ebits=t,this.fbits=e,this.bias=(1<<t-1)-1,this.biasP2=Math.pow(2,this.bias+1),this.ebitsFbits=t+e,this.fbias=Math.pow(2,-(8*this.offset-1-t))}pack(t,e,n){Math.abs(e)>this.biasP2-2*this.ebitsFbits&&(e=e<0?-1/0:1/0);let r=((e=+e)||1/e)<0||e<0?1:0;e=Math.abs(e);let i=Math.min(Math.floor(Math.log(e)/Math.LN2),1023),a=G(e/Math.pow(2,i)*Math.pow(2,this.fbits));return e!=e?(a=Math.pow(2,this.fbits-1),i=(1<<this.ebits)-1):0!==e&&(e>=Math.pow(2,1-this.bias)?(a/Math.pow(2,this.fbits)>=2&&(i+=1,a=1),i>this.bias?(i=(1<<this.ebits)-1,a=0):(i+=this.bias,a=G(a)-Math.pow(2,this.fbits))):(a=G(e/Math.pow(2,1-this.bias-this.fbits)),i=0)),this.packFloatBits_(t,n,r,i,a)}unpack(t,e){let n,r=(1<<this.ebits)-1,i="";for(let n=this.offset-1;n>=0;n--){let r=t[n+e].toString(2);i+="00000000".substring(r.length)+r}let a="1"==i.charAt(0)?-1:1;i=i.substring(1);let s=parseInt(i.substring(0,this.ebits),2);return i=i.substring(this.ebits),s==r?0!==parseInt(i,2)?NaN:a*(1/0):(0===s?(s+=1,n=parseInt(i,2)):n=parseInt("1"+i,2),a*n*this.fbias*Math.pow(2,s-this.bias))}packFloatBits_(t,e,n,r,i){let a=[];a.push(n);for(let t=this.ebits;t>0;t-=1)a[t]=r%2?1:0,r=Math.floor(r/2);let s=a.length;for(let t=this.fbits;t>0;t-=1)a[s+t]=i%2?1:0,i=Math.floor(i/2);let o=a.join(""),u=this.offset+e-1,l=e;for(;u>=e;)t[u]=parseInt(o.substring(0,8),2),o=o.substring(8),u--,l++;return l}}function G(t){let e=Math.floor(t),n=t-e;return n<.5?e:n>.5||e%2?e+1:e}function $(t,e=0,n=t.length){return function(t,e=0,n=t.length){let r="";for(let i=e;i<n;){let e=128,n=191,a=!1,s=t[i++];if(s>=0&&s<=127)r+=String.fromCharCode(s);else{let o=0;s>=194&&s<=223?o=1:s>=224&&s<=239?(o=2,224===t[i]&&(e=160),237===t[i]&&(n=159)):s>=240&&s<=244?(o=3,240===t[i]&&(e=144),244===t[i]&&(n=143)):a=!0,s&=(1<<8-o-1)-1;for(let r=0;r<o;r++)(t[i]<e||t[i]>n)&&(a=!0),s=s<<6|63&t[i],i++;a?r+=String.fromCharCode(65533):s<=65535?r+=String.fromCharCode(s):(s-=65536,r+=String.fromCharCode(55296+(s>>10&1023),56320+(1023&s)))}}return r}(t,e,n)}function Z(t){let e=[];return H(t,e),e}function Q(t,e,n=0){return H(t,e,n)}function Y(t,e,n,r=0){let i=rt((e=e||{}).bits,e.fp,e.signed),a=Math.ceil(e.bits/8),s=0,o=r;for(let e=t.length;s<e;s++)r=i.pack(n,t[s],r);return e.be&&V(n,a,o,r),r}function J(t,e,n,r=0,i=t.length){let a=rt((e=e||{}).bits,e.fp,e.signed);if(i=function(t,e,n,r){return n-(n-e)%r}(0,r,i,a.offset),e.be){let s=function(t){return new Uint8Array(t)}(t);e.be&&V(s,a.offset,r,i),nt(s,n,r,i,a)}else nt(t,n,r,i,a)}function K(t,e,n,r=0){return Y([t],e,n,r)}function tt(t,e){let n=[];return K(t,e,n,0),n}function et(t,e,n=0){let r=[];return J(t,e,r,n,n+Math.ceil(e.bits/8)),r[0]}function nt(t,e,n,r,i){let a=i.offset;for(let s=0,o=n;o<r;o+=a,s++)e[s]=i.unpack(t,o)}function rt(t,e,n){return e&&32==t?new q(8,23):e&&64==t?new q(11,52):new X(t,n)}class it extends class{constructor(){this.container="",this.chunkSize=0,this.format="",this.signature=null,this.head=0,this.uInt32={bits:32,be:!1},this.supported_containers=["RIFF","RIFX"]}setSignature(t){if(this.head=0,this.container=this.readString(t,4),-1===this.supported_containers.indexOf(this.container))throw Error("Not a supported format.");this.uInt32.be="RIFX"===this.container,this.chunkSize=this.readUInt32(t),this.format=this.readString(t,4),this.signature={chunkId:this.container,chunkSize:this.chunkSize,format:this.format,subChunks:this.getSubChunksIndex_(t)}}findChunk(t,e=!1){let n=this.signature.subChunks,r=[];for(let i=0;i<n.length;i++)if(n[i].chunkId==t){if(!e)return n[i];r.push(n[i])}return"LIST"==t&&r.length?r:null}readString(t,e){let n="";return n=$(t,this.head,this.head+e),this.head+=e,n}readUInt32(t){let e=et(t,this.uInt32,this.head);return this.head+=4,e}getSubChunksIndex_(t){let e=[],n=this.head;for(;n<=t.length-8;)e.push(this.getSubChunkIndex_(t,n)),n+=8+e[e.length-1].chunkSize,n=n%2?n+1:n;return e}getSubChunkIndex_(t,e){let n={chunkId:this.getChunkId_(t,e),chunkSize:this.getChunkSize_(t,e)};if("LIST"==n.chunkId)n.format=$(t,e+8,e+12),this.head+=4,n.subChunks=this.getSubChunksIndex_(t);else{let t=n.chunkSize%2?n.chunkSize+1:n.chunkSize;this.head=e+8+t,n.chunkData={start:e+8,end:this.head}}return n}getChunkId_(t,e){return this.head+=4,$(t,e,e+4)}getChunkSize_(t,e){return this.head+=4,et(t,this.uInt32,e+4)}}{constructor(){super(),this.supported_containers.push("RF64"),this.fmt={chunkId:"",chunkSize:0,audioFormat:0,numChannels:0,sampleRate:0,byteRate:0,blockAlign:0,bitsPerSample:0,cbSize:0,validBitsPerSample:0,dwChannelMask:0,subformat:[]},this.fact={chunkId:"",chunkSize:0,dwSampleLength:0},this.cue={chunkId:"",chunkSize:0,dwCuePoints:0,points:[]},this.smpl={chunkId:"",chunkSize:0,dwManufacturer:0,dwProduct:0,dwSamplePeriod:0,dwMIDIUnityNote:0,dwMIDIPitchFraction:0,dwSMPTEFormat:0,dwSMPTEOffset:0,dwNumSampleLoops:0,dwSamplerData:0,loops:[]},this.bext={chunkId:"",chunkSize:0,description:"",originator:"",originatorReference:"",originationDate:"",originationTime:"",timeReference:[0,0],version:0,UMID:"",loudnessValue:0,loudnessRange:0,maxTruePeakLevel:0,maxMomentaryLoudness:0,maxShortTermLoudness:0,reserved:"",codingHistory:""},this.iXML={chunkId:"",chunkSize:0,value:""},this.ds64={chunkId:"",chunkSize:0,riffSizeHigh:0,riffSizeLow:0,dataSizeHigh:0,dataSizeLow:0,originationTime:0,sampleCountHigh:0,sampleCountLow:0},this.data={chunkId:"",chunkSize:0,samples:new Uint8Array(0)},this.LIST=[],this.junk={chunkId:"",chunkSize:0,chunkData:[]},this._PMX={chunkId:"",chunkSize:0,value:""},this.uInt16={bits:16,be:!1,signed:!1,fp:!1}}fromBuffer(t,e=!0){if(this.clearHeaders(),this.setSignature(t),this.uInt16.be=this.uInt32.be,"WAVE"!=this.format)throw Error('Could not find the "WAVE" format identifier');this.readDs64Chunk_(t),this.readFmtChunk_(t),this.readFactChunk_(t),this.readBextChunk_(t),this.readiXMLChunk_(t),this.readCueChunk_(t),this.readSmplChunk_(t),this.readDataChunk_(t,e),this.readJunkChunk_(t),this.readLISTChunk_(t),this.read_PMXChunk_(t)}clearHeaders(){let t=new it;Object.assign(this.fmt,t.fmt),Object.assign(this.fact,t.fact),Object.assign(this.cue,t.cue),Object.assign(this.smpl,t.smpl),Object.assign(this.bext,t.bext),Object.assign(this.iXML,t.iXML),Object.assign(this.ds64,t.ds64),Object.assign(this.data,t.data),this.LIST=[],Object.assign(this.junk,t.junk),Object.assign(this._PMX,t._PMX)}readFmtChunk_(t){let e=this.findChunk("fmt ");if(!e)throw Error('Could not find the "fmt " chunk');this.head=e.chunkData.start,this.fmt.chunkId=e.chunkId,this.fmt.chunkSize=e.chunkSize,this.fmt.audioFormat=this.readUInt16_(t),this.fmt.numChannels=this.readUInt16_(t),this.fmt.sampleRate=this.readUInt32(t),this.fmt.byteRate=this.readUInt32(t),this.fmt.blockAlign=this.readUInt16_(t),this.fmt.bitsPerSample=this.readUInt16_(t),this.readFmtExtension_(t)}readFmtExtension_(t){this.fmt.chunkSize>16&&(this.fmt.cbSize=this.readUInt16_(t),this.fmt.chunkSize>18&&(this.fmt.validBitsPerSample=this.readUInt16_(t),this.fmt.chunkSize>20&&(this.fmt.dwChannelMask=this.readUInt32(t),this.fmt.subformat=[this.readUInt32(t),this.readUInt32(t),this.readUInt32(t),this.readUInt32(t)])))}readFactChunk_(t){let e=this.findChunk("fact");e&&(this.head=e.chunkData.start,this.fact.chunkId=e.chunkId,this.fact.chunkSize=e.chunkSize,this.fact.dwSampleLength=this.readUInt32(t))}readCueChunk_(t){let e=this.findChunk("cue ");if(e){this.head=e.chunkData.start,this.cue.chunkId=e.chunkId,this.cue.chunkSize=e.chunkSize,this.cue.dwCuePoints=this.readUInt32(t);for(let e=0;e<this.cue.dwCuePoints;e++)this.cue.points.push({dwName:this.readUInt32(t),dwPosition:this.readUInt32(t),fccChunk:this.readString(t,4),dwChunkStart:this.readUInt32(t),dwBlockStart:this.readUInt32(t),dwSampleOffset:this.readUInt32(t)})}}readSmplChunk_(t){let e=this.findChunk("smpl");if(e){this.head=e.chunkData.start,this.smpl.chunkId=e.chunkId,this.smpl.chunkSize=e.chunkSize,this.smpl.dwManufacturer=this.readUInt32(t),this.smpl.dwProduct=this.readUInt32(t),this.smpl.dwSamplePeriod=this.readUInt32(t),this.smpl.dwMIDIUnityNote=this.readUInt32(t),this.smpl.dwMIDIPitchFraction=this.readUInt32(t),this.smpl.dwSMPTEFormat=this.readUInt32(t),this.smpl.dwSMPTEOffset=this.readUInt32(t),this.smpl.dwNumSampleLoops=this.readUInt32(t),this.smpl.dwSamplerData=this.readUInt32(t);for(let e=0;e<this.smpl.dwNumSampleLoops;e++)this.smpl.loops.push({dwName:this.readUInt32(t),dwType:this.readUInt32(t),dwStart:this.readUInt32(t),dwEnd:this.readUInt32(t),dwFraction:this.readUInt32(t),dwPlayCount:this.readUInt32(t)})}}readDataChunk_(t,e){let n=this.findChunk("data");if(!n)throw Error('Could not find the "data" chunk');this.data.chunkId="data",this.data.chunkSize=n.chunkSize,e&&(this.data.samples=t.slice(n.chunkData.start,n.chunkData.end))}readBextChunk_(t){let e=this.findChunk("bext");e&&(this.head=e.chunkData.start,this.bext.chunkId=e.chunkId,this.bext.chunkSize=e.chunkSize,this.bext.description=this.readString(t,256),this.bext.originator=this.readString(t,32),this.bext.originatorReference=this.readString(t,32),this.bext.originationDate=this.readString(t,10),this.bext.originationTime=this.readString(t,8),this.bext.timeReference=[this.readUInt32(t),this.readUInt32(t)],this.bext.version=this.readUInt16_(t),this.bext.UMID=this.readString(t,64),this.bext.loudnessValue=this.readUInt16_(t),this.bext.loudnessRange=this.readUInt16_(t),this.bext.maxTruePeakLevel=this.readUInt16_(t),this.bext.maxMomentaryLoudness=this.readUInt16_(t),this.bext.maxShortTermLoudness=this.readUInt16_(t),this.bext.reserved=this.readString(t,180),this.bext.codingHistory=this.readString(t,this.bext.chunkSize-602))}readiXMLChunk_(t){let e=this.findChunk("iXML");e&&(this.head=e.chunkData.start,this.iXML.chunkId=e.chunkId,this.iXML.chunkSize=e.chunkSize,this.iXML.value=$(t,this.head,this.head+this.iXML.chunkSize))}readDs64Chunk_(t){let e=this.findChunk("ds64");if(e)this.head=e.chunkData.start,this.ds64.chunkId=e.chunkId,this.ds64.chunkSize=e.chunkSize,this.ds64.riffSizeHigh=this.readUInt32(t),this.ds64.riffSizeLow=this.readUInt32(t),this.ds64.dataSizeHigh=this.readUInt32(t),this.ds64.dataSizeLow=this.readUInt32(t),this.ds64.originationTime=this.readUInt32(t),this.ds64.sampleCountHigh=this.readUInt32(t),this.ds64.sampleCountLow=this.readUInt32(t);else if("RF64"==this.container)throw Error('Could not find the "ds64" chunk')}readLISTChunk_(t){let e=this.findChunk("LIST",!0);if(null!==e)for(let n=0;n<e.length;n++){let r=e[n];this.LIST.push({chunkId:r.chunkId,chunkSize:r.chunkSize,format:r.format,subChunks:[]});for(let e=0;e<r.subChunks.length;e++)this.readLISTSubChunks_(r.subChunks[e],r.format,t)}}readLISTSubChunks_(t,e,n){"adtl"==e?["labl","note","ltxt"].indexOf(t.chunkId)>-1&&this.readLISTadtlSubChunks_(n,t):"INFO"==e&&this.readLISTINFOSubChunks_(n,t)}readLISTadtlSubChunks_(t,e){this.head=e.chunkData.start;let n={chunkId:e.chunkId,chunkSize:e.chunkSize,dwName:this.readUInt32(t)};"ltxt"==e.chunkId?(n.dwSampleLength=this.readUInt32(t),n.dwPurposeID=this.readUInt32(t),n.dwCountry=this.readUInt16_(t),n.dwLanguage=this.readUInt16_(t),n.dwDialect=this.readUInt16_(t),n.dwCodePage=this.readUInt16_(t),n.value=""):n.value=this.readZSTR_(t,this.head),this.LIST[this.LIST.length-1].subChunks.push(n)}readLISTINFOSubChunks_(t,e){this.head=e.chunkData.start,this.LIST[this.LIST.length-1].subChunks.push({chunkId:e.chunkId,chunkSize:e.chunkSize,value:this.readZSTR_(t,this.head)})}readJunkChunk_(t){let e=this.findChunk("junk");e&&(this.junk={chunkId:e.chunkId,chunkSize:e.chunkSize,chunkData:[].slice.call(t.slice(e.chunkData.start,e.chunkData.end))})}read_PMXChunk_(t){let e=this.findChunk("_PMX");e&&(this.head=e.chunkData.start,this._PMX.chunkId=e.chunkId,this._PMX.chunkSize=e.chunkSize,this._PMX.value=$(t,this.head,this.head+this._PMX.chunkSize))}readZSTR_(t,e=0){for(let n=e;n<t.length&&(this.head++,0!==t[n]);n++);return $(t,e,this.head-1)}readUInt16_(t){let e=et(t,this.uInt16,this.head);return this.head+=2,e}}function at(t,e){let n=Z(t);for(let t=n.length;t<e;t++)n.push(0);return n}class st extends it{toBuffer(){this.uInt16.be="RIFX"===this.container,this.uInt32.be=this.uInt16.be;let t=[this.getJunkBytes_(),this.getDs64Bytes_(),this.getBextBytes_(),this.getiXMLBytes_(),this.getFmtBytes_(),this.getFactBytes_(),Z(this.data.chunkId),tt(this.data.samples.length,this.uInt32),this.data.samples,this.getCueBytes_(),this.getSmplBytes_(),this.getLISTBytes_(),this.get_PMXBytes_()],e=0;for(let n=0;n<t.length;n++)e+=t[n].length;let n=new Uint8Array(e+12),r=0;r=Q(this.container,n,r),r=K(e+4,this.uInt32,n,r),r=Q(this.format,n,r);for(let e=0;e<t.length;e++)n.set(t[e],r),r+=t[e].length;return n}getBextBytes_(){let t=[];return this.enforceBext_(),this.bext.chunkId&&(this.bext.chunkSize=602+this.bext.codingHistory.length,t=t.concat(Z(this.bext.chunkId),tt(602+this.bext.codingHistory.length,this.uInt32),at(this.bext.description,256),at(this.bext.originator,32),at(this.bext.originatorReference,32),at(this.bext.originationDate,10),at(this.bext.originationTime,8),tt(this.bext.timeReference[0],this.uInt32),tt(this.bext.timeReference[1],this.uInt32),tt(this.bext.version,this.uInt16),at(this.bext.UMID,64),tt(this.bext.loudnessValue,this.uInt16),tt(this.bext.loudnessRange,this.uInt16),tt(this.bext.maxTruePeakLevel,this.uInt16),tt(this.bext.maxMomentaryLoudness,this.uInt16),tt(this.bext.maxShortTermLoudness,this.uInt16),at(this.bext.reserved,180),at(this.bext.codingHistory,this.bext.codingHistory.length))),this.enforceByteLen_(t),t}enforceBext_(){for(let t in this.bext)if(this.bext.hasOwnProperty(t)&&this.bext[t]&&"timeReference"!=t){this.bext.chunkId="bext";break}(this.bext.timeReference[0]||this.bext.timeReference[1])&&(this.bext.chunkId="bext")}getiXMLBytes_(){let t=[];if(this.iXML.chunkId){let e=Z(this.iXML.value);this.iXML.chunkSize=e.length,t=t.concat(Z(this.iXML.chunkId),tt(this.iXML.chunkSize,this.uInt32),e)}return this.enforceByteLen_(t),t}getDs64Bytes_(){let t=[];return this.ds64.chunkId&&(t=t.concat(Z(this.ds64.chunkId),tt(this.ds64.chunkSize,this.uInt32),tt(this.ds64.riffSizeHigh,this.uInt32),tt(this.ds64.riffSizeLow,this.uInt32),tt(this.ds64.dataSizeHigh,this.uInt32),tt(this.ds64.dataSizeLow,this.uInt32),tt(this.ds64.originationTime,this.uInt32),tt(this.ds64.sampleCountHigh,this.uInt32),tt(this.ds64.sampleCountLow,this.uInt32))),this.enforceByteLen_(t),t}getCueBytes_(){let t=[];if(this.cue.chunkId){let e=this.getCuePointsBytes_();t=t.concat(Z(this.cue.chunkId),tt(e.length+4,this.uInt32),tt(this.cue.dwCuePoints,this.uInt32),e)}return this.enforceByteLen_(t),t}getCuePointsBytes_(){let t=[];for(let e=0;e<this.cue.dwCuePoints;e++)t=t.concat(tt(this.cue.points[e].dwName,this.uInt32),tt(this.cue.points[e].dwPosition,this.uInt32),Z(this.cue.points[e].fccChunk),tt(this.cue.points[e].dwChunkStart,this.uInt32),tt(this.cue.points[e].dwBlockStart,this.uInt32),tt(this.cue.points[e].dwSampleOffset,this.uInt32));return t}getSmplBytes_(){let t=[];if(this.smpl.chunkId){let e=this.getSmplLoopsBytes_();t=t.concat(Z(this.smpl.chunkId),tt(e.length+36,this.uInt32),tt(this.smpl.dwManufacturer,this.uInt32),tt(this.smpl.dwProduct,this.uInt32),tt(this.smpl.dwSamplePeriod,this.uInt32),tt(this.smpl.dwMIDIUnityNote,this.uInt32),tt(this.smpl.dwMIDIPitchFraction,this.uInt32),tt(this.smpl.dwSMPTEFormat,this.uInt32),tt(this.smpl.dwSMPTEOffset,this.uInt32),tt(this.smpl.dwNumSampleLoops,this.uInt32),tt(this.smpl.dwSamplerData,this.uInt32),e)}return this.enforceByteLen_(t),t}getSmplLoopsBytes_(){let t=[];for(let e=0;e<this.smpl.dwNumSampleLoops;e++)t=t.concat(tt(this.smpl.loops[e].dwName,this.uInt32),tt(this.smpl.loops[e].dwType,this.uInt32),tt(this.smpl.loops[e].dwStart,this.uInt32),tt(this.smpl.loops[e].dwEnd,this.uInt32),tt(this.smpl.loops[e].dwFraction,this.uInt32),tt(this.smpl.loops[e].dwPlayCount,this.uInt32));return t}getFactBytes_(){let t=[];return this.fact.chunkId&&(t=t.concat(Z(this.fact.chunkId),tt(this.fact.chunkSize,this.uInt32),tt(this.fact.dwSampleLength,this.uInt32))),this.enforceByteLen_(t),t}getFmtBytes_(){let t=[];if(this.fmt.chunkId){let e=t.concat(Z(this.fmt.chunkId),tt(this.fmt.chunkSize,this.uInt32),tt(this.fmt.audioFormat,this.uInt16),tt(this.fmt.numChannels,this.uInt16),tt(this.fmt.sampleRate,this.uInt32),tt(this.fmt.byteRate,this.uInt32),tt(this.fmt.blockAlign,this.uInt16),tt(this.fmt.bitsPerSample,this.uInt16),this.getFmtExtensionBytes_());return this.enforceByteLen_(e),e}throw Error('Could not find the "fmt " chunk')}getFmtExtensionBytes_(){let t=[];return this.fmt.chunkSize>16&&(t=t.concat(tt(this.fmt.cbSize,this.uInt16))),this.fmt.chunkSize>18&&(t=t.concat(tt(this.fmt.validBitsPerSample,this.uInt16))),this.fmt.chunkSize>20&&(t=t.concat(tt(this.fmt.dwChannelMask,this.uInt32))),this.fmt.chunkSize>24&&(t=t.concat(tt(this.fmt.subformat[0],this.uInt32),tt(this.fmt.subformat[1],this.uInt32),tt(this.fmt.subformat[2],this.uInt32),tt(this.fmt.subformat[3],this.uInt32))),t}getLISTBytes_(){let t=[];for(let e=0;e<this.LIST.length;e++){let n=this.getLISTSubChunksBytes_(this.LIST[e].subChunks,this.LIST[e].format);t=t.concat(Z(this.LIST[e].chunkId),tt(n.length+4,this.uInt32),Z(this.LIST[e].format),n)}return this.enforceByteLen_(t),t}getLISTSubChunksBytes_(t,e){let n=[];for(let r=0,i=t.length;r<i;r++)"INFO"==e?n=n.concat(this.getLISTINFOSubChunksBytes_(t[r])):"adtl"==e&&(n=n.concat(this.getLISTadtlSubChunksBytes_(t[r]))),this.enforceByteLen_(n);return n}getLISTINFOSubChunksBytes_(t){let e=[],n=at(t.value,t.value.length);return e=e.concat(Z(t.chunkId),tt(n.length+1,this.uInt32),n),e.push(0),e}getLISTadtlSubChunksBytes_(t){let e=[];if(["labl","note"].indexOf(t.chunkId)>-1){let n=at(t.value,t.value.length);e=e.concat(Z(t.chunkId),tt(n.length+4+1,this.uInt32),tt(t.dwName,this.uInt32),n),e.push(0)}else"ltxt"==t.chunkId&&(e=e.concat(this.getLtxtChunkBytes_(t)));return e}getLtxtChunkBytes_(t){return[].concat(Z(t.chunkId),tt(t.value.length+20,this.uInt32),tt(t.dwName,this.uInt32),tt(t.dwSampleLength,this.uInt32),tt(t.dwPurposeID,this.uInt32),tt(t.dwCountry,this.uInt16),tt(t.dwLanguage,this.uInt16),tt(t.dwDialect,this.uInt16),tt(t.dwCodePage,this.uInt16),at(t.value,t.value.length))}get_PMXBytes_(){let t=[];if(this._PMX.chunkId){let e=Z(this._PMX.value);this._PMX.chunkSize=e.length,t=t.concat(Z(this._PMX.chunkId),tt(this._PMX.chunkSize,this.uInt32),e)}return this.enforceByteLen_(t),t}getJunkBytes_(){let t=[];return this.junk.chunkId?t.concat(Z(this.junk.chunkId),tt(this.junk.chunkData.length,this.uInt32),this.junk.chunkData):(this.enforceByteLen_(t),t)}enforceByteLen_(t){t.length%2&&t.push(0)}}function ot(t,e,n){return!(n<1||t*(e/8)*n>4294967295)}class ut extends st{constructor(){super(),this.bitDepth="0",this.dataType={bits:0,be:!1},this.WAV_AUDIO_FORMATS={4:17,8:1,"8a":6,"8m":7,16:1,24:1,32:1,"32f":3,64:3}}fromScratch(t,e,n,r,i){i=i||{},this.clearHeaders(),this.newWavFile_(t,e,n,r,i)}fromBuffer(t,e=!0){super.fromBuffer(t,e),this.bitDepthFromFmt_(),this.updateDataType_()}toBuffer(){return this.validateWavHeader_(),super.toBuffer()}getSamples(t=!1,e=Float64Array){let n=new e(this.data.samples.length/(this.dataType.bits/8));return J(this.data.samples,this.dataType,n,0,this.data.samples.length),!t&&this.fmt.numChannels>1?function(t,e,n=Float64Array){let r=[];for(let i=0;i<e;i++)r[i]=new n(t.length/e);for(let n=0;n<e;n++)for(let i=n,a=0;i<t.length;i+=e,a++)r[n][a]=t[i];return r}(n,this.fmt.numChannels,e):n}getSample(t){if((t*=this.dataType.bits/8)+this.dataType.bits/8>this.data.samples.length)throw new Error("Range error");return et(this.data.samples.slice(t,t+this.dataType.bits/8),this.dataType)}setSample(t,e){if((t*=this.dataType.bits/8)+this.dataType.bits/8>this.data.samples.length)throw new Error("Range error");K(e,this.dataType,this.data.samples,t)}getiXML(){return this.iXML.value}setiXML(t){if("string"!=typeof t)throw new TypeError("iXML value must be a string.");this.iXML.value=t,this.iXML.chunkId="iXML"}get_PMX(){return this._PMX.value}set_PMX(t){if("string"!=typeof t)throw new TypeError("_PMX value must be a string.");this._PMX.value=t,this._PMX.chunkId="_PMX"}newWavFile_(t,e,n,r,i){i.container||(i.container="RIFF"),this.container=i.container,this.bitDepth=n,r=function(t){let e=[];if(t.length>0)if(t[0].constructor!==Number){e=new Float64Array(t[0].length*t.length);for(let n=0,r=t[0].length,i=0;n<r;n++)for(let r=0,a=t.length;r<a;r++,i++)e[i]=t[r][n]}else e=t;return e}(r),this.updateDataType_();let a=this.dataType.bits/8;this.data.samples=new Uint8Array(r.length*a),Y(r,this.dataType,this.data.samples,0),this.makeWavHeader_(n,t,e,a,this.data.samples.length,i),this.data.chunkId="data",this.data.chunkSize=this.data.samples.length,this.validateWavHeader_()}makeWavHeader_(t,e,n,r,i,a){"4"==t?this.createADPCMHeader_(t,e,n,r,i,a):"8a"==t||"8m"==t?this.createALawMulawHeader_(t,e,n,r,i,a):-1==Object.keys(this.WAV_AUDIO_FORMATS).indexOf(t)||e>2?this.createExtensibleHeader_(t,e,n,r,i,a):this.createPCMHeader_(t,e,n,r,i,a)}createPCMHeader_(t,e,n,r,i,a){this.container=a.container,this.chunkSize=36+i,this.format="WAVE",this.bitDepth=t,this.fmt={chunkId:"fmt ",chunkSize:16,audioFormat:this.WAV_AUDIO_FORMATS[t]||65534,numChannels:e,sampleRate:n,byteRate:e*r*n,blockAlign:e*r,bitsPerSample:parseInt(t,10),cbSize:0,validBitsPerSample:0,dwChannelMask:0,subformat:[]}}createADPCMHeader_(t,e,n,r,i,a){this.createPCMHeader_(t,e,n,r,i,a),this.chunkSize=40+i,this.fmt.chunkSize=20,this.fmt.byteRate=4055,this.fmt.blockAlign=256,this.fmt.bitsPerSample=4,this.fmt.cbSize=2,this.fmt.validBitsPerSample=505,this.fact={chunkId:"fact",chunkSize:4,dwSampleLength:2*i}}createExtensibleHeader_(t,e,n,r,i,a){this.createPCMHeader_(t,e,n,r,i,a),this.chunkSize=60+i,this.fmt.chunkSize=40,this.fmt.bitsPerSample=1+(parseInt(t,10)-1|7),this.fmt.cbSize=22,this.fmt.validBitsPerSample=parseInt(t,10),this.fmt.dwChannelMask=function(t){let e=0;1===t?e=4:2===t?e=3:4===t?e=51:6===t?e=63:8===t&&(e=1599);return e}(e),this.fmt.subformat=[1,1048576,2852126848,1905997824]}createALawMulawHeader_(t,e,n,r,i,a){this.createPCMHeader_(t,e,n,r,i,a),this.chunkSize=40+i,this.fmt.chunkSize=20,this.fmt.cbSize=2,this.fmt.validBitsPerSample=8,this.fact={chunkId:"fact",chunkSize:4,dwSampleLength:i}}bitDepthFromFmt_(){3===this.fmt.audioFormat&&32===this.fmt.bitsPerSample?this.bitDepth="32f":6===this.fmt.audioFormat?this.bitDepth="8a":7===this.fmt.audioFormat?this.bitDepth="8m":this.bitDepth=this.fmt.bitsPerSample.toString()}validateBitDepth_(){if(!this.WAV_AUDIO_FORMATS[this.bitDepth]){if(parseInt(this.bitDepth,10)>8&&parseInt(this.bitDepth,10)<54)return!0;throw new Error("Invalid bit depth.")}return!0}updateDataType_(){this.dataType={bits:1+(parseInt(this.bitDepth,10)-1|7),fp:"32f"==this.bitDepth||"64"==this.bitDepth,signed:"8"!=this.bitDepth,be:"RIFX"==this.container},["4","8a","8m"].indexOf(this.bitDepth)>-1&&(this.dataType.bits=8,this.dataType.signed=!1)}validateWavHeader_(){if(this.validateBitDepth_(),t=this.fmt.numChannels,e=this.fmt.bitsPerSample,t<1||t*e/8>65535)throw new Error("Invalid number of channels.");var t,e;if(!ot(this.fmt.numChannels,this.fmt.bitsPerSample,this.fmt.sampleRate))throw new Error("Invalid sample rate.")}}class lt extends ut{getTag(t){let e=this.getTagIndex_(t);return null!==e.TAG?this.LIST[e.LIST].subChunks[e.TAG].value:null}setTag(t,e){t=function(t){if(t.constructor!==String)throw new Error("Invalid tag name.");if(t.length<4)for(let e=0,n=4-t.length;e<n;e++)t+=" ";return t}(t);let n=this.getTagIndex_(t);null!==n.TAG?(this.LIST[n.LIST].subChunks[n.TAG].chunkSize=e.length+1,this.LIST[n.LIST].subChunks[n.TAG].value=e):null!==n.LIST?this.LIST[n.LIST].subChunks.push({chunkId:t,chunkSize:e.length+1,value:e}):(this.LIST.push({chunkId:"LIST",chunkSize:8+e.length+1,format:"INFO",subChunks:[]}),this.LIST[this.LIST.length-1].subChunks.push({chunkId:t,chunkSize:e.length+1,value:e}))}deleteTag(t){let e=this.getTagIndex_(t);return null!==e.TAG&&(this.LIST[e.LIST].subChunks.splice(e.TAG,1),!0)}listTags(){let t=this.getLISTIndex("INFO"),e={};if(null!==t)for(let n=0,r=this.LIST[t].subChunks.length;n<r;n++)e[this.LIST[t].subChunks[n].chunkId]=this.LIST[t].subChunks[n].value;return e}getLISTIndex(t){for(let e=0,n=this.LIST.length;e<n;e++)if(this.LIST[e].format==t)return e;return null}getTagIndex_(t){let e={LIST:null,TAG:null};for(let n=0,r=this.LIST.length;n<r;n++)if("INFO"==this.LIST[n].format){e.LIST=n;for(let r=0,i=this.LIST[n].subChunks.length;r<i;r++)if(this.LIST[n].subChunks[r].chunkId==t){e.TAG=r;break}break}return e}}class ht extends lt{listCuePoints(){let t=this.getCuePoints_();for(let e=0,n=t.length;e<n;e++)t[e].position=t[e].dwSampleOffset/this.fmt.sampleRate*1e3,t[e].dwSampleLength?(t[e].end=t[e].dwSampleLength/this.fmt.sampleRate*1e3,t[e].end+=t[e].position):t[e].end=null,delete t[e].value;return t}setCuePoint(t){this.cue.chunkId="cue ",t.label||(t.label="");let e=this.getCuePoints_();this.clearLISTadtl_(),this.cue.points=[],t.dwSampleOffset=t.position*this.fmt.sampleRate/1e3,t.dwSampleLength=0,t.end&&(t.dwSampleLength=t.end*this.fmt.sampleRate/1e3-t.dwSampleOffset),0===e.length?this.setCuePoint_(t,1):this.setCuePointInOrder_(e,t),this.cue.dwCuePoints=this.cue.points.length}deleteCuePoint(t){this.cue.chunkId="cue ";let e=this.getCuePoints_();this.clearLISTadtl_();let n=this.cue.points.length;this.cue.points=[];for(let r=0;r<n;r++)r+1!==t&&this.setCuePoint_(e[r],r+1);this.cue.dwCuePoints=this.cue.points.length,this.cue.dwCuePoints?this.cue.chunkId="cue ":(this.cue.chunkId="",this.clearLISTadtl_())}updateLabel(t,e){let n=this.getLISTIndex("adtl");if(null!==n)for(let r=0,i=this.LIST[n].subChunks.length;r<i;r++)this.LIST[n].subChunks[r].dwName==t&&(this.LIST[n].subChunks[r].value=e)}getCuePoints_(){let t=[];for(let e=0;e<this.cue.points.length;e++){let n=this.cue.points[e],r=this.getDataForCuePoint_(n.dwName);r.label=r.value?r.value:"",r.dwPosition=n.dwPosition,r.fccChunk=n.fccChunk,r.dwChunkStart=n.dwChunkStart,r.dwBlockStart=n.dwBlockStart,r.dwSampleOffset=n.dwSampleOffset,t.push(r)}return t}getDataForCuePoint_(t){let e=this.getLISTIndex("adtl"),n={};return null!==e&&this.getCueDataFromLIST_(n,e,t),n}getCueDataFromLIST_(t,e,n){for(let r=0,i=this.LIST[e].subChunks.length;r<i;r++)if(this.LIST[e].subChunks[r].dwName==n){let n=this.LIST[e].subChunks[r];t.value=n.value||t.value,t.dwName=n.dwName||0,t.dwSampleLength=n.dwSampleLength||0,t.dwPurposeID=n.dwPurposeID||0,t.dwCountry=n.dwCountry||0,t.dwLanguage=n.dwLanguage||0,t.dwDialect=n.dwDialect||0,t.dwCodePage=n.dwCodePage||0}}setCuePoint_(t,e){this.cue.points.push({dwName:e,dwPosition:t.dwPosition?t.dwPosition:0,fccChunk:t.fccChunk?t.fccChunk:"data",dwChunkStart:t.dwChunkStart?t.dwChunkStart:0,dwBlockStart:t.dwBlockStart?t.dwBlockStart:0,dwSampleOffset:t.dwSampleOffset}),this.setLabl_(t,e)}setCuePointInOrder_(t,e){let n=!1;for(let r=0;r<t.length;r++)t[r].dwSampleOffset>e.dwSampleOffset&&!n?(this.setCuePoint_(e,r+1),this.setCuePoint_(t[r],r+2),n=!0):this.setCuePoint_(t[r],n?r+2:r+1);n||this.setCuePoint_(e,this.cue.points.length+1)}clearLISTadtl_(){for(let t=0,e=this.LIST.length;t<e;t++)"adtl"==this.LIST[t].format&&this.LIST.splice(t)}setLabl_(t,e){let n=this.getLISTIndex("adtl");null===n&&(this.LIST.push({chunkId:"LIST",chunkSize:4,format:"adtl",subChunks:[]}),n=this.LIST.length-1),this.setLabelText_(n,t,e),t.dwSampleLength&&this.setLtxtChunk_(n,t,e)}setLabelText_(t,e,n){this.LIST[t].subChunks.push({chunkId:"labl",chunkSize:4,dwName:n,value:e.label}),this.LIST[t].chunkSize+=12}setLtxtChunk_(t,e,n){this.LIST[t].subChunks.push({chunkId:"ltxt",chunkSize:20,dwName:n,dwSampleLength:e.dwSampleLength,dwPurposeID:e.dwPurposeID||0,dwCountry:e.dwCountry||0,dwLanguage:e.dwLanguage||0,dwDialect:e.dwDialect||0,dwCodePage:e.dwCodePage||0,value:e.label}),this.LIST[t].chunkSize+=28}}class ct{constructor(t,e,n){this.length_=t,this.scaleFactor_=(t-1)/e,this.interpolate=this.sinc,"point"===n.method?this.interpolate=this.point:"linear"===n.method?this.interpolate=this.linear:"cubic"===n.method&&(this.interpolate=this.cubic),this.tangentFactor_=1-Math.max(0,Math.min(1,n.tension||0)),this.sincFilterSize_=n.sincFilterSize||1,this.kernel_=function(t){return function(e){return function(t){return 0===t?1:Math.sin(Math.PI*t)/(Math.PI*t)}(e)*t(e)}}(n.sincWindow||ft)}point(t,e){return this.getClippedInput_(Math.round(this.scaleFactor_*t),e)}linear(t,e){t=this.scaleFactor_*t;let n=Math.floor(t);return(1-(t-=n))*this.getClippedInput_(n,e)+t*this.getClippedInput_(n+1,e)}cubic(t,e){t=this.scaleFactor_*t;let n=Math.floor(t),r=[this.getTangent_(n,e),this.getTangent_(n+1,e)],i=[this.getClippedInput_(n,e),this.getClippedInput_(n+1,e)],a=(t-=n)*t,s=t*a;return(2*s-3*a+1)*i[0]+(s-2*a+t)*r[0]+(-2*s+3*a)*i[1]+(s-a)*r[1]}sinc(t,e){t=this.scaleFactor_*t;let n=Math.floor(t),r=n-this.sincFilterSize_+1,i=n+this.sincFilterSize_,a=0;for(let n=r;n<=i;n++)a+=this.kernel_(t-n)*this.getClippedInput_(n,e);return a}getTangent_(t,e){return this.tangentFactor_*(this.getClippedInput_(t+1,e)-this.getClippedInput_(t-1,e))/2}getClippedInput_(t,e){return 0<=t&&t<this.length_?e[t]:0}}function ft(t){return Math.exp(-t/2*t/2)}const dt={point:!1,linear:!1,cubic:!0,sinc:!0},pt={IIR:16,FIR:71},vt={IIR:class{constructor(t,e,n){let r=[];for(let i=0;i<t;i++)r.push(this.getCoeffs_({Fs:e,Fc:n,Q:.5/Math.sin(Math.PI/(2*t)*(i+.5))}));this.stages=[];for(let t=0;t<r.length;t++)this.stages[t]={b0:r[t].b[0],b1:r[t].b[1],b2:r[t].b[2],a1:r[t].a[0],a2:r[t].a[1],k:r[t].k,z:[0,0]}}filter(t){let e=t;for(let t=0,n=this.stages.length;t<n;t++)e=this.runStage_(t,e);return e}getCoeffs_(t){let e={a:[],b:[]},n=this.preCalc_(t,e);return e.k=1,e.b.push((1-n.cw)/(2*n.a0)),e.b.push(2*e.b[0]),e.b.push(e.b[0]),e}preCalc_(t,e){let n={},r=2*Math.PI*t.Fc/t.Fs;return n.alpha=Math.sin(r)/(2*t.Q),n.cw=Math.cos(r),n.a0=1+n.alpha,e.a0=n.a0,e.a.push(-2*n.cw/n.a0),e.k=1,e.a.push((1-n.alpha)/n.a0),n}runStage_(t,e){let n=e*this.stages[t].k-this.stages[t].a1*this.stages[t].z[0]-this.stages[t].a2*this.stages[t].z[1],r=this.stages[t].b0*n+this.stages[t].b1*this.stages[t].z[0]+this.stages[t].b2*this.stages[t].z[1];return this.stages[t].z[1]=this.stages[t].z[0],this.stages[t].z[0]=n,r}reset(){for(let t=0;t<this.stages.length;t++)this.stages[t].z=[0,0]}},FIR:class{constructor(t,e,n){let r=2*Math.PI*n/e,i=0;this.filters=[];for(let e=0;e<=t;e++)e-t/2==0?this.filters[e]=r:(this.filters[e]=Math.sin(r*(e-t/2))/(e-t/2),this.filters[e]*=.54-.46*Math.cos(2*Math.PI*e/t)),i+=this.filters[e];for(let e=0;e<=t;e++)this.filters[e]/=i;this.z=this.initZ_()}filter(t){this.z.buf[this.z.pointer]=t;let e=0;for(let t=0,n=this.z.buf.length;t<n;t++)e+=this.filters[t]*this.z.buf[(this.z.pointer+t)%this.z.buf.length];return this.z.pointer=(this.z.pointer+1)%this.z.buf.length,e}reset(){this.z=this.initZ_()}initZ_(){let t=[];for(let e=0;e<this.filters.length-1;e++)t.push(0);return{buf:t,pointer:0}}}};function mt(t,e,n,r=null){r=r||{};let i=(n-e)/e+1,a=new Float64Array(t.length*i);r.method=r.method||"cubic";let s=new ct(t.length,a.length,{method:r.method,tension:r.tension||0,sincFilterSize:r.sincFilterSize||6,sincWindow:r.sincWindow||void 0,clip:r.clip||"mirror"});if(void 0===r.LPF&&(r.LPF=dt[r.method]),r.LPF){r.LPFType=r.LPFType||"IIR";const i=vt[r.LPFType];if(n>e){!function(t,e,n,r){for(let i=0,a=e.length;i<a;i++)e[i]=r.filter(n.interpolate(i,t));r.reset();for(let t=e.length-1;t>=0;t--)e[t]=r.filter(e[t])}(t,a,s,new i(r.LPForder||pt[r.LPFType],n,e/2))}else{!function(t,e,n,r){for(let e=0,n=t.length;e<n;e++)t[e]=r.filter(t[e]);r.reset();for(let e=t.length-1;e>=0;e--)t[e]=r.filter(t[e]);gt(t,e,n)}(t,a,s,new i(r.LPForder||pt[r.LPFType],e,n/2))}}else gt(t,a,s);return a}function gt(t,e,n){for(let r=0,i=e.length;r<i;r++)e[r]=n.interpolate(r,t)}class yt extends ht{toRIFF(){let t=new Float64Array(bt(this.data.samples.length,this.dataType.bits/8));J(this.data.samples,this.dataType,t,0,this.data.samples.length),this.fromExisting_(this.fmt.numChannels,this.fmt.sampleRate,this.bitDepth,t,{container:"RIFF"})}toRIFX(){let t=new Float64Array(bt(this.data.samples.length,this.dataType.bits/8));J(this.data.samples,this.dataType,t,0,this.data.samples.length),this.fromExisting_(this.fmt.numChannels,this.fmt.sampleRate,this.bitDepth,t,{container:"RIFX"})}toIMAADPCM(){if(8e3!==this.fmt.sampleRate)throw new Error("Only 8000 Hz files can be compressed as IMA-ADPCM.");if(1!==this.fmt.numChannels)throw new Error("Only mono files can be compressed as IMA-ADPCM.");{this.assure16Bit_();let t=new Int16Array(bt(this.data.samples.length,2));J(this.data.samples,this.dataType,t,0,this.data.samples.length),this.fromExisting_(this.fmt.numChannels,this.fmt.sampleRate,"4",function(t){let e={index:0,predicted:0,step:7},n=new Uint8Array(t.length),r=[],i=0,a=0;for(let s=0,o=t.length;s<o;s++)s%505==0&&0!=s&&(n.set(O(r,e),i),i+=256,r=[],a++),r.push(t[s]);let s=t.length/2;return s%2&&s++,n.slice(0,s+512+4*a)}(t),{container:this.correctContainer_()})}}fromIMAADPCM(t="16"){this.fromExisting_(this.fmt.numChannels,this.fmt.sampleRate,"16",function(t,e=256){let n={index:0,predicted:0,step:7},r=new Int16Array(2*t.length),i=[],a=0;for(let s=0,o=t.length;s<o;s++){if(s%e==0&&0!=s){let t=R(i,n);r.set(t,a),a+=t.length,i=[]}i.push(t[s])}return r}(this.data.samples,this.fmt.blockAlign),{container:this.correctContainer_()}),"16"!=t&&this.toBitDepth(t)}toALaw(){this.assure16Bit_();let t=new Int16Array(bt(this.data.samples.length,2));J(this.data.samples,this.dataType,t,0,this.data.samples.length),this.fromExisting_(this.fmt.numChannels,this.fmt.sampleRate,"8a",function(t){let e=new Uint8Array(t.length);for(let n=0,r=t.length;n<r;n++)e[n]=D(t[n]);return e}(t),{container:this.correctContainer_()})}fromALaw(t="16"){this.fromExisting_(this.fmt.numChannels,this.fmt.sampleRate,"16",function(t){let e=new Int16Array(t.length);for(let n=0,r=t.length;n<r;n++)e[n]=B(t[n]);return e}(this.data.samples),{container:this.correctContainer_()}),"16"!=t&&this.toBitDepth(t)}toMuLaw(){this.assure16Bit_();let t=new Int16Array(bt(this.data.samples.length,2));J(this.data.samples,this.dataType,t,0,this.data.samples.length),this.fromExisting_(this.fmt.numChannels,this.fmt.sampleRate,"8m",function(t){let e=new Uint8Array(t.length);for(let n=0,r=t.length;n<r;n++)e[n]=F(t[n]);return e}(t),{container:this.correctContainer_()})}fromMuLaw(t="16"){this.fromExisting_(this.fmt.numChannels,this.fmt.sampleRate,"16",function(t){let e=new Int16Array(t.length);for(let n=0,r=t.length;n<r;n++)e[n]=U(t[n]);return e}(this.data.samples),{container:this.correctContainer_()}),"16"!=t&&this.toBitDepth(t)}toBitDepth(t,e=!0){let n=t,r=this.bitDepth;e||("32f"!=t&&(n=this.dataType.bits.toString()),r=""+this.dataType.bits),this.assureUncompressed_();let i=this.getSamples(!0),a=new Float64Array(i.length);A(i,r,a,n),this.fromExisting_(this.fmt.numChannels,this.fmt.sampleRate,t,a,{container:this.correctContainer_()})}toSampleRate(t,e){this.validateResample_(t);let n=this.getSamples(),r=[];if(n.constructor===Float64Array)r=mt(n,this.fmt.sampleRate,t,e);else for(let i=0;i<n.length;i++)r.push(mt(n[i],this.fmt.sampleRate,t,e));this.fromExisting_(this.fmt.numChannels,t,this.bitDepth,r,{container:this.correctContainer_()})}validateResample_(t){if(!ot(this.fmt.numChannels,this.fmt.bitsPerSample,t))throw new Error("Invalid sample rate.");if(["4","8a","8m"].indexOf(this.bitDepth)>-1)throw new Error("wavefile can't change the sample rate of compressed files.")}assure16Bit_(){this.assureUncompressed_(),"16"!=this.bitDepth&&this.toBitDepth("16")}assureUncompressed_(){"8a"==this.bitDepth?this.fromALaw():"8m"==this.bitDepth?this.fromMuLaw():"4"==this.bitDepth&&this.fromIMAADPCM()}correctContainer_(){return"RF64"==this.container?"RIFF":this.container}fromExisting_(t,e,n,r,i){let a=new ht;Object.assign(this.fmt,a.fmt),Object.assign(this.fact,a.fact),Object.assign(this.ds64,a.ds64),Object.assign(this.data,a.data),this.newWavFile_(t,e,n,r,i)}}function bt(t,e){let n=t/e;return n%2&&n++,n}class wt extends yt{constructor(t){super(),t&&this.fromBuffer(t)}fromBase64(t){this.fromBuffer(function(t){let e=new Uint8Array(256);for(let t=0;t<_.length;t++)e[_.charCodeAt(t)]=t;let n=.75*t.length;"="===t[t.length-1]&&(n--,"="===t[t.length-2]&&n--);let r=new Uint8Array(n);for(let n=0,i=0;n<t.length;n+=4){let a=e[t.charCodeAt(n)],s=e[t.charCodeAt(n+1)],o=e[t.charCodeAt(n+2)],u=e[t.charCodeAt(n+3)];r[i++]=a<<2|s>>4,r[i++]=(15&s)<<4|o>>2,r[i++]=(3&o)<<6|63&u}return r}(t))}toBase64(){return function(t){let e="";for(let n=0;n<t.length;n+=3)e+=_[t[n]>>2],e+=_[(3&t[n])<<4|t[n+1]>>4],e+=_[(15&t[n+1])<<2|t[n+2]>>6],e+=_[63&t[n+2]];return t.length%3==2?e=e.substring(0,e.length-1)+"=":t.length%3==1&&(e=e.substring(0,e.length-2)+"=="),e}(this.toBuffer())}toDataURI(){return"data:audio/wav;base64,"+this.toBase64()}fromDataURI(t){this.fromBase64(t.replace("data:audio/wav;base64,",""))}}var kt,_t,At={};kt=At,_t=function(){function e(t,e,n){var r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){s(r.response,e,n)},r.onerror=function(){console.error("could not download file")},r.send()}function n(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch(t){}return 200<=e.status&&299>=e.status}function r(t){try{t.dispatchEvent(new MouseEvent("click"))}catch(n){var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var i="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof t&&t.global===t?t:void 0,a=i.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),s=i.saveAs||("object"!=typeof window||window!==i?function(){}:"download"in HTMLAnchorElement.prototype&&!a?function(t,a,s){var o=i.URL||i.webkitURL,u=document.createElement("a");a=a||t.name||"download",u.download=a,u.rel="noopener","string"==typeof t?(u.href=t,u.origin===location.origin?r(u):n(u.href)?e(t,a,s):r(u,u.target="_blank")):(u.href=o.createObjectURL(t),setTimeout((function(){o.revokeObjectURL(u.href)}),4e4),setTimeout((function(){r(u)}),0))}:"msSaveOrOpenBlob"in navigator?function(t,i,a){if(i=i||t.name||"download","string"!=typeof t)navigator.msSaveOrOpenBlob((o=t,void 0===(u=a)?u={autoBom:!1}:"object"!=typeof u&&(console.warn("Deprecated: Expected third argument to be a object"),u={autoBom:!u}),u.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(o.type)?new Blob(["\ufeff",o],{type:o.type}):o),i);else if(n(t))e(t,i,a);else{var s=document.createElement("a");s.href=t,s.target="_blank",setTimeout((function(){r(s)}))}var o,u}:function(t,n,r,s){if((s=s||open("","_blank"))&&(s.document.title=s.document.body.innerText="downloading..."),"string"==typeof t)return e(t,n,r);var o="application/octet-stream"===t.type,u=/constructor/i.test(i.HTMLElement)||i.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||o&&u||a)&&"undefined"!=typeof FileReader){var h=new FileReader;h.onloadend=function(){var t=h.result;t=l?t:t.replace(/^data:[^;]*;/,"data:attachment/file;"),s?s.location.href=t:location=t,s=null},h.readAsDataURL(t)}else{var c=i.URL||i.webkitURL,f=c.createObjectURL(t);s?s.location=f:location.href=f,s=null,setTimeout((function(){c.revokeObjectURL(f)}),4e4)}});i.saveAs=s.saveAs=s,At=s},"function"==typeof define&&define.amd?define([],_t):void 0!==At?_t():(_t(),kt.FileSaver={});class Ct{async loadMarkersFromFile(t,e){let n=new FileReader,r=[];n.readAsDataURL(t),n.onloadend=()=>{let t=new wt;const i=n.result.replace("data:","").replace(/^.+,/,"");t.fromBase64(i),r=t.listCuePoints(),e(r)}}createFileFromBuffer(t,e){let n=new wt;n.fromScratch(2,48e3,"32f",t);for(let t of e)"top"!=t.position&&n.setCuePoint({position:1e3*t.time});const r=n.toDataURI();At.saveAs(r,"export.wav")}}new class{constructor(){this.scrollPos=0,this.scrollMin=0,this.activeFile=null,this.playOffset=0,this.wavesurfer=e(o).create({container:"#waveform",waveColor:"#ffd000",progressColor:"white",plugins:[u.create()]}),this.dropHandler=new l(this),this.markerHandler=new k(this),this.controlsHandler=new f(this),this.wavHandler=new Ct,this.wavesurfer.on("ready",this.onReady.bind(this))}onReady=async()=>{this.scrollMin=Math.round(this.wavesurfer.container.scrollWidth/this.wavesurfer.getDuration()),this.scrollPos=this.scrollMin,this.wavHandler.loadMarkersFromFile(this.activeFile,this.markerHandler.addMarkers)}};
//# sourceMappingURL=index.a75e2393.js.map
